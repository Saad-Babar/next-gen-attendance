(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();function Zv(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var md={exports:{}},sl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f_;function nA(){if(f_)return sl;f_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(s,l,c){var f=null;if(c!==void 0&&(f=""+c),l.key!==void 0&&(f=""+l.key),"key"in l){c={};for(var m in l)m!=="key"&&(c[m]=l[m])}else c=l;return l=c.ref,{$$typeof:r,type:s,key:f,ref:l!==void 0?l:null,props:c}}return sl.Fragment=t,sl.jsx=i,sl.jsxs=i,sl}var d_;function iA(){return d_||(d_=1,md.exports=nA()),md.exports}var Y=iA(),gd={exports:{}},Ct={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m_;function rA(){if(m_)return Ct;m_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.iterator;function R(D){return D===null||typeof D!="object"?null:(D=S&&D[S]||D["@@iterator"],typeof D=="function"?D:null)}var U={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H=Object.assign,X={};function B(D,F,rt){this.props=D,this.context=F,this.refs=X,this.updater=rt||U}B.prototype.isReactComponent={},B.prototype.setState=function(D,F){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,F,"setState")},B.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function nt(){}nt.prototype=B.prototype;function et(D,F,rt){this.props=D,this.context=F,this.refs=X,this.updater=rt||U}var st=et.prototype=new nt;st.constructor=et,H(st,B.prototype),st.isPureReactComponent=!0;var pt=Array.isArray,ut={H:null,A:null,T:null,S:null,V:null},ht=Object.prototype.hasOwnProperty;function N(D,F,rt,it,lt,At){return rt=At.ref,{$$typeof:r,type:D,key:F,ref:rt!==void 0?rt:null,props:At}}function b(D,F){return N(D.type,F,void 0,void 0,void 0,D.props)}function w(D){return typeof D=="object"&&D!==null&&D.$$typeof===r}function V(D){var F={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(rt){return F[rt]})}var O=/\/+/g;function M(D,F){return typeof D=="object"&&D!==null&&D.key!=null?V(""+D.key):F.toString(36)}function I(){}function ie(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(I,I):(D.status="pending",D.then(function(F){D.status==="pending"&&(D.status="fulfilled",D.value=F)},function(F){D.status==="pending"&&(D.status="rejected",D.reason=F)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function te(D,F,rt,it,lt){var At=typeof D;(At==="undefined"||At==="boolean")&&(D=null);var ct=!1;if(D===null)ct=!0;else switch(At){case"bigint":case"string":case"number":ct=!0;break;case"object":switch(D.$$typeof){case r:case t:ct=!0;break;case E:return ct=D._init,te(ct(D._payload),F,rt,it,lt)}}if(ct)return lt=lt(D),ct=it===""?"."+M(D,0):it,pt(lt)?(rt="",ct!=null&&(rt=ct.replace(O,"$&/")+"/"),te(lt,F,rt,"",function(en){return en})):lt!=null&&(w(lt)&&(lt=b(lt,rt+(lt.key==null||D&&D.key===lt.key?"":(""+lt.key).replace(O,"$&/")+"/")+ct)),F.push(lt)),1;ct=0;var Yt=it===""?".":it+":";if(pt(D))for(var zt=0;zt<D.length;zt++)it=D[zt],At=Yt+M(it,zt),ct+=te(it,F,rt,At,lt);else if(zt=R(D),typeof zt=="function")for(D=zt.call(D),zt=0;!(it=D.next()).done;)it=it.value,At=Yt+M(it,zt++),ct+=te(it,F,rt,At,lt);else if(At==="object"){if(typeof D.then=="function")return te(ie(D),F,rt,it,lt);throw F=String(D),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.")}return ct}function K(D,F,rt){if(D==null)return D;var it=[],lt=0;return te(D,it,"","",function(At){return F.call(rt,At,lt++)}),it}function at(D){if(D._status===-1){var F=D._result;F=F(),F.then(function(rt){(D._status===0||D._status===-1)&&(D._status=1,D._result=rt)},function(rt){(D._status===0||D._status===-1)&&(D._status=2,D._result=rt)}),D._status===-1&&(D._status=0,D._result=F)}if(D._status===1)return D._result.default;throw D._result}var yt=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var F=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(F))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function mt(){}return Ct.Children={map:K,forEach:function(D,F,rt){K(D,function(){F.apply(this,arguments)},rt)},count:function(D){var F=0;return K(D,function(){F++}),F},toArray:function(D){return K(D,function(F){return F})||[]},only:function(D){if(!w(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Ct.Component=B,Ct.Fragment=i,Ct.Profiler=l,Ct.PureComponent=et,Ct.StrictMode=s,Ct.Suspense=p,Ct.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ut,Ct.__COMPILER_RUNTIME={__proto__:null,c:function(D){return ut.H.useMemoCache(D)}},Ct.cache=function(D){return function(){return D.apply(null,arguments)}},Ct.cloneElement=function(D,F,rt){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var it=H({},D.props),lt=D.key,At=void 0;if(F!=null)for(ct in F.ref!==void 0&&(At=void 0),F.key!==void 0&&(lt=""+F.key),F)!ht.call(F,ct)||ct==="key"||ct==="__self"||ct==="__source"||ct==="ref"&&F.ref===void 0||(it[ct]=F[ct]);var ct=arguments.length-2;if(ct===1)it.children=rt;else if(1<ct){for(var Yt=Array(ct),zt=0;zt<ct;zt++)Yt[zt]=arguments[zt+2];it.children=Yt}return N(D.type,lt,void 0,void 0,At,it)},Ct.createContext=function(D){return D={$$typeof:f,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:c,_context:D},D},Ct.createElement=function(D,F,rt){var it,lt={},At=null;if(F!=null)for(it in F.key!==void 0&&(At=""+F.key),F)ht.call(F,it)&&it!=="key"&&it!=="__self"&&it!=="__source"&&(lt[it]=F[it]);var ct=arguments.length-2;if(ct===1)lt.children=rt;else if(1<ct){for(var Yt=Array(ct),zt=0;zt<ct;zt++)Yt[zt]=arguments[zt+2];lt.children=Yt}if(D&&D.defaultProps)for(it in ct=D.defaultProps,ct)lt[it]===void 0&&(lt[it]=ct[it]);return N(D,At,void 0,void 0,null,lt)},Ct.createRef=function(){return{current:null}},Ct.forwardRef=function(D){return{$$typeof:m,render:D}},Ct.isValidElement=w,Ct.lazy=function(D){return{$$typeof:E,_payload:{_status:-1,_result:D},_init:at}},Ct.memo=function(D,F){return{$$typeof:y,type:D,compare:F===void 0?null:F}},Ct.startTransition=function(D){var F=ut.T,rt={};ut.T=rt;try{var it=D(),lt=ut.S;lt!==null&&lt(rt,it),typeof it=="object"&&it!==null&&typeof it.then=="function"&&it.then(mt,yt)}catch(At){yt(At)}finally{ut.T=F}},Ct.unstable_useCacheRefresh=function(){return ut.H.useCacheRefresh()},Ct.use=function(D){return ut.H.use(D)},Ct.useActionState=function(D,F,rt){return ut.H.useActionState(D,F,rt)},Ct.useCallback=function(D,F){return ut.H.useCallback(D,F)},Ct.useContext=function(D){return ut.H.useContext(D)},Ct.useDebugValue=function(){},Ct.useDeferredValue=function(D,F){return ut.H.useDeferredValue(D,F)},Ct.useEffect=function(D,F,rt){var it=ut.H;if(typeof rt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return it.useEffect(D,F)},Ct.useId=function(){return ut.H.useId()},Ct.useImperativeHandle=function(D,F,rt){return ut.H.useImperativeHandle(D,F,rt)},Ct.useInsertionEffect=function(D,F){return ut.H.useInsertionEffect(D,F)},Ct.useLayoutEffect=function(D,F){return ut.H.useLayoutEffect(D,F)},Ct.useMemo=function(D,F){return ut.H.useMemo(D,F)},Ct.useOptimistic=function(D,F){return ut.H.useOptimistic(D,F)},Ct.useReducer=function(D,F,rt){return ut.H.useReducer(D,F,rt)},Ct.useRef=function(D){return ut.H.useRef(D)},Ct.useState=function(D){return ut.H.useState(D)},Ct.useSyncExternalStore=function(D,F,rt){return ut.H.useSyncExternalStore(D,F,rt)},Ct.useTransition=function(){return ut.H.useTransition()},Ct.version="19.1.1",Ct}var g_;function lm(){return g_||(g_=1,gd.exports=rA()),gd.exports}var G=lm();const aA=Zv(G);var pd={exports:{}},ol={},yd={exports:{}},_d={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p_;function sA(){return p_||(p_=1,(function(r){function t(K,at){var yt=K.length;K.push(at);t:for(;0<yt;){var mt=yt-1>>>1,D=K[mt];if(0<l(D,at))K[mt]=at,K[yt]=D,yt=mt;else break t}}function i(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var at=K[0],yt=K.pop();if(yt!==at){K[0]=yt;t:for(var mt=0,D=K.length,F=D>>>1;mt<F;){var rt=2*(mt+1)-1,it=K[rt],lt=rt+1,At=K[lt];if(0>l(it,yt))lt<D&&0>l(At,it)?(K[mt]=At,K[lt]=yt,mt=lt):(K[mt]=it,K[rt]=yt,mt=rt);else if(lt<D&&0>l(At,yt))K[mt]=At,K[lt]=yt,mt=lt;else break t}}return at}function l(K,at){var yt=K.sortIndex-at.sortIndex;return yt!==0?yt:K.id-at.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],y=[],E=1,S=null,R=3,U=!1,H=!1,X=!1,B=!1,nt=typeof setTimeout=="function"?setTimeout:null,et=typeof clearTimeout=="function"?clearTimeout:null,st=typeof setImmediate<"u"?setImmediate:null;function pt(K){for(var at=i(y);at!==null;){if(at.callback===null)s(y);else if(at.startTime<=K)s(y),at.sortIndex=at.expirationTime,t(p,at);else break;at=i(y)}}function ut(K){if(X=!1,pt(K),!H)if(i(p)!==null)H=!0,ht||(ht=!0,M());else{var at=i(y);at!==null&&te(ut,at.startTime-K)}}var ht=!1,N=-1,b=5,w=-1;function V(){return B?!0:!(r.unstable_now()-w<b)}function O(){if(B=!1,ht){var K=r.unstable_now();w=K;var at=!0;try{t:{H=!1,X&&(X=!1,et(N),N=-1),U=!0;var yt=R;try{e:{for(pt(K),S=i(p);S!==null&&!(S.expirationTime>K&&V());){var mt=S.callback;if(typeof mt=="function"){S.callback=null,R=S.priorityLevel;var D=mt(S.expirationTime<=K);if(K=r.unstable_now(),typeof D=="function"){S.callback=D,pt(K),at=!0;break e}S===i(p)&&s(p),pt(K)}else s(p);S=i(p)}if(S!==null)at=!0;else{var F=i(y);F!==null&&te(ut,F.startTime-K),at=!1}}break t}finally{S=null,R=yt,U=!1}at=void 0}}finally{at?M():ht=!1}}}var M;if(typeof st=="function")M=function(){st(O)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,ie=I.port2;I.port1.onmessage=O,M=function(){ie.postMessage(null)}}else M=function(){nt(O,0)};function te(K,at){N=nt(function(){K(r.unstable_now())},at)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(K){K.callback=null},r.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<K?Math.floor(1e3/K):5},r.unstable_getCurrentPriorityLevel=function(){return R},r.unstable_next=function(K){switch(R){case 1:case 2:case 3:var at=3;break;default:at=R}var yt=R;R=at;try{return K()}finally{R=yt}},r.unstable_requestPaint=function(){B=!0},r.unstable_runWithPriority=function(K,at){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var yt=R;R=K;try{return at()}finally{R=yt}},r.unstable_scheduleCallback=function(K,at,yt){var mt=r.unstable_now();switch(typeof yt=="object"&&yt!==null?(yt=yt.delay,yt=typeof yt=="number"&&0<yt?mt+yt:mt):yt=mt,K){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=yt+D,K={id:E++,callback:at,priorityLevel:K,startTime:yt,expirationTime:D,sortIndex:-1},yt>mt?(K.sortIndex=yt,t(y,K),i(p)===null&&K===i(y)&&(X?(et(N),N=-1):X=!0,te(ut,yt-mt))):(K.sortIndex=D,t(p,K),H||U||(H=!0,ht||(ht=!0,M()))),K},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(K){var at=R;return function(){var yt=R;R=at;try{return K.apply(this,arguments)}finally{R=yt}}}})(_d)),_d}var y_;function oA(){return y_||(y_=1,yd.exports=sA()),yd.exports}var vd={exports:{}},Qe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var __;function lA(){if(__)return Qe;__=1;var r=lm();function t(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(p,y,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:p,containerInfo:y,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Qe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Qe.createPortal=function(p,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(p,y,null,E)},Qe.flushSync=function(p){var y=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=y,s.p=E,s.d.f()}},Qe.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},Qe.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Qe.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var E=y.as,S=m(E,y.crossOrigin),R=typeof y.integrity=="string"?y.integrity:void 0,U=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:R,fetchPriority:U}):E==="script"&&s.d.X(p,{crossOrigin:S,integrity:R,fetchPriority:U,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Qe.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},Qe.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,S=m(E,y.crossOrigin);s.d.L(p,E,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Qe.preloadModule=function(p,y){if(typeof p=="string")if(y){var E=m(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},Qe.requestFormReset=function(p){s.d.r(p)},Qe.unstable_batchedUpdates=function(p,y){return p(y)},Qe.useFormState=function(p,y,E){return f.H.useFormState(p,y,E)},Qe.useFormStatus=function(){return f.H.useHostTransitionStatus()},Qe.version="19.1.1",Qe}var v_;function uA(){if(v_)return vd.exports;v_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),vd.exports=lA(),vd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E_;function cA(){if(E_)return ol;E_=1;var r=oA(),t=lm(),i=uA();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function f(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function m(e){if(c(e)!==e)throw Error(s(188))}function p(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(s(188));return n!==e?null:e}for(var a=e,o=n;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),e;if(d===o)return m(h),n;d=d.sibling}throw Error(s(188))}if(a.return!==o.return)a=h,o=d;else{for(var v=!1,T=h.child;T;){if(T===a){v=!0,a=h,o=d;break}if(T===o){v=!0,o=h,a=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===a){v=!0,a=d,o=h;break}if(T===o){v=!0,o=d,a=h;break}T=T.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:n}function y(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=y(e),n!==null)return n;e=e.sibling}return null}var E=Object.assign,S=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),U=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),X=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),nt=Symbol.for("react.provider"),et=Symbol.for("react.consumer"),st=Symbol.for("react.context"),pt=Symbol.for("react.forward_ref"),ut=Symbol.for("react.suspense"),ht=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function M(e){return e===null||typeof e!="object"?null:(e=O&&e[O]||e["@@iterator"],typeof e=="function"?e:null)}var I=Symbol.for("react.client.reference");function ie(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===I?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case H:return"Fragment";case B:return"Profiler";case X:return"StrictMode";case ut:return"Suspense";case ht:return"SuspenseList";case w:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case U:return"Portal";case st:return(e.displayName||"Context")+".Provider";case et:return(e._context.displayName||"Context")+".Consumer";case pt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case N:return n=e.displayName||null,n!==null?n:ie(e.type)||"Memo";case b:n=e._payload,e=e._init;try{return ie(e(n))}catch{}}return null}var te=Array.isArray,K=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,yt={pending:!1,data:null,method:null,action:null},mt=[],D=-1;function F(e){return{current:e}}function rt(e){0>D||(e.current=mt[D],mt[D]=null,D--)}function it(e,n){D++,mt[D]=e.current,e.current=n}var lt=F(null),At=F(null),ct=F(null),Yt=F(null);function zt(e,n){switch(it(ct,n),it(At,e),it(lt,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?By(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=By(n),e=jy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}rt(lt),it(lt,e)}function en(){rt(lt),rt(At),rt(ct)}function Ln(e){e.memoizedState!==null&&it(Yt,e);var n=lt.current,a=jy(n,e.type);n!==a&&(it(At,e),it(lt,a))}function Xe(e){At.current===e&&(rt(lt),rt(At)),Yt.current===e&&(rt(Yt),el._currentValue=yt)}var un=Object.prototype.hasOwnProperty,Fr=r.unstable_scheduleCallback,Gr=r.unstable_cancelCallback,Zs=r.unstable_shouldYield,zl=r.unstable_requestPaint,Tn=r.unstable_now,dh=r.unstable_getCurrentPriorityLevel,Js=r.unstable_ImmediatePriority,La=r.unstable_UserBlockingPriority,Qr=r.unstable_NormalPriority,mh=r.unstable_LowPriority,ka=r.unstable_IdlePriority,Ws=r.log,Bl=r.unstable_setDisableYieldValue,ue=null,Ft=null;function cn(e){if(typeof Ws=="function"&&Bl(e),Ft&&typeof Ft.setStrictMode=="function")try{Ft.setStrictMode(ue,e)}catch{}}var Fe=Math.clz32?Math.clz32:Yr,jl=Math.log,gh=Math.LN2;function Yr(e){return e>>>=0,e===0?32:31-(jl(e)/gh|0)|0}var Kr=256,$r=4194304;function kn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function za(e,n,a){var o=e.pendingLanes;if(o===0)return 0;var h=0,d=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var T=o&134217727;return T!==0?(o=T&~d,o!==0?h=kn(o):(v&=T,v!==0?h=kn(v):a||(a=T&~e,a!==0&&(h=kn(a))))):(T=o&~d,T!==0?h=kn(T):v!==0?h=kn(v):a||(a=o&~e,a!==0&&(h=kn(a)))),h===0?0:n!==0&&n!==h&&(n&d)===0&&(d=h&-h,a=n&-n,d>=a||d===32&&(a&4194048)!==0)?n:h}function Xr(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function to(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function eo(){var e=Kr;return Kr<<=1,(Kr&4194048)===0&&(Kr=256),e}function no(){var e=$r;return $r<<=1,($r&62914560)===0&&($r=4194304),e}function Ei(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function Ti(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function io(e,n,a,o,h,d){var v=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var T=e.entanglements,C=e.expirationTimes,z=e.hiddenUpdates;for(a=v&~a;0<a;){var $=31-Fe(a),W=1<<$;T[$]=0,C[$]=-1;var j=z[$];if(j!==null)for(z[$]=null,$=0;$<j.length;$++){var q=j[$];q!==null&&(q.lane&=-536870913)}a&=~W}o!==0&&Yn(e,o,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(v&~n))}function Yn(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-Fe(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|a&4194090}function ro(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var o=31-Fe(a),h=1<<o;h&n|e[o]&n&&(e[o]|=n),a&=~h}}function er(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ba(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function nr(){var e=at.p;return e!==0?e:(e=window.event,e===void 0?32:s_(e.type))}function ql(e,n){var a=at.p;try{return at.p=e,n()}finally{at.p=a}}var re=Math.random().toString(36).slice(2),Se="__reactFiber$"+re,pe="__reactProps$"+re,An="__reactContainer$"+re,ao="__reactEvents$"+re,ph="__reactListeners$"+re,ir="__reactHandles$"+re,Hl="__reactResources$"+re,Zr="__reactMarker$"+re;function rr(e){delete e[Se],delete e[pe],delete e[ao],delete e[ph],delete e[ir]}function Ai(e){var n=e[Se];if(n)return n;for(var a=e.parentNode;a;){if(n=a[An]||a[Se]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=Gy(e);e!==null;){if(a=e[Se])return a;e=Gy(e)}return n}e=a,a=e.parentNode}return null}function Kn(e){if(e=e[Se]||e[An]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function $n(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function Ze(e){var n=e[Hl];return n||(n=e[Hl]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function fe(e){e[Zr]=!0}var so=new Set,ja={};function zn(e,n){Si(e,n),Si(e+"Capture",n)}function Si(e,n){for(ja[e]=n,e=0;e<n.length;e++)so.add(n[e])}var Fl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Gl={},Jr={};function Ql(e){return un.call(Jr,e)?!0:un.call(Gl,e)?!1:Fl.test(e)?Jr[e]=!0:(Gl[e]=!0,!1)}function ar(e,n,a){if(Ql(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function Xn(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function Ue(e,n,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+o)}}var Wr,Yl;function bi(e){if(Wr===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Wr=n&&n[1]||"",Yl=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Wr+e+Yl}var qa=!1;function Ha(e,n){if(!e||qa)return"";qa=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(q){var j=q}Reflect.construct(e,[],W)}else{try{W.call()}catch(q){j=q}e.call(W.prototype)}}else{try{throw Error()}catch(q){j=q}(W=e())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(q){if(q&&j&&typeof q.stack=="string")return[q.stack,j.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=o.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var C=v.split(`
`),z=T.split(`
`);for(h=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===C.length||h===z.length)for(o=C.length-1,h=z.length-1;1<=o&&0<=h&&C[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(C[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||C[o]!==z[h]){var $=`
`+C[o].replace(" at new "," at ");return e.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",e.displayName)),$}while(1<=o&&0<=h);break}}}finally{qa=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?bi(a):""}function oo(e){switch(e.tag){case 26:case 27:case 5:return bi(e.type);case 16:return bi("Lazy");case 13:return bi("Suspense");case 19:return bi("SuspenseList");case 0:case 15:return Ha(e.type,!1);case 11:return Ha(e.type.render,!1);case 1:return Ha(e.type,!0);case 31:return bi("Activity");default:return""}}function Fa(e){try{var n="";do n+=oo(e),e=e.return;while(e);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Je(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function lo(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function yh(e){var n=lo(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),o=""+e[n];if(!e.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(v){o=""+v,d.call(this,v)}}),Object.defineProperty(e,n,{enumerable:a.enumerable}),{getValue:function(){return o},setValue:function(v){o=""+v},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Ga(e){e._valueTracker||(e._valueTracker=yh(e))}function uo(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return e&&(o=lo(e)?e.checked?"true":"false":e.value),e=o,e!==a?(n.setValue(e),!0):!1}function ta(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var _h=/[\n"\\]/g;function ye(e){return e.replace(_h,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function hn(e,n,a,o,h,d,v,T){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),n!=null?v==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Je(n)):e.value!==""+Je(n)&&(e.value=""+Je(n)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),n!=null?sr(e,v,Je(n)):a!=null?sr(e,v,Je(a)):o!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+Je(T):e.removeAttribute("name")}function ea(e,n,a,o,h,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),n!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||n!=null))return;a=a!=null?""+Je(a):"",n=n!=null?""+Je(n):a,T||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=T?e.checked:!!o,e.defaultChecked=!!o,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v)}function sr(e,n,a){n==="number"&&ta(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Ri(e,n,a,o){if(e=e.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=n.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+Je(a),n=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function Kt(e,n,a){if(n!=null&&(n=""+Je(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+Je(a):""}function na(e,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(s(92));if(te(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=Je(n),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o)}function Sn(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var ia=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Kl(e,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,a):typeof a!="number"||a===0||ia.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function co(e,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&Kl(e,h,o)}else for(var d in n)n.hasOwnProperty(d)&&Kl(e,d,n[d])}function ho(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Eh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Qa(e){return Eh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var wi=null;function bn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ci=null,Ii=null;function fo(e){var n=Kn(e);if(n&&(e=n.stateNode)){var a=e[pe]||null;t:switch(e=n.stateNode,n.type){case"input":if(hn(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ye(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==e&&o.form===e.form){var h=o[pe]||null;if(!h)throw Error(s(90));hn(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===e.form&&uo(o)}break t;case"textarea":Kt(e,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&Ri(e,!!a.multiple,n,!1)}}}var Zn=!1;function $l(e,n,a){if(Zn)return e(n,a);Zn=!0;try{var o=e(n);return o}finally{if(Zn=!1,(Ci!==null||Ii!==null)&&(qu(),Ci&&(n=Ci,e=Ii,Ii=Ci=null,fo(n),e)))for(n=0;n<e.length;n++)fo(e[n])}}function ra(e,n){var a=e.stateNode;if(a===null)return null;var o=a[pe]||null;if(o===null)return null;a=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var Bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rn=!1;if(Bn)try{var aa={};Object.defineProperty(aa,"passive",{get:function(){Rn=!0}}),window.addEventListener("test",aa,aa),window.removeEventListener("test",aa,aa)}catch{Rn=!1}var Jn=null,or=null,Di=null;function mo(){if(Di)return Di;var e,n=or,a=n.length,o,h="value"in Jn?Jn.value:Jn.textContent,d=h.length;for(e=0;e<a&&n[e]===h[e];e++);var v=a-e;for(o=1;o<=v&&n[a-o]===h[d-o];o++);return Di=h.slice(e,1<o?1-o:void 0)}function Wn(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function ti(){return!0}function go(){return!1}function Ne(e){function n(a,o,h,d,v){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(a=e[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ti:go,this.isPropagationStopped=go,this}return E(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ti)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ti)},persist:function(){},isPersistent:ti}),n}var qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ya=Ne(qt),sa=E({},qt,{view:0,detail:0}),Xl=Ne(sa),Ka,$a,ei,oa=E({},sa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ca,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ei&&(ei&&e.type==="mousemove"?(Ka=e.screenX-ei.screenX,$a=e.screenY-ei.screenY):$a=Ka=0,ei=e),Ka)},movementY:function(e){return"movementY"in e?e.movementY:$a}}),wn=Ne(oa),Zl=E({},oa,{dataTransfer:0}),Th=Ne(Zl),la=E({},sa,{relatedTarget:0}),Xa=Ne(la),po=E({},qt,{animationName:0,elapsedTime:0,pseudoElement:0}),Za=Ne(po),Jl=E({},qt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ja=Ne(Jl),Ah=E({},qt,{data:0}),yo=Ne(Ah),ua={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _o(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=tu[e])?!!n[e]:!1}function ca(){return _o}var eu=E({},sa,{key:function(e){if(e.key){var n=ua[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Wn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Wl[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ca,charCode:function(e){return e.type==="keypress"?Wn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Wn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Wa=Ne(eu),nu=E({},oa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vo=Ne(nu),Ni=E({},sa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ca}),iu=Ne(Ni),ru=E({},qt,{propertyName:0,elapsedTime:0,pseudoElement:0}),au=Ne(ru),su=E({},oa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ts=Ne(su),We=E({},qt,{newState:0,oldState:0}),ou=Ne(We),lu=[9,13,27,32],ni=Bn&&"CompositionEvent"in window,u=null;Bn&&"documentMode"in document&&(u=document.documentMode);var g=Bn&&"TextEvent"in window&&!u,_=Bn&&(!ni||u&&8<u&&11>=u),A=" ",L=!1;function Q(e,n){switch(e){case"keyup":return lu.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ot(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Mt=!1;function be(e,n){switch(e){case"compositionend":return ot(n);case"keypress":return n.which!==32?null:(L=!0,A);case"textInput":return e=n.data,e===A&&L?null:e;default:return null}}function Pt(e,n){if(Mt)return e==="compositionend"||!ni&&Q(e,n)?(e=mo(),Di=or=Jn=null,Mt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return _&&n.locale!=="ko"?null:n.data;default:return null}}var Ve={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Re(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Ve[e.type]:n==="textarea"}function Vi(e,n,a,o){Ci?Ii?Ii.push(o):Ii=[o]:Ci=o,n=Ku(n,"onChange"),0<n.length&&(a=new Ya("onChange","change",null,a,o),e.push({event:a,listeners:n}))}var Le=null,ii=null;function Eo(e){Py(e,0)}function uu(e){var n=$n(e);if(uo(n))return e}function ng(e,n){if(e==="change")return n}var ig=!1;if(Bn){var Sh;if(Bn){var bh="oninput"in document;if(!bh){var rg=document.createElement("div");rg.setAttribute("oninput","return;"),bh=typeof rg.oninput=="function"}Sh=bh}else Sh=!1;ig=Sh&&(!document.documentMode||9<document.documentMode)}function ag(){Le&&(Le.detachEvent("onpropertychange",sg),ii=Le=null)}function sg(e){if(e.propertyName==="value"&&uu(ii)){var n=[];Vi(n,ii,e,bn(e)),$l(Eo,n)}}function xT(e,n,a){e==="focusin"?(ag(),Le=n,ii=a,Le.attachEvent("onpropertychange",sg)):e==="focusout"&&ag()}function OT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return uu(ii)}function MT(e,n){if(e==="click")return uu(n)}function PT(e,n){if(e==="input"||e==="change")return uu(n)}function UT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var fn=typeof Object.is=="function"?Object.is:UT;function To(e,n){if(fn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!un.call(n,h)||!fn(e[h],n[h]))return!1}return!0}function og(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lg(e,n){var a=og(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=n&&o>=n)return{node:a,offset:n-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=og(a)}}function ug(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?ug(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function cg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=ta(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=ta(e.document)}return n}function Rh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var LT=Bn&&"documentMode"in document&&11>=document.documentMode,es=null,wh=null,Ao=null,Ch=!1;function hg(e,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Ch||es==null||es!==ta(o)||(o=es,"selectionStart"in o&&Rh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Ao&&To(Ao,o)||(Ao=o,o=Ku(wh,"onSelect"),0<o.length&&(n=new Ya("onSelect","select",null,n,a),e.push({event:n,listeners:o}),n.target=es)))}function ha(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var ns={animationend:ha("Animation","AnimationEnd"),animationiteration:ha("Animation","AnimationIteration"),animationstart:ha("Animation","AnimationStart"),transitionrun:ha("Transition","TransitionRun"),transitionstart:ha("Transition","TransitionStart"),transitioncancel:ha("Transition","TransitionCancel"),transitionend:ha("Transition","TransitionEnd")},Ih={},fg={};Bn&&(fg=document.createElement("div").style,"AnimationEvent"in window||(delete ns.animationend.animation,delete ns.animationiteration.animation,delete ns.animationstart.animation),"TransitionEvent"in window||delete ns.transitionend.transition);function fa(e){if(Ih[e])return Ih[e];if(!ns[e])return e;var n=ns[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in fg)return Ih[e]=n[a];return e}var dg=fa("animationend"),mg=fa("animationiteration"),gg=fa("animationstart"),kT=fa("transitionrun"),zT=fa("transitionstart"),BT=fa("transitioncancel"),pg=fa("transitionend"),yg=new Map,Dh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Dh.push("scrollEnd");function jn(e,n){yg.set(e,n),zn(n,[e])}var _g=new WeakMap;function Cn(e,n){if(typeof e=="object"&&e!==null){var a=_g.get(e);return a!==void 0?a:(n={value:e,source:n,stack:Fa(n)},_g.set(e,n),n)}return{value:e,source:n,stack:Fa(n)}}var In=[],is=0,Nh=0;function cu(){for(var e=is,n=Nh=is=0;n<e;){var a=In[n];In[n++]=null;var o=In[n];In[n++]=null;var h=In[n];In[n++]=null;var d=In[n];if(In[n++]=null,o!==null&&h!==null){var v=o.pending;v===null?h.next=h:(h.next=v.next,v.next=h),o.pending=h}d!==0&&vg(a,h,d)}}function hu(e,n,a,o){In[is++]=e,In[is++]=n,In[is++]=a,In[is++]=o,Nh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Vh(e,n,a,o){return hu(e,n,a,o),fu(e)}function rs(e,n){return hu(e,null,null,n),fu(e)}function vg(e,n,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,o=d.alternate,o!==null&&(o.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&n!==null&&(h=31-Fe(a),e=d.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=a|536870912),d):null}function fu(e){if(50<Yo)throw Yo=0,kf=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var as={};function jT(e,n,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dn(e,n,a,o){return new jT(e,n,a,o)}function xh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function xi(e,n){var a=e.alternate;return a===null?(a=dn(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Eg(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function du(e,n,a,o,h,d){var v=0;if(o=e,typeof e=="function")xh(e)&&(v=1);else if(typeof e=="string")v=H1(e,a,lt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case w:return e=dn(31,a,n,h),e.elementType=w,e.lanes=d,e;case H:return da(a.children,h,d,n);case X:v=8,h|=24;break;case B:return e=dn(12,a,n,h|2),e.elementType=B,e.lanes=d,e;case ut:return e=dn(13,a,n,h),e.elementType=ut,e.lanes=d,e;case ht:return e=dn(19,a,n,h),e.elementType=ht,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case nt:case st:v=10;break t;case et:v=9;break t;case pt:v=11;break t;case N:v=14;break t;case b:v=16,o=null;break t}v=29,a=Error(s(130,e===null?"null":typeof e,"")),o=null}return n=dn(v,a,n,h),n.elementType=e,n.type=o,n.lanes=d,n}function da(e,n,a,o){return e=dn(7,e,o,n),e.lanes=a,e}function Oh(e,n,a){return e=dn(6,e,null,n),e.lanes=a,e}function Mh(e,n,a){return n=dn(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var ss=[],os=0,mu=null,gu=0,Dn=[],Nn=0,ma=null,Oi=1,Mi="";function ga(e,n){ss[os++]=gu,ss[os++]=mu,mu=e,gu=n}function Tg(e,n,a){Dn[Nn++]=Oi,Dn[Nn++]=Mi,Dn[Nn++]=ma,ma=e;var o=Oi;e=Mi;var h=32-Fe(o)-1;o&=~(1<<h),a+=1;var d=32-Fe(n)+h;if(30<d){var v=h-h%5;d=(o&(1<<v)-1).toString(32),o>>=v,h-=v,Oi=1<<32-Fe(n)+h|a<<h|o,Mi=d+e}else Oi=1<<d|a<<h|o,Mi=e}function Ph(e){e.return!==null&&(ga(e,1),Tg(e,1,0))}function Uh(e){for(;e===mu;)mu=ss[--os],ss[os]=null,gu=ss[--os],ss[os]=null;for(;e===ma;)ma=Dn[--Nn],Dn[Nn]=null,Mi=Dn[--Nn],Dn[Nn]=null,Oi=Dn[--Nn],Dn[Nn]=null}var tn=null,ce=null,jt=!1,pa=null,ri=!1,Lh=Error(s(519));function ya(e){var n=Error(s(418,""));throw Ro(Cn(n,e)),Lh}function Ag(e){var n=e.stateNode,a=e.type,o=e.memoizedProps;switch(n[Se]=e,n[pe]=o,a){case"dialog":Vt("cancel",n),Vt("close",n);break;case"iframe":case"object":case"embed":Vt("load",n);break;case"video":case"audio":for(a=0;a<$o.length;a++)Vt($o[a],n);break;case"source":Vt("error",n);break;case"img":case"image":case"link":Vt("error",n),Vt("load",n);break;case"details":Vt("toggle",n);break;case"input":Vt("invalid",n),ea(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),Ga(n);break;case"select":Vt("invalid",n);break;case"textarea":Vt("invalid",n),na(n,o.value,o.defaultValue,o.children),Ga(n)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||zy(n.textContent,a)?(o.popover!=null&&(Vt("beforetoggle",n),Vt("toggle",n)),o.onScroll!=null&&Vt("scroll",n),o.onScrollEnd!=null&&Vt("scrollend",n),o.onClick!=null&&(n.onclick=$u),n=!0):n=!1,n||ya(e)}function Sg(e){for(tn=e.return;tn;)switch(tn.tag){case 5:case 13:ri=!1;return;case 27:case 3:ri=!0;return;default:tn=tn.return}}function So(e){if(e!==tn)return!1;if(!jt)return Sg(e),jt=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||td(e.type,e.memoizedProps)),a=!a),a&&ce&&ya(e),Sg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(n===0){ce=Hn(e.nextSibling);break t}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;e=e.nextSibling}ce=null}}else n===27?(n=ce,Sr(e.type)?(e=rd,rd=null,ce=e):ce=n):ce=tn?Hn(e.stateNode.nextSibling):null;return!0}function bo(){ce=tn=null,jt=!1}function bg(){var e=pa;return e!==null&&(an===null?an=e:an.push.apply(an,e),pa=null),e}function Ro(e){pa===null?pa=[e]:pa.push(e)}var kh=F(null),_a=null,Pi=null;function lr(e,n,a){it(kh,n._currentValue),n._currentValue=a}function Ui(e){e._currentValue=kh.current,rt(kh)}function zh(e,n,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===a)break;e=e.return}}function Bh(e,n,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;t:for(;d!==null;){var T=d;d=h;for(var C=0;C<n.length;C++)if(T.context===n[C]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),zh(d.return,a,e),o||(v=null);break t}d=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),zh(v,a,e),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===e){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function wo(e,n,a,o){e=null;for(var h=n,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=h.type;fn(h.pendingProps.value,v.value)||(e!==null?e.push(T):e=[T])}}else if(h===Yt.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(el):e=[el])}h=h.return}e!==null&&Bh(n,e,a,o),n.flags|=262144}function pu(e){for(e=e.firstContext;e!==null;){if(!fn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function va(e){_a=e,Pi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ge(e){return Rg(_a,e)}function yu(e,n){return _a===null&&va(e),Rg(e,n)}function Rg(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Pi===null){if(e===null)throw Error(s(308));Pi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Pi=Pi.next=n;return a}var qT=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},HT=r.unstable_scheduleCallback,FT=r.unstable_NormalPriority,we={$$typeof:st,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function jh(){return{controller:new qT,data:new Map,refCount:0}}function Co(e){e.refCount--,e.refCount===0&&HT(FT,function(){e.controller.abort()})}var Io=null,qh=0,ls=0,us=null;function GT(e,n){if(Io===null){var a=Io=[];qh=0,ls=Gf(),us={status:"pending",value:void 0,then:function(o){a.push(o)}}}return qh++,n.then(wg,wg),n}function wg(){if(--qh===0&&Io!==null){us!==null&&(us.status="fulfilled");var e=Io;Io=null,ls=0,us=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function QT(e,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var Cg=K.S;K.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&GT(e,n),Cg!==null&&Cg(e,n)};var Ea=F(null);function Hh(){var e=Ea.current;return e!==null?e:ee.pooledCache}function _u(e,n){n===null?it(Ea,Ea.current):it(Ea,n.pool)}function Ig(){var e=Hh();return e===null?null:{parent:we._currentValue,pool:e}}var Do=Error(s(460)),Dg=Error(s(474)),vu=Error(s(542)),Fh={then:function(){}};function Ng(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Eu(){}function Vg(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(Eu,Eu),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Og(e),e;default:if(typeof n.status=="string")n.then(Eu,Eu);else{if(e=ee,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Og(e),e}throw No=n,Do}}var No=null;function xg(){if(No===null)throw Error(s(459));var e=No;return No=null,e}function Og(e){if(e===Do||e===vu)throw Error(s(483))}var ur=!1;function Gh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Qh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function cr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function hr(e,n,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Gt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=fu(e),vg(e,null,a),n}return hu(e,o,n,a),fu(e)}function Vo(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,ro(e,a)}}function Yh(e,n){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=n:d=d.next=n}else h=d=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var Kh=!1;function xo(){if(Kh){var e=us;if(e!==null)throw e}}function Oo(e,n,a,o){Kh=!1;var h=e.updateQueue;ur=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var C=T,z=C.next;C.next=null,v===null?d=z:v.next=z,v=C;var $=e.alternate;$!==null&&($=$.updateQueue,T=$.lastBaseUpdate,T!==v&&(T===null?$.firstBaseUpdate=z:T.next=z,$.lastBaseUpdate=C))}if(d!==null){var W=h.baseState;v=0,$=z=C=null,T=d;do{var j=T.lane&-536870913,q=j!==T.lane;if(q?(Ut&j)===j:(o&j)===j){j!==0&&j===ls&&(Kh=!0),$!==null&&($=$.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var bt=e,Et=T;j=n;var Zt=a;switch(Et.tag){case 1:if(bt=Et.payload,typeof bt=="function"){W=bt.call(Zt,W,j);break t}W=bt;break t;case 3:bt.flags=bt.flags&-65537|128;case 0:if(bt=Et.payload,j=typeof bt=="function"?bt.call(Zt,W,j):bt,j==null)break t;W=E({},W,j);break t;case 2:ur=!0}}j=T.callback,j!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[j]:q.push(j))}else q={lane:j,tag:T.tag,payload:T.payload,callback:T.callback,next:null},$===null?(z=$=q,C=W):$=$.next=q,v|=j;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;q=T,T=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);$===null&&(C=W),h.baseState=C,h.firstBaseUpdate=z,h.lastBaseUpdate=$,d===null&&(h.shared.lanes=0),vr|=v,e.lanes=v,e.memoizedState=W}}function Mg(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function Pg(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Mg(a[e],n)}var cs=F(null),Tu=F(0);function Ug(e,n){e=Hi,it(Tu,e),it(cs,n),Hi=e|n.baseLanes}function $h(){it(Tu,Hi),it(cs,cs.current)}function Xh(){Hi=Tu.current,rt(cs),rt(Tu)}var fr=0,It=null,$t=null,_e=null,Au=!1,hs=!1,Ta=!1,Su=0,Mo=0,fs=null,YT=0;function de(){throw Error(s(321))}function Zh(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!fn(e[a],n[a]))return!1;return!0}function Jh(e,n,a,o,h,d){return fr=d,It=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,K.H=e===null||e.memoizedState===null?vp:Ep,Ta=!1,d=a(o,h),Ta=!1,hs&&(d=kg(n,a,o,h)),Lg(e),d}function Lg(e){K.H=Du;var n=$t!==null&&$t.next!==null;if(fr=0,_e=$t=It=null,Au=!1,Mo=0,fs=null,n)throw Error(s(300));e===null||xe||(e=e.dependencies,e!==null&&pu(e)&&(xe=!0))}function kg(e,n,a,o){It=e;var h=0;do{if(hs&&(fs=null),Mo=0,hs=!1,25<=h)throw Error(s(301));if(h+=1,_e=$t=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}K.H=t1,d=n(a,o)}while(hs);return d}function KT(){var e=K.H,n=e.useState()[0];return n=typeof n.then=="function"?Po(n):n,e=e.useState()[0],($t!==null?$t.memoizedState:null)!==e&&(It.flags|=1024),n}function Wh(){var e=Su!==0;return Su=0,e}function tf(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function ef(e){if(Au){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Au=!1}fr=0,_e=$t=It=null,hs=!1,Mo=Su=0,fs=null}function nn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _e===null?It.memoizedState=_e=e:_e=_e.next=e,_e}function ve(){if($t===null){var e=It.alternate;e=e!==null?e.memoizedState:null}else e=$t.next;var n=_e===null?It.memoizedState:_e.next;if(n!==null)_e=n,$t=e;else{if(e===null)throw It.alternate===null?Error(s(467)):Error(s(310));$t=e,e={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},_e===null?It.memoizedState=_e=e:_e=_e.next=e}return _e}function nf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Po(e){var n=Mo;return Mo+=1,fs===null&&(fs=[]),e=Vg(fs,e,n),n=It,(_e===null?n.memoizedState:_e.next)===null&&(n=n.alternate,K.H=n===null||n.memoizedState===null?vp:Ep),e}function bu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Po(e);if(e.$$typeof===st)return Ge(e)}throw Error(s(438,String(e)))}function rf(e){var n=null,a=It.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=It.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=nf(),It.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),o=0;o<e;o++)a[o]=V;return n.index++,a}function Li(e,n){return typeof n=="function"?n(e):n}function Ru(e){var n=ve();return af(n,$t,e)}function af(e,n,a){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var h=e.baseQueue,d=o.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}n.baseQueue=h=d,o.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{n=h.next;var T=v=null,C=null,z=n,$=!1;do{var W=z.lane&-536870913;if(W!==z.lane?(Ut&W)===W:(fr&W)===W){var j=z.revertLane;if(j===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),W===ls&&($=!0);else if((fr&j)===j){z=z.next,j===ls&&($=!0);continue}else W={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(T=C=W,v=d):C=C.next=W,It.lanes|=j,vr|=j;W=z.action,Ta&&a(d,W),d=z.hasEagerState?z.eagerState:a(d,W)}else j={lane:W,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(T=C=j,v=d):C=C.next=j,It.lanes|=W,vr|=W;z=z.next}while(z!==null&&z!==n);if(C===null?v=d:C.next=T,!fn(d,e.memoizedState)&&(xe=!0,$&&(a=us,a!==null)))throw a;e.memoizedState=d,e.baseState=v,e.baseQueue=C,o.lastRenderedState=d}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function sf(e){var n=ve(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,d=n.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=e(d,v.action),v=v.next;while(v!==h);fn(d,n.memoizedState)||(xe=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),a.lastRenderedState=d}return[d,o]}function zg(e,n,a){var o=It,h=ve(),d=jt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=n();var v=!fn(($t||h).memoizedState,a);v&&(h.memoizedState=a,xe=!0),h=h.queue;var T=qg.bind(null,o,h,e);if(Uo(2048,8,T,[e]),h.getSnapshot!==n||v||_e!==null&&_e.memoizedState.tag&1){if(o.flags|=2048,ds(9,wu(),jg.bind(null,o,h,a,n),null),ee===null)throw Error(s(349));d||(fr&124)!==0||Bg(o,n,a)}return a}function Bg(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=It.updateQueue,n===null?(n=nf(),It.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function jg(e,n,a,o){n.value=a,n.getSnapshot=o,Hg(n)&&Fg(e)}function qg(e,n,a){return a(function(){Hg(n)&&Fg(e)})}function Hg(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!fn(e,a)}catch{return!0}}function Fg(e){var n=rs(e,2);n!==null&&_n(n,e,2)}function of(e){var n=nn();if(typeof e=="function"){var a=e;if(e=a(),Ta){cn(!0);try{a()}finally{cn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:e},n}function Gg(e,n,a,o){return e.baseState=a,af(e,$t,typeof o=="function"?o:Li)}function $T(e,n,a,o,h){if(Iu(e))throw Error(s(485));if(e=n.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};K.T!==null?a(!0):d.isTransition=!1,o(d),a=n.pending,a===null?(d.next=n.pending=d,Qg(n,d)):(d.next=a.next,n.pending=a.next=d)}}function Qg(e,n){var a=n.action,o=n.payload,h=e.state;if(n.isTransition){var d=K.T,v={};K.T=v;try{var T=a(h,o),C=K.S;C!==null&&C(v,T),Yg(e,n,T)}catch(z){lf(e,n,z)}finally{K.T=d}}else try{d=a(h,o),Yg(e,n,d)}catch(z){lf(e,n,z)}}function Yg(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Kg(e,n,o)},function(o){return lf(e,n,o)}):Kg(e,n,a)}function Kg(e,n,a){n.status="fulfilled",n.value=a,$g(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,Qg(e,a)))}function lf(e,n,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,$g(n),n=n.next;while(n!==o)}e.action=null}function $g(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Xg(e,n){return n}function Zg(e,n){if(jt){var a=ee.formState;if(a!==null){t:{var o=It;if(jt){if(ce){e:{for(var h=ce,d=ri;h.nodeType!==8;){if(!d){h=null;break e}if(h=Hn(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ce=Hn(h.nextSibling),o=h.data==="F!";break t}}ya(o)}o=!1}o&&(n=a[0])}}return a=nn(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xg,lastRenderedState:n},a.queue=o,a=pp.bind(null,It,o),o.dispatch=a,o=of(!1),d=df.bind(null,It,!1,o.queue),o=nn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,a=$T.bind(null,It,h,d,a),h.dispatch=a,o.memoizedState=e,[n,a,!1]}function Jg(e){var n=ve();return Wg(n,$t,e)}function Wg(e,n,a){if(n=af(e,n,Xg)[0],e=Ru(Li)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Po(n)}catch(v){throw v===Do?vu:v}else o=n;n=ve();var h=n.queue,d=h.dispatch;return a!==n.memoizedState&&(It.flags|=2048,ds(9,wu(),XT.bind(null,h,a),null)),[o,d,e]}function XT(e,n){e.action=n}function tp(e){var n=ve(),a=$t;if(a!==null)return Wg(n,a,e);ve(),n=n.memoizedState,a=ve();var o=a.queue.dispatch;return a.memoizedState=e,[n,o,!1]}function ds(e,n,a,o){return e={tag:e,create:a,deps:o,inst:n,next:null},n=It.updateQueue,n===null&&(n=nf(),It.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,n.lastEffect=e),e}function wu(){return{destroy:void 0,resource:void 0}}function ep(){return ve().memoizedState}function Cu(e,n,a,o){var h=nn();o=o===void 0?null:o,It.flags|=e,h.memoizedState=ds(1|n,wu(),a,o)}function Uo(e,n,a,o){var h=ve();o=o===void 0?null:o;var d=h.memoizedState.inst;$t!==null&&o!==null&&Zh(o,$t.memoizedState.deps)?h.memoizedState=ds(n,d,a,o):(It.flags|=e,h.memoizedState=ds(1|n,d,a,o))}function np(e,n){Cu(8390656,8,e,n)}function ip(e,n){Uo(2048,8,e,n)}function rp(e,n){return Uo(4,2,e,n)}function ap(e,n){return Uo(4,4,e,n)}function sp(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function op(e,n,a){a=a!=null?a.concat([e]):null,Uo(4,4,sp.bind(null,n,e),a)}function uf(){}function lp(e,n){var a=ve();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&Zh(n,o[1])?o[0]:(a.memoizedState=[e,n],e)}function up(e,n){var a=ve();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&Zh(n,o[1]))return o[0];if(o=e(),Ta){cn(!0);try{e()}finally{cn(!1)}}return a.memoizedState=[o,n],o}function cf(e,n,a){return a===void 0||(fr&1073741824)!==0?e.memoizedState=n:(e.memoizedState=a,e=fy(),It.lanes|=e,vr|=e,a)}function cp(e,n,a,o){return fn(a,n)?a:cs.current!==null?(e=cf(e,a,o),fn(e,n)||(xe=!0),e):(fr&42)===0?(xe=!0,e.memoizedState=a):(e=fy(),It.lanes|=e,vr|=e,n)}function hp(e,n,a,o,h){var d=at.p;at.p=d!==0&&8>d?d:8;var v=K.T,T={};K.T=T,df(e,!1,n,a);try{var C=h(),z=K.S;if(z!==null&&z(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var $=QT(C,o);Lo(e,n,$,yn(e))}else Lo(e,n,o,yn(e))}catch(W){Lo(e,n,{then:function(){},status:"rejected",reason:W},yn())}finally{at.p=d,K.T=v}}function ZT(){}function hf(e,n,a,o){if(e.tag!==5)throw Error(s(476));var h=fp(e).queue;hp(e,h,n,yt,a===null?ZT:function(){return dp(e),a(o)})}function fp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:yt,baseState:yt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:yt},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function dp(e){var n=fp(e).next.queue;Lo(e,n,{},yn())}function ff(){return Ge(el)}function mp(){return ve().memoizedState}function gp(){return ve().memoizedState}function JT(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=yn();e=cr(a);var o=hr(n,e,a);o!==null&&(_n(o,n,a),Vo(o,n,a)),n={cache:jh()},e.payload=n;return}n=n.return}}function WT(e,n,a){var o=yn();a={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Iu(e)?yp(n,a):(a=Vh(e,n,a,o),a!==null&&(_n(a,e,o),_p(a,n,o)))}function pp(e,n,a){var o=yn();Lo(e,n,a,o)}function Lo(e,n,a,o){var h={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Iu(e))yp(n,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var v=n.lastRenderedState,T=d(v,a);if(h.hasEagerState=!0,h.eagerState=T,fn(T,v))return hu(e,n,h,0),ee===null&&cu(),!1}catch{}finally{}if(a=Vh(e,n,h,o),a!==null)return _n(a,e,o),_p(a,n,o),!0}return!1}function df(e,n,a,o){if(o={lane:2,revertLane:Gf(),action:o,hasEagerState:!1,eagerState:null,next:null},Iu(e)){if(n)throw Error(s(479))}else n=Vh(e,a,o,2),n!==null&&_n(n,e,2)}function Iu(e){var n=e.alternate;return e===It||n!==null&&n===It}function yp(e,n){hs=Au=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function _p(e,n,a){if((a&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,ro(e,a)}}var Du={readContext:Ge,use:bu,useCallback:de,useContext:de,useEffect:de,useImperativeHandle:de,useLayoutEffect:de,useInsertionEffect:de,useMemo:de,useReducer:de,useRef:de,useState:de,useDebugValue:de,useDeferredValue:de,useTransition:de,useSyncExternalStore:de,useId:de,useHostTransitionStatus:de,useFormState:de,useActionState:de,useOptimistic:de,useMemoCache:de,useCacheRefresh:de},vp={readContext:Ge,use:bu,useCallback:function(e,n){return nn().memoizedState=[e,n===void 0?null:n],e},useContext:Ge,useEffect:np,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,Cu(4194308,4,sp.bind(null,n,e),a)},useLayoutEffect:function(e,n){return Cu(4194308,4,e,n)},useInsertionEffect:function(e,n){Cu(4,2,e,n)},useMemo:function(e,n){var a=nn();n=n===void 0?null:n;var o=e();if(Ta){cn(!0);try{e()}finally{cn(!1)}}return a.memoizedState=[o,n],o},useReducer:function(e,n,a){var o=nn();if(a!==void 0){var h=a(n);if(Ta){cn(!0);try{a(n)}finally{cn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=WT.bind(null,It,e),[o.memoizedState,e]},useRef:function(e){var n=nn();return e={current:e},n.memoizedState=e},useState:function(e){e=of(e);var n=e.queue,a=pp.bind(null,It,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:uf,useDeferredValue:function(e,n){var a=nn();return cf(a,e,n)},useTransition:function(){var e=of(!1);return e=hp.bind(null,It,e.queue,!0,!1),nn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var o=It,h=nn();if(jt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),ee===null)throw Error(s(349));(Ut&124)!==0||Bg(o,n,a)}h.memoizedState=a;var d={value:a,getSnapshot:n};return h.queue=d,np(qg.bind(null,o,d,e),[e]),o.flags|=2048,ds(9,wu(),jg.bind(null,o,d,a,n),null),a},useId:function(){var e=nn(),n=ee.identifierPrefix;if(jt){var a=Mi,o=Oi;a=(o&~(1<<32-Fe(o)-1)).toString(32)+a,n=""+n+"R"+a,a=Su++,0<a&&(n+="H"+a.toString(32)),n+=""}else a=YT++,n=""+n+"r"+a.toString(32)+"";return e.memoizedState=n},useHostTransitionStatus:ff,useFormState:Zg,useActionState:Zg,useOptimistic:function(e){var n=nn();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=df.bind(null,It,!0,a),a.dispatch=n,[e,n]},useMemoCache:rf,useCacheRefresh:function(){return nn().memoizedState=JT.bind(null,It)}},Ep={readContext:Ge,use:bu,useCallback:lp,useContext:Ge,useEffect:ip,useImperativeHandle:op,useInsertionEffect:rp,useLayoutEffect:ap,useMemo:up,useReducer:Ru,useRef:ep,useState:function(){return Ru(Li)},useDebugValue:uf,useDeferredValue:function(e,n){var a=ve();return cp(a,$t.memoizedState,e,n)},useTransition:function(){var e=Ru(Li)[0],n=ve().memoizedState;return[typeof e=="boolean"?e:Po(e),n]},useSyncExternalStore:zg,useId:mp,useHostTransitionStatus:ff,useFormState:Jg,useActionState:Jg,useOptimistic:function(e,n){var a=ve();return Gg(a,$t,e,n)},useMemoCache:rf,useCacheRefresh:gp},t1={readContext:Ge,use:bu,useCallback:lp,useContext:Ge,useEffect:ip,useImperativeHandle:op,useInsertionEffect:rp,useLayoutEffect:ap,useMemo:up,useReducer:sf,useRef:ep,useState:function(){return sf(Li)},useDebugValue:uf,useDeferredValue:function(e,n){var a=ve();return $t===null?cf(a,e,n):cp(a,$t.memoizedState,e,n)},useTransition:function(){var e=sf(Li)[0],n=ve().memoizedState;return[typeof e=="boolean"?e:Po(e),n]},useSyncExternalStore:zg,useId:mp,useHostTransitionStatus:ff,useFormState:tp,useActionState:tp,useOptimistic:function(e,n){var a=ve();return $t!==null?Gg(a,$t,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:rf,useCacheRefresh:gp},ms=null,ko=0;function Nu(e){var n=ko;return ko+=1,ms===null&&(ms=[]),Vg(ms,e,n)}function zo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Vu(e,n){throw n.$$typeof===S?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Tp(e){var n=e._init;return n(e._payload)}function Ap(e){function n(P,x){if(e){var k=P.deletions;k===null?(P.deletions=[x],P.flags|=16):k.push(x)}}function a(P,x){if(!e)return null;for(;x!==null;)n(P,x),x=x.sibling;return null}function o(P){for(var x=new Map;P!==null;)P.key!==null?x.set(P.key,P):x.set(P.index,P),P=P.sibling;return x}function h(P,x){return P=xi(P,x),P.index=0,P.sibling=null,P}function d(P,x,k){return P.index=k,e?(k=P.alternate,k!==null?(k=k.index,k<x?(P.flags|=67108866,x):k):(P.flags|=67108866,x)):(P.flags|=1048576,x)}function v(P){return e&&P.alternate===null&&(P.flags|=67108866),P}function T(P,x,k,Z){return x===null||x.tag!==6?(x=Oh(k,P.mode,Z),x.return=P,x):(x=h(x,k),x.return=P,x)}function C(P,x,k,Z){var gt=k.type;return gt===H?$(P,x,k.props.children,Z,k.key):x!==null&&(x.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===b&&Tp(gt)===x.type)?(x=h(x,k.props),zo(x,k),x.return=P,x):(x=du(k.type,k.key,k.props,null,P.mode,Z),zo(x,k),x.return=P,x)}function z(P,x,k,Z){return x===null||x.tag!==4||x.stateNode.containerInfo!==k.containerInfo||x.stateNode.implementation!==k.implementation?(x=Mh(k,P.mode,Z),x.return=P,x):(x=h(x,k.children||[]),x.return=P,x)}function $(P,x,k,Z,gt){return x===null||x.tag!==7?(x=da(k,P.mode,Z,gt),x.return=P,x):(x=h(x,k),x.return=P,x)}function W(P,x,k){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=Oh(""+x,P.mode,k),x.return=P,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case R:return k=du(x.type,x.key,x.props,null,P.mode,k),zo(k,x),k.return=P,k;case U:return x=Mh(x,P.mode,k),x.return=P,x;case b:var Z=x._init;return x=Z(x._payload),W(P,x,k)}if(te(x)||M(x))return x=da(x,P.mode,k,null),x.return=P,x;if(typeof x.then=="function")return W(P,Nu(x),k);if(x.$$typeof===st)return W(P,yu(P,x),k);Vu(P,x)}return null}function j(P,x,k,Z){var gt=x!==null?x.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return gt!==null?null:T(P,x,""+k,Z);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case R:return k.key===gt?C(P,x,k,Z):null;case U:return k.key===gt?z(P,x,k,Z):null;case b:return gt=k._init,k=gt(k._payload),j(P,x,k,Z)}if(te(k)||M(k))return gt!==null?null:$(P,x,k,Z,null);if(typeof k.then=="function")return j(P,x,Nu(k),Z);if(k.$$typeof===st)return j(P,x,yu(P,k),Z);Vu(P,k)}return null}function q(P,x,k,Z,gt){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return P=P.get(k)||null,T(x,P,""+Z,gt);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case R:return P=P.get(Z.key===null?k:Z.key)||null,C(x,P,Z,gt);case U:return P=P.get(Z.key===null?k:Z.key)||null,z(x,P,Z,gt);case b:var Dt=Z._init;return Z=Dt(Z._payload),q(P,x,k,Z,gt)}if(te(Z)||M(Z))return P=P.get(k)||null,$(x,P,Z,gt,null);if(typeof Z.then=="function")return q(P,x,k,Nu(Z),gt);if(Z.$$typeof===st)return q(P,x,k,yu(x,Z),gt);Vu(x,Z)}return null}function bt(P,x,k,Z){for(var gt=null,Dt=null,_t=x,Tt=x=0,Me=null;_t!==null&&Tt<k.length;Tt++){_t.index>Tt?(Me=_t,_t=null):Me=_t.sibling;var Bt=j(P,_t,k[Tt],Z);if(Bt===null){_t===null&&(_t=Me);break}e&&_t&&Bt.alternate===null&&n(P,_t),x=d(Bt,x,Tt),Dt===null?gt=Bt:Dt.sibling=Bt,Dt=Bt,_t=Me}if(Tt===k.length)return a(P,_t),jt&&ga(P,Tt),gt;if(_t===null){for(;Tt<k.length;Tt++)_t=W(P,k[Tt],Z),_t!==null&&(x=d(_t,x,Tt),Dt===null?gt=_t:Dt.sibling=_t,Dt=_t);return jt&&ga(P,Tt),gt}for(_t=o(_t);Tt<k.length;Tt++)Me=q(_t,P,Tt,k[Tt],Z),Me!==null&&(e&&Me.alternate!==null&&_t.delete(Me.key===null?Tt:Me.key),x=d(Me,x,Tt),Dt===null?gt=Me:Dt.sibling=Me,Dt=Me);return e&&_t.forEach(function(Ir){return n(P,Ir)}),jt&&ga(P,Tt),gt}function Et(P,x,k,Z){if(k==null)throw Error(s(151));for(var gt=null,Dt=null,_t=x,Tt=x=0,Me=null,Bt=k.next();_t!==null&&!Bt.done;Tt++,Bt=k.next()){_t.index>Tt?(Me=_t,_t=null):Me=_t.sibling;var Ir=j(P,_t,Bt.value,Z);if(Ir===null){_t===null&&(_t=Me);break}e&&_t&&Ir.alternate===null&&n(P,_t),x=d(Ir,x,Tt),Dt===null?gt=Ir:Dt.sibling=Ir,Dt=Ir,_t=Me}if(Bt.done)return a(P,_t),jt&&ga(P,Tt),gt;if(_t===null){for(;!Bt.done;Tt++,Bt=k.next())Bt=W(P,Bt.value,Z),Bt!==null&&(x=d(Bt,x,Tt),Dt===null?gt=Bt:Dt.sibling=Bt,Dt=Bt);return jt&&ga(P,Tt),gt}for(_t=o(_t);!Bt.done;Tt++,Bt=k.next())Bt=q(_t,P,Tt,Bt.value,Z),Bt!==null&&(e&&Bt.alternate!==null&&_t.delete(Bt.key===null?Tt:Bt.key),x=d(Bt,x,Tt),Dt===null?gt=Bt:Dt.sibling=Bt,Dt=Bt);return e&&_t.forEach(function(eA){return n(P,eA)}),jt&&ga(P,Tt),gt}function Zt(P,x,k,Z){if(typeof k=="object"&&k!==null&&k.type===H&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case R:t:{for(var gt=k.key;x!==null;){if(x.key===gt){if(gt=k.type,gt===H){if(x.tag===7){a(P,x.sibling),Z=h(x,k.props.children),Z.return=P,P=Z;break t}}else if(x.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===b&&Tp(gt)===x.type){a(P,x.sibling),Z=h(x,k.props),zo(Z,k),Z.return=P,P=Z;break t}a(P,x);break}else n(P,x);x=x.sibling}k.type===H?(Z=da(k.props.children,P.mode,Z,k.key),Z.return=P,P=Z):(Z=du(k.type,k.key,k.props,null,P.mode,Z),zo(Z,k),Z.return=P,P=Z)}return v(P);case U:t:{for(gt=k.key;x!==null;){if(x.key===gt)if(x.tag===4&&x.stateNode.containerInfo===k.containerInfo&&x.stateNode.implementation===k.implementation){a(P,x.sibling),Z=h(x,k.children||[]),Z.return=P,P=Z;break t}else{a(P,x);break}else n(P,x);x=x.sibling}Z=Mh(k,P.mode,Z),Z.return=P,P=Z}return v(P);case b:return gt=k._init,k=gt(k._payload),Zt(P,x,k,Z)}if(te(k))return bt(P,x,k,Z);if(M(k)){if(gt=M(k),typeof gt!="function")throw Error(s(150));return k=gt.call(k),Et(P,x,k,Z)}if(typeof k.then=="function")return Zt(P,x,Nu(k),Z);if(k.$$typeof===st)return Zt(P,x,yu(P,k),Z);Vu(P,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,x!==null&&x.tag===6?(a(P,x.sibling),Z=h(x,k),Z.return=P,P=Z):(a(P,x),Z=Oh(k,P.mode,Z),Z.return=P,P=Z),v(P)):a(P,x)}return function(P,x,k,Z){try{ko=0;var gt=Zt(P,x,k,Z);return ms=null,gt}catch(_t){if(_t===Do||_t===vu)throw _t;var Dt=dn(29,_t,null,P.mode);return Dt.lanes=Z,Dt.return=P,Dt}finally{}}}var gs=Ap(!0),Sp=Ap(!1),Vn=F(null),ai=null;function dr(e){var n=e.alternate;it(Ce,Ce.current&1),it(Vn,e),ai===null&&(n===null||cs.current!==null||n.memoizedState!==null)&&(ai=e)}function bp(e){if(e.tag===22){if(it(Ce,Ce.current),it(Vn,e),ai===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(ai=e)}}else mr()}function mr(){it(Ce,Ce.current),it(Vn,Vn.current)}function ki(e){rt(Vn),ai===e&&(ai=null),rt(Ce)}var Ce=F(0);function xu(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||id(a)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function mf(e,n,a,o){n=e.memoizedState,a=a(o,n),a=a==null?n:E({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var gf={enqueueSetState:function(e,n,a){e=e._reactInternals;var o=yn(),h=cr(o);h.payload=n,a!=null&&(h.callback=a),n=hr(e,h,o),n!==null&&(_n(n,e,o),Vo(n,e,o))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var o=yn(),h=cr(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=hr(e,h,o),n!==null&&(_n(n,e,o),Vo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=yn(),o=cr(a);o.tag=2,n!=null&&(o.callback=n),n=hr(e,o,a),n!==null&&(_n(n,e,a),Vo(n,e,a))}};function Rp(e,n,a,o,h,d,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,d,v):n.prototype&&n.prototype.isPureReactComponent?!To(a,o)||!To(h,d):!0}function wp(e,n,a,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==e&&gf.enqueueReplaceState(n,n.state,null)}function Aa(e,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(e=e.defaultProps){a===n&&(a=E({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}var Ou=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Cp(e){Ou(e)}function Ip(e){console.error(e)}function Dp(e){Ou(e)}function Mu(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Np(e,n,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function pf(e,n,a){return a=cr(a),a.tag=3,a.payload={element:null},a.callback=function(){Mu(e,n)},a}function Vp(e){return e=cr(e),e.tag=3,e}function xp(e,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=o.value;e.payload=function(){return h(d)},e.callback=function(){Np(n,a,o)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){Np(n,a,o),typeof h!="function"&&(Er===null?Er=new Set([this]):Er.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function e1(e,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&wo(n,a,h,!0),a=Vn.current,a!==null){switch(a.tag){case 13:return ai===null?Bf():a.alternate===null&&he===0&&(he=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Fh?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),qf(e,o,h)),!1;case 22:return a.flags|=65536,o===Fh?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),qf(e,o,h)),!1}throw Error(s(435,a.tag))}return qf(e,o,h),Bf(),!1}if(jt)return n=Vn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Lh&&(e=Error(s(422),{cause:o}),Ro(Cn(e,a)))):(o!==Lh&&(n=Error(s(423),{cause:o}),Ro(Cn(n,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Cn(o,a),h=pf(e.stateNode,o,h),Yh(e,h),he!==4&&(he=2)),!1;var d=Error(s(520),{cause:o});if(d=Cn(d,a),Qo===null?Qo=[d]:Qo.push(d),he!==4&&(he=2),n===null)return!0;o=Cn(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=pf(a.stateNode,o,e),Yh(a,e),!1;case 1:if(n=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Er===null||!Er.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Vp(h),xp(h,e,a,o),Yh(a,h),!1}a=a.return}while(a!==null);return!1}var Op=Error(s(461)),xe=!1;function ke(e,n,a,o){n.child=e===null?Sp(n,null,a,o):gs(n,e.child,a,o)}function Mp(e,n,a,o,h){a=a.render;var d=n.ref;if("ref"in o){var v={};for(var T in o)T!=="ref"&&(v[T]=o[T])}else v=o;return va(n),o=Jh(e,n,a,v,d,h),T=Wh(),e!==null&&!xe?(tf(e,n,h),zi(e,n,h)):(jt&&T&&Ph(n),n.flags|=1,ke(e,n,o,h),n.child)}function Pp(e,n,a,o,h){if(e===null){var d=a.type;return typeof d=="function"&&!xh(d)&&d.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=d,Up(e,n,d,o,h)):(e=du(a.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(d=e.child,!bf(e,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:To,a(v,o)&&e.ref===n.ref)return zi(e,n,h)}return n.flags|=1,e=xi(d,o),e.ref=n.ref,e.return=n,n.child=e}function Up(e,n,a,o,h){if(e!==null){var d=e.memoizedProps;if(To(d,o)&&e.ref===n.ref)if(xe=!1,n.pendingProps=o=d,bf(e,h))(e.flags&131072)!==0&&(xe=!0);else return n.lanes=e.lanes,zi(e,n,h)}return yf(e,n,a,o,h)}function Lp(e,n,a){var o=n.pendingProps,h=o.children,d=e!==null?e.memoizedState:null;if(o.mode==="hidden"){if((n.flags&128)!==0){if(o=d!==null?d.baseLanes|a:a,e!==null){for(h=n.child=e.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;n.childLanes=d&~o}else n.childLanes=0,n.child=null;return kp(e,n,o,a)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&_u(n,d!==null?d.cachePool:null),d!==null?Ug(n,d):$h(),bp(n);else return n.lanes=n.childLanes=536870912,kp(e,n,d!==null?d.baseLanes|a:a,a)}else d!==null?(_u(n,d.cachePool),Ug(n,d),mr(),n.memoizedState=null):(e!==null&&_u(n,null),$h(),mr());return ke(e,n,h,a),n.child}function kp(e,n,a,o){var h=Hh();return h=h===null?null:{parent:we._currentValue,pool:h},n.memoizedState={baseLanes:a,cachePool:h},e!==null&&_u(n,null),$h(),bp(n),e!==null&&wo(e,n,o,!0),null}function Pu(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function yf(e,n,a,o,h){return va(n),a=Jh(e,n,a,o,void 0,h),o=Wh(),e!==null&&!xe?(tf(e,n,h),zi(e,n,h)):(jt&&o&&Ph(n),n.flags|=1,ke(e,n,a,h),n.child)}function zp(e,n,a,o,h,d){return va(n),n.updateQueue=null,a=kg(n,o,a,h),Lg(e),o=Wh(),e!==null&&!xe?(tf(e,n,d),zi(e,n,d)):(jt&&o&&Ph(n),n.flags|=1,ke(e,n,a,d),n.child)}function Bp(e,n,a,o,h){if(va(n),n.stateNode===null){var d=as,v=a.contextType;typeof v=="object"&&v!==null&&(d=Ge(v)),d=new a(o,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=gf,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=o,d.state=n.memoizedState,d.refs={},Gh(n),v=a.contextType,d.context=typeof v=="object"&&v!==null?Ge(v):as,d.state=n.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(mf(n,a,v,o),d.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&gf.enqueueReplaceState(d,d.state,null),Oo(n,o,d,h),xo(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){d=n.stateNode;var T=n.memoizedProps,C=Aa(a,T);d.props=C;var z=d.context,$=a.contextType;v=as,typeof $=="object"&&$!==null&&(v=Ge($));var W=a.getDerivedStateFromProps;$=typeof W=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,$||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||z!==v)&&wp(n,d,o,v),ur=!1;var j=n.memoizedState;d.state=j,Oo(n,o,d,h),xo(),z=n.memoizedState,T||j!==z||ur?(typeof W=="function"&&(mf(n,a,W,o),z=n.memoizedState),(C=ur||Rp(n,a,C,o,j,z,v))?($||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),d.props=o,d.state=z,d.context=v,o=C):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{d=n.stateNode,Qh(e,n),v=n.memoizedProps,$=Aa(a,v),d.props=$,W=n.pendingProps,j=d.context,z=a.contextType,C=as,typeof z=="object"&&z!==null&&(C=Ge(z)),T=a.getDerivedStateFromProps,(z=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==W||j!==C)&&wp(n,d,o,C),ur=!1,j=n.memoizedState,d.state=j,Oo(n,o,d,h),xo();var q=n.memoizedState;v!==W||j!==q||ur||e!==null&&e.dependencies!==null&&pu(e.dependencies)?(typeof T=="function"&&(mf(n,a,T,o),q=n.memoizedState),($=ur||Rp(n,a,$,o,j,q,C)||e!==null&&e.dependencies!==null&&pu(e.dependencies))?(z||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,q,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,q,C)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=q),d.props=o,d.state=q,d.context=C,o=$):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),o=!1)}return d=o,Pu(e,n),o=(n.flags&128)!==0,d||o?(d=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,e!==null&&o?(n.child=gs(n,e.child,null,h),n.child=gs(n,null,a,h)):ke(e,n,a,h),n.memoizedState=d.state,e=n.child):e=zi(e,n,h),e}function jp(e,n,a,o){return bo(),n.flags|=256,ke(e,n,a,o),n.child}var _f={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function vf(e){return{baseLanes:e,cachePool:Ig()}}function Ef(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=xn),e}function qp(e,n,a){var o=n.pendingProps,h=!1,d=(n.flags&128)!==0,v;if((v=d)||(v=e!==null&&e.memoizedState===null?!1:(Ce.current&2)!==0),v&&(h=!0,n.flags&=-129),v=(n.flags&32)!==0,n.flags&=-33,e===null){if(jt){if(h?dr(n):mr(),jt){var T=ce,C;if(C=T){t:{for(C=T,T=ri;C.nodeType!==8;){if(!T){T=null;break t}if(C=Hn(C.nextSibling),C===null){T=null;break t}}T=C}T!==null?(n.memoizedState={dehydrated:T,treeContext:ma!==null?{id:Oi,overflow:Mi}:null,retryLane:536870912,hydrationErrors:null},C=dn(18,null,null,0),C.stateNode=T,C.return=n,n.child=C,tn=n,ce=null,C=!0):C=!1}C||ya(n)}if(T=n.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return id(T)?n.lanes=32:n.lanes=536870912,null;ki(n)}return T=o.children,o=o.fallback,h?(mr(),h=n.mode,T=Uu({mode:"hidden",children:T},h),o=da(o,h,a,null),T.return=n,o.return=n,T.sibling=o,n.child=T,h=n.child,h.memoizedState=vf(a),h.childLanes=Ef(e,v,a),n.memoizedState=_f,o):(dr(n),Tf(n,T))}if(C=e.memoizedState,C!==null&&(T=C.dehydrated,T!==null)){if(d)n.flags&256?(dr(n),n.flags&=-257,n=Af(e,n,a)):n.memoizedState!==null?(mr(),n.child=e.child,n.flags|=128,n=null):(mr(),h=o.fallback,T=n.mode,o=Uu({mode:"visible",children:o.children},T),h=da(h,T,a,null),h.flags|=2,o.return=n,h.return=n,o.sibling=h,n.child=o,gs(n,e.child,null,a),o=n.child,o.memoizedState=vf(a),o.childLanes=Ef(e,v,a),n.memoizedState=_f,n=h);else if(dr(n),id(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var z=v.dgst;v=z,o=Error(s(419)),o.stack="",o.digest=v,Ro({value:o,source:null,stack:null}),n=Af(e,n,a)}else if(xe||wo(e,n,a,!1),v=(a&e.childLanes)!==0,xe||v){if(v=ee,v!==null&&(o=a&-a,o=(o&42)!==0?1:er(o),o=(o&(v.suspendedLanes|a))!==0?0:o,o!==0&&o!==C.retryLane))throw C.retryLane=o,rs(e,o),_n(v,e,o),Op;T.data==="$?"||Bf(),n=Af(e,n,a)}else T.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=C.treeContext,ce=Hn(T.nextSibling),tn=n,jt=!0,pa=null,ri=!1,e!==null&&(Dn[Nn++]=Oi,Dn[Nn++]=Mi,Dn[Nn++]=ma,Oi=e.id,Mi=e.overflow,ma=n),n=Tf(n,o.children),n.flags|=4096);return n}return h?(mr(),h=o.fallback,T=n.mode,C=e.child,z=C.sibling,o=xi(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,z!==null?h=xi(z,h):(h=da(h,T,a,null),h.flags|=2),h.return=n,o.return=n,o.sibling=h,n.child=o,o=h,h=n.child,T=e.child.memoizedState,T===null?T=vf(a):(C=T.cachePool,C!==null?(z=we._currentValue,C=C.parent!==z?{parent:z,pool:z}:C):C=Ig(),T={baseLanes:T.baseLanes|a,cachePool:C}),h.memoizedState=T,h.childLanes=Ef(e,v,a),n.memoizedState=_f,o):(dr(n),a=e.child,e=a.sibling,a=xi(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,e!==null&&(v=n.deletions,v===null?(n.deletions=[e],n.flags|=16):v.push(e)),n.child=a,n.memoizedState=null,a)}function Tf(e,n){return n=Uu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Uu(e,n){return e=dn(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Af(e,n,a){return gs(n,e.child,null,a),e=Tf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Hp(e,n,a){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),zh(e.return,n,a)}function Sf(e,n,a,o,h){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=o,d.tail=a,d.tailMode=h)}function Fp(e,n,a){var o=n.pendingProps,h=o.revealOrder,d=o.tail;if(ke(e,n,o.children,a),o=Ce.current,(o&2)!==0)o=o&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Hp(e,a,n);else if(e.tag===19)Hp(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(it(Ce,o),h){case"forwards":for(a=n.child,h=null;a!==null;)e=a.alternate,e!==null&&xu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),Sf(n,!1,h,a,d);break;case"backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&xu(e)===null){n.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Sf(n,!0,a,null,d);break;case"together":Sf(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function zi(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),vr|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(wo(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,a=xi(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=xi(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function bf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&pu(e)))}function n1(e,n,a){switch(n.tag){case 3:zt(n,n.stateNode.containerInfo),lr(n,we,e.memoizedState.cache),bo();break;case 27:case 5:Ln(n);break;case 4:zt(n,n.stateNode.containerInfo);break;case 10:lr(n,n.type,n.memoizedProps.value);break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(dr(n),n.flags|=128,null):(a&n.child.childLanes)!==0?qp(e,n,a):(dr(n),e=zi(e,n,a),e!==null?e.sibling:null);dr(n);break;case 19:var h=(e.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(wo(e,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return Fp(e,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),it(Ce,Ce.current),o)break;return null;case 22:case 23:return n.lanes=0,Lp(e,n,a);case 24:lr(n,we,e.memoizedState.cache)}return zi(e,n,a)}function Gp(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)xe=!0;else{if(!bf(e,a)&&(n.flags&128)===0)return xe=!1,n1(e,n,a);xe=(e.flags&131072)!==0}else xe=!1,jt&&(n.flags&1048576)!==0&&Tg(n,gu,n.index);switch(n.lanes=0,n.tag){case 16:t:{e=n.pendingProps;var o=n.elementType,h=o._init;if(o=h(o._payload),n.type=o,typeof o=="function")xh(o)?(e=Aa(o,e),n.tag=1,n=Bp(null,n,o,e,a)):(n.tag=0,n=yf(null,n,o,e,a));else{if(o!=null){if(h=o.$$typeof,h===pt){n.tag=11,n=Mp(null,n,o,e,a);break t}else if(h===N){n.tag=14,n=Pp(null,n,o,e,a);break t}}throw n=ie(o)||o,Error(s(306,n,""))}}return n;case 0:return yf(e,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=Aa(o,n.pendingProps),Bp(e,n,o,h,a);case 3:t:{if(zt(n,n.stateNode.containerInfo),e===null)throw Error(s(387));o=n.pendingProps;var d=n.memoizedState;h=d.element,Qh(e,n),Oo(n,o,null,a);var v=n.memoizedState;if(o=v.cache,lr(n,we,o),o!==d.cache&&Bh(n,[we],a,!0),xo(),o=v.element,d.isDehydrated)if(d={element:o,isDehydrated:!1,cache:v.cache},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){n=jp(e,n,o,a);break t}else if(o!==h){h=Cn(Error(s(424)),n),Ro(h),n=jp(e,n,o,a);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ce=Hn(e.firstChild),tn=n,jt=!0,pa=null,ri=!0,a=Sp(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(bo(),o===h){n=zi(e,n,a);break t}ke(e,n,o,a)}n=n.child}return n;case 26:return Pu(e,n),e===null?(a=$y(n.type,null,n.pendingProps,null))?n.memoizedState=a:jt||(a=n.type,e=n.pendingProps,o=Xu(ct.current).createElement(a),o[Se]=n,o[pe]=e,Be(o,a,e),fe(o),n.stateNode=o):n.memoizedState=$y(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Ln(n),e===null&&jt&&(o=n.stateNode=Qy(n.type,n.pendingProps,ct.current),tn=n,ri=!0,h=ce,Sr(n.type)?(rd=h,ce=Hn(o.firstChild)):ce=h),ke(e,n,n.pendingProps.children,a),Pu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&jt&&((h=o=ce)&&(o=N1(o,n.type,n.pendingProps,ri),o!==null?(n.stateNode=o,tn=n,ce=Hn(o.firstChild),ri=!1,h=!0):h=!1),h||ya(n)),Ln(n),h=n.type,d=n.pendingProps,v=e!==null?e.memoizedProps:null,o=d.children,td(h,d)?o=null:v!==null&&td(h,v)&&(n.flags|=32),n.memoizedState!==null&&(h=Jh(e,n,KT,null,null,a),el._currentValue=h),Pu(e,n),ke(e,n,o,a),n.child;case 6:return e===null&&jt&&((e=a=ce)&&(a=V1(a,n.pendingProps,ri),a!==null?(n.stateNode=a,tn=n,ce=null,e=!0):e=!1),e||ya(n)),null;case 13:return qp(e,n,a);case 4:return zt(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=gs(n,null,o,a):ke(e,n,o,a),n.child;case 11:return Mp(e,n,n.type,n.pendingProps,a);case 7:return ke(e,n,n.pendingProps,a),n.child;case 8:return ke(e,n,n.pendingProps.children,a),n.child;case 12:return ke(e,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,lr(n,n.type,o.value),ke(e,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,va(n),h=Ge(h),o=o(h),n.flags|=1,ke(e,n,o,a),n.child;case 14:return Pp(e,n,n.type,n.pendingProps,a);case 15:return Up(e,n,n.type,n.pendingProps,a);case 19:return Fp(e,n,a);case 31:return o=n.pendingProps,a=n.mode,o={mode:o.mode,children:o.children},e===null?(a=Uu(o,a),a.ref=n.ref,n.child=a,a.return=n,n=a):(a=xi(e.child,o),a.ref=n.ref,n.child=a,a.return=n,n=a),n;case 22:return Lp(e,n,a);case 24:return va(n),o=Ge(we),e===null?(h=Hh(),h===null&&(h=ee,d=jh(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),n.memoizedState={parent:o,cache:h},Gh(n),lr(n,we,h)):((e.lanes&a)!==0&&(Qh(e,n),Oo(n,null,null,a),xo()),h=e.memoizedState,d=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),lr(n,we,o)):(o=d.cache,lr(n,we,o),o!==h.cache&&Bh(n,[we],a,!0))),ke(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Bi(e){e.flags|=4}function Qp(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!t_(n)){if(n=Vn.current,n!==null&&((Ut&4194048)===Ut?ai!==null:(Ut&62914560)!==Ut&&(Ut&536870912)===0||n!==ai))throw No=Fh,Dg;e.flags|=8192}}function Lu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?no():536870912,e.lanes|=n,vs|=n)}function Bo(e,n){if(!jt)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function se(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(n)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,n}function i1(e,n,a){var o=n.pendingProps;switch(Uh(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return se(n),null;case 1:return se(n),null;case 3:return a=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Ui(we),en(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(So(n)?Bi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,bg())),se(n),null;case 26:return a=n.memoizedState,e===null?(Bi(n),a!==null?(se(n),Qp(n,a)):(se(n),n.flags&=-16777217)):a?a!==e.memoizedState?(Bi(n),se(n),Qp(n,a)):(se(n),n.flags&=-16777217):(e.memoizedProps!==o&&Bi(n),se(n),n.flags&=-16777217),null;case 27:Xe(n),a=ct.current;var h=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Bi(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return se(n),null}e=lt.current,So(n)?Ag(n):(e=Qy(h,o,a),n.stateNode=e,Bi(n))}return se(n),null;case 5:if(Xe(n),a=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Bi(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return se(n),null}if(e=lt.current,So(n))Ag(n);else{switch(h=Xu(ct.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?h.createElement("select",{is:o.is}):h.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?h.createElement(a,{is:o.is}):h.createElement(a)}}e[Se]=n,e[pe]=o;t:for(h=n.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break t;for(;h.sibling===null;){if(h.return===null||h.return===n)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}n.stateNode=e;t:switch(Be(e,a,o),a){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Bi(n)}}return se(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Bi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(s(166));if(e=ct.current,So(n)){if(e=n.stateNode,a=n.memoizedProps,o=null,h=tn,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Se]=n,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||zy(e.nodeValue,a)),e||ya(n)}else e=Xu(e).createTextNode(o),e[Se]=n,n.stateNode=e}return se(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=So(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Se]=n}else bo(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;se(n),h=!1}else h=bg(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(ki(n),n):(ki(n),null)}if(ki(n),(n.flags&128)!==0)return n.lanes=a,n;if(a=o!==null,e=e!==null&&e.memoizedState!==null,a){o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool);var d=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==h&&(o.flags|=2048)}return a!==e&&a&&(n.child.flags|=8192),Lu(n,n.updateQueue),se(n),null;case 4:return en(),e===null&&$f(n.stateNode.containerInfo),se(n),null;case 10:return Ui(n.type),se(n),null;case 19:if(rt(Ce),h=n.memoizedState,h===null)return se(n),null;if(o=(n.flags&128)!==0,d=h.rendering,d===null)if(o)Bo(h,!1);else{if(he!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(d=xu(e),d!==null){for(n.flags|=128,Bo(h,!1),e=d.updateQueue,n.updateQueue=e,Lu(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)Eg(a,e),a=a.sibling;return it(Ce,Ce.current&1|2),n.child}e=e.sibling}h.tail!==null&&Tn()>Bu&&(n.flags|=128,o=!0,Bo(h,!1),n.lanes=4194304)}else{if(!o)if(e=xu(d),e!==null){if(n.flags|=128,o=!0,e=e.updateQueue,n.updateQueue=e,Lu(n,e),Bo(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!jt)return se(n),null}else 2*Tn()-h.renderingStartTime>Bu&&a!==536870912&&(n.flags|=128,o=!0,Bo(h,!1),n.lanes=4194304);h.isBackwards?(d.sibling=n.child,n.child=d):(e=h.last,e!==null?e.sibling=d:n.child=d,h.last=d)}return h.tail!==null?(n=h.tail,h.rendering=n,h.tail=n.sibling,h.renderingStartTime=Tn(),n.sibling=null,e=Ce.current,it(Ce,o?e&1|2:e&1),n):(se(n),null);case 22:case 23:return ki(n),Xh(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(se(n),n.subtreeFlags&6&&(n.flags|=8192)):se(n),a=n.updateQueue,a!==null&&Lu(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),e!==null&&rt(Ea),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Ui(we),se(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function r1(e,n){switch(Uh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Ui(we),en(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Xe(n),null;case 13:if(ki(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));bo()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return rt(Ce),null;case 4:return en(),null;case 10:return Ui(n.type),null;case 22:case 23:return ki(n),Xh(),e!==null&&rt(Ea),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Ui(we),null;case 25:return null;default:return null}}function Yp(e,n){switch(Uh(n),n.tag){case 3:Ui(we),en();break;case 26:case 27:case 5:Xe(n);break;case 4:en();break;case 13:ki(n);break;case 19:rt(Ce);break;case 10:Ui(n.type);break;case 22:case 23:ki(n),Xh(),e!==null&&rt(Ea);break;case 24:Ui(we)}}function jo(e,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var d=a.create,v=a.inst;o=d(),v.destroy=o}a=a.next}while(a!==h)}}catch(T){Wt(n,n.return,T)}}function gr(e,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var d=h.next;o=d;do{if((o.tag&e)===e){var v=o.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=n;var C=a,z=T;try{z()}catch($){Wt(h,C,$)}}}o=o.next}while(o!==d)}}catch($){Wt(n,n.return,$)}}function Kp(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{Pg(n,a)}catch(o){Wt(e,e.return,o)}}}function $p(e,n,a){a.props=Aa(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){Wt(e,n,o)}}function qo(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(h){Wt(e,n,h)}}function si(e,n){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){Wt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Wt(e,n,h)}else a.current=null}function Xp(e){var n=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){Wt(e,e.return,h)}}function Rf(e,n,a){try{var o=e.stateNode;R1(o,e.type,a,n),o[pe]=n}catch(h){Wt(e,e.return,h)}}function Zp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Sr(e.type)||e.tag===4}function wf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Zp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Sr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Cf(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=$u));else if(o!==4&&(o===27&&Sr(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(Cf(e,n,a),e=e.sibling;e!==null;)Cf(e,n,a),e=e.sibling}function ku(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(o!==4&&(o===27&&Sr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(ku(e,n,a),e=e.sibling;e!==null;)ku(e,n,a),e=e.sibling}function Jp(e){var n=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Be(n,o,a),n[Se]=e,n[pe]=a}catch(d){Wt(e,e.return,d)}}var ji=!1,me=!1,If=!1,Wp=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function a1(e,n){if(e=e.containerInfo,Jf=nc,e=cg(e),Rh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var v=0,T=-1,C=-1,z=0,$=0,W=e,j=null;e:for(;;){for(var q;W!==a||h!==0&&W.nodeType!==3||(T=v+h),W!==d||o!==0&&W.nodeType!==3||(C=v+o),W.nodeType===3&&(v+=W.nodeValue.length),(q=W.firstChild)!==null;)j=W,W=q;for(;;){if(W===e)break e;if(j===a&&++z===h&&(T=v),j===d&&++$===o&&(C=v),(q=W.nextSibling)!==null)break;W=j,j=W.parentNode}W=q}a=T===-1||C===-1?null:{start:T,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(Wf={focusedElem:e,selectionRange:a},nc=!1,Oe=n;Oe!==null;)if(n=Oe,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,Oe=e;else for(;Oe!==null;){switch(n=Oe,d=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=n,h=d.memoizedProps,d=d.memoizedState,o=a.stateNode;try{var bt=Aa(a.type,h,a.elementType===a.type);e=o.getSnapshotBeforeUpdate(bt,d),o.__reactInternalSnapshotBeforeUpdate=e}catch(Et){Wt(a,a.return,Et)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)nd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":nd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,Oe=e;break}Oe=n.return}}function ty(e,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:pr(e,a),o&4&&jo(5,a);break;case 1:if(pr(e,a),o&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(v){Wt(a,a.return,v)}else{var h=Aa(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(v){Wt(a,a.return,v)}}o&64&&Kp(a),o&512&&qo(a,a.return);break;case 3:if(pr(e,a),o&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Pg(e,n)}catch(v){Wt(a,a.return,v)}}break;case 27:n===null&&o&4&&Jp(a);case 26:case 5:pr(e,a),n===null&&o&4&&Xp(a),o&512&&qo(a,a.return);break;case 12:pr(e,a);break;case 13:pr(e,a),o&4&&iy(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=m1.bind(null,a),x1(e,a))));break;case 22:if(o=a.memoizedState!==null||ji,!o){n=n!==null&&n.memoizedState!==null||me,h=ji;var d=me;ji=o,(me=n)&&!d?yr(e,a,(a.subtreeFlags&8772)!==0):pr(e,a),ji=h,me=d}break;case 30:break;default:pr(e,a)}}function ey(e){var n=e.alternate;n!==null&&(e.alternate=null,ey(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&rr(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ae=null,rn=!1;function qi(e,n,a){for(a=a.child;a!==null;)ny(e,n,a),a=a.sibling}function ny(e,n,a){if(Ft&&typeof Ft.onCommitFiberUnmount=="function")try{Ft.onCommitFiberUnmount(ue,a)}catch{}switch(a.tag){case 26:me||si(a,n),qi(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:me||si(a,n);var o=ae,h=rn;Sr(a.type)&&(ae=a.stateNode,rn=!1),qi(e,n,a),Zo(a.stateNode),ae=o,rn=h;break;case 5:me||si(a,n);case 6:if(o=ae,h=rn,ae=null,qi(e,n,a),ae=o,rn=h,ae!==null)if(rn)try{(ae.nodeType===9?ae.body:ae.nodeName==="HTML"?ae.ownerDocument.body:ae).removeChild(a.stateNode)}catch(d){Wt(a,n,d)}else try{ae.removeChild(a.stateNode)}catch(d){Wt(a,n,d)}break;case 18:ae!==null&&(rn?(e=ae,Fy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),al(e)):Fy(ae,a.stateNode));break;case 4:o=ae,h=rn,ae=a.stateNode.containerInfo,rn=!0,qi(e,n,a),ae=o,rn=h;break;case 0:case 11:case 14:case 15:me||gr(2,a,n),me||gr(4,a,n),qi(e,n,a);break;case 1:me||(si(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&$p(a,n,o)),qi(e,n,a);break;case 21:qi(e,n,a);break;case 22:me=(o=me)||a.memoizedState!==null,qi(e,n,a),me=o;break;default:qi(e,n,a)}}function iy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{al(e)}catch(a){Wt(n,n.return,a)}}function s1(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Wp),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Wp),n;default:throw Error(s(435,e.tag))}}function Df(e,n){var a=s1(e);n.forEach(function(o){var h=g1.bind(null,e,o);a.has(o)||(a.add(o),o.then(h,h))})}function mn(e,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],d=e,v=n,T=v;t:for(;T!==null;){switch(T.tag){case 27:if(Sr(T.type)){ae=T.stateNode,rn=!1;break t}break;case 5:ae=T.stateNode,rn=!1;break t;case 3:case 4:ae=T.stateNode.containerInfo,rn=!0;break t}T=T.return}if(ae===null)throw Error(s(160));ny(d,v,h),ae=null,rn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)ry(n,e),n=n.sibling}var qn=null;function ry(e,n){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:mn(n,e),gn(e),o&4&&(gr(3,e,e.return),jo(3,e),gr(5,e,e.return));break;case 1:mn(n,e),gn(e),o&512&&(me||a===null||si(a,a.return)),o&64&&ji&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=qn;if(mn(n,e),gn(e),o&512&&(me||a===null||si(a,a.return)),o&4){var d=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Zr]||d[Se]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(o),h.head.insertBefore(d,h.querySelector("head > title"))),Be(d,o,a),d[Se]=e,fe(d),o=d;break t;case"link":var v=Jy("link","href",h).get(o+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break e}}d=h.createElement(o),Be(d,o,a),h.head.appendChild(d);break;case"meta":if(v=Jy("meta","content",h).get(o+(a.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break e}}d=h.createElement(o),Be(d,o,a),h.head.appendChild(d);break;default:throw Error(s(468,o))}d[Se]=e,fe(d),o=d}e.stateNode=o}else Wy(h,e.type,e.stateNode);else e.stateNode=Zy(h,o,e.memoizedProps);else d!==o?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,o===null?Wy(h,e.type,e.stateNode):Zy(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Rf(e,e.memoizedProps,a.memoizedProps)}break;case 27:mn(n,e),gn(e),o&512&&(me||a===null||si(a,a.return)),a!==null&&o&4&&Rf(e,e.memoizedProps,a.memoizedProps);break;case 5:if(mn(n,e),gn(e),o&512&&(me||a===null||si(a,a.return)),e.flags&32){h=e.stateNode;try{Sn(h,"")}catch(q){Wt(e,e.return,q)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Rf(e,h,a!==null?a.memoizedProps:h)),o&1024&&(If=!0);break;case 6:if(mn(n,e),gn(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(q){Wt(e,e.return,q)}}break;case 3:if(Wu=null,h=qn,qn=Zu(n.containerInfo),mn(n,e),qn=h,gn(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{al(n.containerInfo)}catch(q){Wt(e,e.return,q)}If&&(If=!1,ay(e));break;case 4:o=qn,qn=Zu(e.stateNode.containerInfo),mn(n,e),gn(e),qn=o;break;case 12:mn(n,e),gn(e);break;case 13:mn(n,e),gn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Pf=Tn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Df(e,o)));break;case 22:h=e.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,z=ji,$=me;if(ji=z||h,me=$||C,mn(n,e),me=$,ji=z,gn(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||C||ji||me||Sa(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){C=a=n;try{if(d=C.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=C.stateNode;var W=C.memoizedProps.style,j=W!=null&&W.hasOwnProperty("display")?W.display:null;T.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(q){Wt(C,C.return,q)}}}else if(n.tag===6){if(a===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(q){Wt(C,C.return,q)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,Df(e,a))));break;case 19:mn(n,e),gn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Df(e,o)));break;case 30:break;case 21:break;default:mn(n,e),gn(e)}}function gn(e){var n=e.flags;if(n&2){try{for(var a,o=e.return;o!==null;){if(Zp(o)){a=o;break}o=o.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=wf(e);ku(e,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(Sn(v,""),a.flags&=-33);var T=wf(e);ku(e,T,v);break;case 3:case 4:var C=a.stateNode.containerInfo,z=wf(e);Cf(e,z,C);break;default:throw Error(s(161))}}catch($){Wt(e,e.return,$)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function ay(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;ay(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function pr(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)ty(e,n.alternate,n),n=n.sibling}function Sa(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:gr(4,n,n.return),Sa(n);break;case 1:si(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&$p(n,n.return,a),Sa(n);break;case 27:Zo(n.stateNode);case 26:case 5:si(n,n.return),Sa(n);break;case 22:n.memoizedState===null&&Sa(n);break;case 30:Sa(n);break;default:Sa(n)}e=e.sibling}}function yr(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,d=n,v=d.flags;switch(d.tag){case 0:case 11:case 15:yr(h,d,a),jo(4,d);break;case 1:if(yr(h,d,a),o=d,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Wt(o,o.return,z)}if(o=d,h=o.updateQueue,h!==null){var T=o.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)Mg(C[h],T)}catch(z){Wt(o,o.return,z)}}a&&v&64&&Kp(d),qo(d,d.return);break;case 27:Jp(d);case 26:case 5:yr(h,d,a),a&&o===null&&v&4&&Xp(d),qo(d,d.return);break;case 12:yr(h,d,a);break;case 13:yr(h,d,a),a&&v&4&&iy(h,d);break;case 22:d.memoizedState===null&&yr(h,d,a),qo(d,d.return);break;case 30:break;default:yr(h,d,a)}n=n.sibling}}function Nf(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Co(a))}function Vf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Co(e))}function oi(e,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)sy(e,n,a,o),n=n.sibling}function sy(e,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:oi(e,n,a,o),h&2048&&jo(9,n);break;case 1:oi(e,n,a,o);break;case 3:oi(e,n,a,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Co(e)));break;case 12:if(h&2048){oi(e,n,a,o),e=n.stateNode;try{var d=n.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){Wt(n,n.return,C)}}else oi(e,n,a,o);break;case 13:oi(e,n,a,o);break;case 23:break;case 22:d=n.stateNode,v=n.alternate,n.memoizedState!==null?d._visibility&2?oi(e,n,a,o):Ho(e,n):d._visibility&2?oi(e,n,a,o):(d._visibility|=2,ps(e,n,a,o,(n.subtreeFlags&10256)!==0)),h&2048&&Nf(v,n);break;case 24:oi(e,n,a,o),h&2048&&Vf(n.alternate,n);break;default:oi(e,n,a,o)}}function ps(e,n,a,o,h){for(h=h&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var d=e,v=n,T=a,C=o,z=v.flags;switch(v.tag){case 0:case 11:case 15:ps(d,v,T,C,h),jo(8,v);break;case 23:break;case 22:var $=v.stateNode;v.memoizedState!==null?$._visibility&2?ps(d,v,T,C,h):Ho(d,v):($._visibility|=2,ps(d,v,T,C,h)),h&&z&2048&&Nf(v.alternate,v);break;case 24:ps(d,v,T,C,h),h&&z&2048&&Vf(v.alternate,v);break;default:ps(d,v,T,C,h)}n=n.sibling}}function Ho(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,o=n,h=o.flags;switch(o.tag){case 22:Ho(a,o),h&2048&&Nf(o.alternate,o);break;case 24:Ho(a,o),h&2048&&Vf(o.alternate,o);break;default:Ho(a,o)}n=n.sibling}}var Fo=8192;function ys(e){if(e.subtreeFlags&Fo)for(e=e.child;e!==null;)oy(e),e=e.sibling}function oy(e){switch(e.tag){case 26:ys(e),e.flags&Fo&&e.memoizedState!==null&&G1(qn,e.memoizedState,e.memoizedProps);break;case 5:ys(e);break;case 3:case 4:var n=qn;qn=Zu(e.stateNode.containerInfo),ys(e),qn=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Fo,Fo=16777216,ys(e),Fo=n):ys(e));break;default:ys(e)}}function ly(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Go(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Oe=o,cy(o,e)}ly(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)uy(e),e=e.sibling}function uy(e){switch(e.tag){case 0:case 11:case 15:Go(e),e.flags&2048&&gr(9,e,e.return);break;case 3:Go(e);break;case 12:Go(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,zu(e)):Go(e);break;default:Go(e)}}function zu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Oe=o,cy(o,e)}ly(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:gr(8,n,n.return),zu(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,zu(n));break;default:zu(n)}e=e.sibling}}function cy(e,n){for(;Oe!==null;){var a=Oe;switch(a.tag){case 0:case 11:case 15:gr(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Co(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Oe=o;else t:for(a=e;Oe!==null;){o=Oe;var h=o.sibling,d=o.return;if(ey(o),o===a){Oe=null;break t}if(h!==null){h.return=d,Oe=h;break t}Oe=d}}}var o1={getCacheForType:function(e){var n=Ge(we),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a}},l1=typeof WeakMap=="function"?WeakMap:Map,Gt=0,ee=null,Nt=null,Ut=0,Qt=0,pn=null,_r=!1,_s=!1,xf=!1,Hi=0,he=0,vr=0,ba=0,Of=0,xn=0,vs=0,Qo=null,an=null,Mf=!1,Pf=0,Bu=1/0,ju=null,Er=null,ze=0,Tr=null,Es=null,Ts=0,Uf=0,Lf=null,hy=null,Yo=0,kf=null;function yn(){if((Gt&2)!==0&&Ut!==0)return Ut&-Ut;if(K.T!==null){var e=ls;return e!==0?e:Gf()}return nr()}function fy(){xn===0&&(xn=(Ut&536870912)===0||jt?eo():536870912);var e=Vn.current;return e!==null&&(e.flags|=32),xn}function _n(e,n,a){(e===ee&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)&&(As(e,0),Ar(e,Ut,xn,!1)),Ti(e,a),((Gt&2)===0||e!==ee)&&(e===ee&&((Gt&2)===0&&(ba|=a),he===4&&Ar(e,Ut,xn,!1)),li(e))}function dy(e,n,a){if((Gt&6)!==0)throw Error(s(327));var o=!a&&(n&124)===0&&(n&e.expiredLanes)===0||Xr(e,n),h=o?h1(e,n):jf(e,n,!0),d=o;do{if(h===0){_s&&!o&&Ar(e,n,0,!1);break}else{if(a=e.current.alternate,d&&!u1(a)){h=jf(e,n,!1),d=!1;continue}if(h===2){if(d=n,e.errorRecoveryDisabledLanes&d)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){n=v;t:{var T=e;h=Qo;var C=T.current.memoizedState.isDehydrated;if(C&&(As(T,v).flags|=256),v=jf(T,v,!1),v!==2){if(xf&&!C){T.errorRecoveryDisabledLanes|=d,ba|=d,h=4;break t}d=an,an=h,d!==null&&(an===null?an=d:an.push.apply(an,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){As(e,0),Ar(e,n,0,!0);break}t:{switch(o=e,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Ar(o,n,xn,!_r);break t;case 2:an=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(h=Pf+300-Tn(),10<h)){if(Ar(o,n,xn,!_r),za(o,0,!0)!==0)break t;o.timeoutHandle=qy(my.bind(null,o,a,an,ju,Mf,n,xn,ba,vs,_r,d,2,-0,0),h);break t}my(o,a,an,ju,Mf,n,xn,ba,vs,_r,d,0,-0,0)}}break}while(!0);li(e)}function my(e,n,a,o,h,d,v,T,C,z,$,W,j,q){if(e.timeoutHandle=-1,W=n.subtreeFlags,(W&8192||(W&16785408)===16785408)&&(tl={stylesheets:null,count:0,unsuspend:F1},oy(n),W=Q1(),W!==null)){e.cancelPendingCommit=W(Ty.bind(null,e,n,d,a,o,h,v,T,C,$,1,j,q)),Ar(e,d,v,!z);return}Ty(e,n,d,a,o,h,v,T,C)}function u1(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],d=h.getSnapshot;h=h.value;try{if(!fn(d(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ar(e,n,a,o){n&=~Of,n&=~ba,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var d=31-Fe(h),v=1<<d;o[d]=-1,h&=~v}a!==0&&Yn(e,a,n)}function qu(){return(Gt&6)===0?(Ko(0),!1):!0}function zf(){if(Nt!==null){if(Qt===0)var e=Nt.return;else e=Nt,Pi=_a=null,ef(e),ms=null,ko=0,e=Nt;for(;e!==null;)Yp(e.alternate,e),e=e.return;Nt=null}}function As(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,C1(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),zf(),ee=e,Nt=a=xi(e.current,null),Ut=n,Qt=0,pn=null,_r=!1,_s=Xr(e,n),xf=!1,vs=xn=Of=ba=vr=he=0,an=Qo=null,Mf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-Fe(o),d=1<<h;n|=e[h],o&=~d}return Hi=n,cu(),a}function gy(e,n){It=null,K.H=Du,n===Do||n===vu?(n=xg(),Qt=3):n===Dg?(n=xg(),Qt=4):Qt=n===Op?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,pn=n,Nt===null&&(he=1,Mu(e,Cn(n,e.current)))}function py(){var e=K.H;return K.H=Du,e===null?Du:e}function yy(){var e=K.A;return K.A=o1,e}function Bf(){he=4,_r||(Ut&4194048)!==Ut&&Vn.current!==null||(_s=!0),(vr&134217727)===0&&(ba&134217727)===0||ee===null||Ar(ee,Ut,xn,!1)}function jf(e,n,a){var o=Gt;Gt|=2;var h=py(),d=yy();(ee!==e||Ut!==n)&&(ju=null,As(e,n)),n=!1;var v=he;t:do try{if(Qt!==0&&Nt!==null){var T=Nt,C=pn;switch(Qt){case 8:zf(),v=6;break t;case 3:case 2:case 9:case 6:Vn.current===null&&(n=!0);var z=Qt;if(Qt=0,pn=null,Ss(e,T,C,z),a&&_s){v=0;break t}break;default:z=Qt,Qt=0,pn=null,Ss(e,T,C,z)}}c1(),v=he;break}catch($){gy(e,$)}while(!0);return n&&e.shellSuspendCounter++,Pi=_a=null,Gt=o,K.H=h,K.A=d,Nt===null&&(ee=null,Ut=0,cu()),v}function c1(){for(;Nt!==null;)_y(Nt)}function h1(e,n){var a=Gt;Gt|=2;var o=py(),h=yy();ee!==e||Ut!==n?(ju=null,Bu=Tn()+500,As(e,n)):_s=Xr(e,n);t:do try{if(Qt!==0&&Nt!==null){n=Nt;var d=pn;e:switch(Qt){case 1:Qt=0,pn=null,Ss(e,n,d,1);break;case 2:case 9:if(Ng(d)){Qt=0,pn=null,vy(n);break}n=function(){Qt!==2&&Qt!==9||ee!==e||(Qt=7),li(e)},d.then(n,n);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:Ng(d)?(Qt=0,pn=null,vy(n)):(Qt=0,pn=null,Ss(e,n,d,7));break;case 5:var v=null;switch(Nt.tag){case 26:v=Nt.memoizedState;case 5:case 27:var T=Nt;if(!v||t_(v)){Qt=0,pn=null;var C=T.sibling;if(C!==null)Nt=C;else{var z=T.return;z!==null?(Nt=z,Hu(z)):Nt=null}break e}}Qt=0,pn=null,Ss(e,n,d,5);break;case 6:Qt=0,pn=null,Ss(e,n,d,6);break;case 8:zf(),he=6;break t;default:throw Error(s(462))}}f1();break}catch($){gy(e,$)}while(!0);return Pi=_a=null,K.H=o,K.A=h,Gt=a,Nt!==null?0:(ee=null,Ut=0,cu(),he)}function f1(){for(;Nt!==null&&!Zs();)_y(Nt)}function _y(e){var n=Gp(e.alternate,e,Hi);e.memoizedProps=e.pendingProps,n===null?Hu(e):Nt=n}function vy(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=zp(a,n,n.pendingProps,n.type,void 0,Ut);break;case 11:n=zp(a,n,n.pendingProps,n.type.render,n.ref,Ut);break;case 5:ef(n);default:Yp(a,n),n=Nt=Eg(n,Hi),n=Gp(a,n,Hi)}e.memoizedProps=e.pendingProps,n===null?Hu(e):Nt=n}function Ss(e,n,a,o){Pi=_a=null,ef(n),ms=null,ko=0;var h=n.return;try{if(e1(e,h,n,a,Ut)){he=1,Mu(e,Cn(a,e.current)),Nt=null;return}}catch(d){if(h!==null)throw Nt=h,d;he=1,Mu(e,Cn(a,e.current)),Nt=null;return}n.flags&32768?(jt||o===1?e=!0:_s||(Ut&536870912)!==0?e=!1:(_r=e=!0,(o===2||o===9||o===3||o===6)&&(o=Vn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Ey(n,e)):Hu(n)}function Hu(e){var n=e;do{if((n.flags&32768)!==0){Ey(n,_r);return}e=n.return;var a=i1(n.alternate,n,Hi);if(a!==null){Nt=a;return}if(n=n.sibling,n!==null){Nt=n;return}Nt=n=e}while(n!==null);he===0&&(he=5)}function Ey(e,n){do{var a=r1(e.alternate,e);if(a!==null){a.flags&=32767,Nt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){Nt=e;return}Nt=e=a}while(e!==null);he=6,Nt=null}function Ty(e,n,a,o,h,d,v,T,C){e.cancelPendingCommit=null;do Fu();while(ze!==0);if((Gt&6)!==0)throw Error(s(327));if(n!==null){if(n===e.current)throw Error(s(177));if(d=n.lanes|n.childLanes,d|=Nh,io(e,a,d,v,T,C),e===ee&&(Nt=ee=null,Ut=0),Es=n,Tr=e,Ts=a,Uf=d,Lf=h,hy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,p1(Qr,function(){return wy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=K.T,K.T=null,h=at.p,at.p=2,v=Gt,Gt|=4;try{a1(e,n,a)}finally{Gt=v,at.p=h,K.T=o}}ze=1,Ay(),Sy(),by()}}function Ay(){if(ze===1){ze=0;var e=Tr,n=Es,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=K.T,K.T=null;var o=at.p;at.p=2;var h=Gt;Gt|=4;try{ry(n,e);var d=Wf,v=cg(e.containerInfo),T=d.focusedElem,C=d.selectionRange;if(v!==T&&T&&T.ownerDocument&&ug(T.ownerDocument.documentElement,T)){if(C!==null&&Rh(T)){var z=C.start,$=C.end;if($===void 0&&($=z),"selectionStart"in T)T.selectionStart=z,T.selectionEnd=Math.min($,T.value.length);else{var W=T.ownerDocument||document,j=W&&W.defaultView||window;if(j.getSelection){var q=j.getSelection(),bt=T.textContent.length,Et=Math.min(C.start,bt),Zt=C.end===void 0?Et:Math.min(C.end,bt);!q.extend&&Et>Zt&&(v=Zt,Zt=Et,Et=v);var P=lg(T,Et),x=lg(T,Zt);if(P&&x&&(q.rangeCount!==1||q.anchorNode!==P.node||q.anchorOffset!==P.offset||q.focusNode!==x.node||q.focusOffset!==x.offset)){var k=W.createRange();k.setStart(P.node,P.offset),q.removeAllRanges(),Et>Zt?(q.addRange(k),q.extend(x.node,x.offset)):(k.setEnd(x.node,x.offset),q.addRange(k))}}}}for(W=[],q=T;q=q.parentNode;)q.nodeType===1&&W.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<W.length;T++){var Z=W[T];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}nc=!!Jf,Wf=Jf=null}finally{Gt=h,at.p=o,K.T=a}}e.current=n,ze=2}}function Sy(){if(ze===2){ze=0;var e=Tr,n=Es,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=K.T,K.T=null;var o=at.p;at.p=2;var h=Gt;Gt|=4;try{ty(e,n.alternate,n)}finally{Gt=h,at.p=o,K.T=a}}ze=3}}function by(){if(ze===4||ze===3){ze=0,zl();var e=Tr,n=Es,a=Ts,o=hy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?ze=5:(ze=0,Es=Tr=null,Ry(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Er=null),Ba(a),n=n.stateNode,Ft&&typeof Ft.onCommitFiberRoot=="function")try{Ft.onCommitFiberRoot(ue,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=K.T,h=at.p,at.p=2,K.T=null;try{for(var d=e.onRecoverableError,v=0;v<o.length;v++){var T=o[v];d(T.value,{componentStack:T.stack})}}finally{K.T=n,at.p=h}}(Ts&3)!==0&&Fu(),li(e),h=e.pendingLanes,(a&4194090)!==0&&(h&42)!==0?e===kf?Yo++:(Yo=0,kf=e):Yo=0,Ko(0)}}function Ry(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Co(n)))}function Fu(e){return Ay(),Sy(),by(),wy()}function wy(){if(ze!==5)return!1;var e=Tr,n=Uf;Uf=0;var a=Ba(Ts),o=K.T,h=at.p;try{at.p=32>a?32:a,K.T=null,a=Lf,Lf=null;var d=Tr,v=Ts;if(ze=0,Es=Tr=null,Ts=0,(Gt&6)!==0)throw Error(s(331));var T=Gt;if(Gt|=4,uy(d.current),sy(d,d.current,v,a),Gt=T,Ko(0,!1),Ft&&typeof Ft.onPostCommitFiberRoot=="function")try{Ft.onPostCommitFiberRoot(ue,d)}catch{}return!0}finally{at.p=h,K.T=o,Ry(e,n)}}function Cy(e,n,a){n=Cn(a,n),n=pf(e.stateNode,n,2),e=hr(e,n,2),e!==null&&(Ti(e,2),li(e))}function Wt(e,n,a){if(e.tag===3)Cy(e,e,a);else for(;n!==null;){if(n.tag===3){Cy(n,e,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Er===null||!Er.has(o))){e=Cn(a,e),a=Vp(2),o=hr(n,a,2),o!==null&&(xp(a,o,n,e),Ti(o,2),li(o));break}}n=n.return}}function qf(e,n,a){var o=e.pingCache;if(o===null){o=e.pingCache=new l1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||(xf=!0,h.add(a),e=d1.bind(null,e,n,a),n.then(e,e))}function d1(e,n,a){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,ee===e&&(Ut&a)===a&&(he===4||he===3&&(Ut&62914560)===Ut&&300>Tn()-Pf?(Gt&2)===0&&As(e,0):Of|=a,vs===Ut&&(vs=0)),li(e)}function Iy(e,n){n===0&&(n=no()),e=rs(e,n),e!==null&&(Ti(e,n),li(e))}function m1(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),Iy(e,a)}function g1(e,n){var a=0;switch(e.tag){case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(n),Iy(e,a)}function p1(e,n){return Fr(e,n)}var Gu=null,bs=null,Hf=!1,Qu=!1,Ff=!1,Ra=0;function li(e){e!==bs&&e.next===null&&(bs===null?Gu=bs=e:bs=bs.next=e),Qu=!0,Hf||(Hf=!0,_1())}function Ko(e,n){if(!Ff&&Qu){Ff=!0;do for(var a=!1,o=Gu;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var d=0;else{var v=o.suspendedLanes,T=o.pingedLanes;d=(1<<31-Fe(42|e)+1)-1,d&=h&~(v&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,xy(o,d))}else d=Ut,d=za(o,o===ee?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(d&3)===0||Xr(o,d)||(a=!0,xy(o,d));o=o.next}while(a);Ff=!1}}function y1(){Dy()}function Dy(){Qu=Hf=!1;var e=0;Ra!==0&&(w1()&&(e=Ra),Ra=0);for(var n=Tn(),a=null,o=Gu;o!==null;){var h=o.next,d=Ny(o,n);d===0?(o.next=null,a===null?Gu=h:a.next=h,h===null&&(bs=a)):(a=o,(e!==0||(d&3)!==0)&&(Qu=!0)),o=h}Ko(e)}function Ny(e,n){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var v=31-Fe(d),T=1<<v,C=h[v];C===-1?((T&a)===0||(T&o)!==0)&&(h[v]=to(T,n)):C<=n&&(e.expiredLanes|=T),d&=~T}if(n=ee,a=Ut,a=za(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===n&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Gr(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Xr(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(o!==null&&Gr(o),Ba(a)){case 2:case 8:a=La;break;case 32:a=Qr;break;case 268435456:a=ka;break;default:a=Qr}return o=Vy.bind(null,e),a=Fr(a,o),e.callbackPriority=n,e.callbackNode=a,n}return o!==null&&o!==null&&Gr(o),e.callbackPriority=2,e.callbackNode=null,2}function Vy(e,n){if(ze!==0&&ze!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Fu()&&e.callbackNode!==a)return null;var o=Ut;return o=za(e,e===ee?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(dy(e,o,n),Ny(e,Tn()),e.callbackNode!=null&&e.callbackNode===a?Vy.bind(null,e):null)}function xy(e,n){if(Fu())return null;dy(e,n,!0)}function _1(){I1(function(){(Gt&6)!==0?Fr(Js,y1):Dy()})}function Gf(){return Ra===0&&(Ra=eo()),Ra}function Oy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Qa(""+e)}function My(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function v1(e,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var d=Oy((h[pe]||null).action),v=o.submitter;v&&(n=(n=v[pe]||null)?Oy(n.formAction):v.getAttribute("formAction"),n!==null&&(d=n,v=null));var T=new Ya("action","action",null,o,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ra!==0){var C=v?My(h,v):new FormData(h);hf(a,{pending:!0,data:C,method:h.method,action:d},null,C)}}else typeof d=="function"&&(T.preventDefault(),C=v?My(h,v):new FormData(h),hf(a,{pending:!0,data:C,method:h.method,action:d},d,C))},currentTarget:h}]})}}for(var Qf=0;Qf<Dh.length;Qf++){var Yf=Dh[Qf],E1=Yf.toLowerCase(),T1=Yf[0].toUpperCase()+Yf.slice(1);jn(E1,"on"+T1)}jn(dg,"onAnimationEnd"),jn(mg,"onAnimationIteration"),jn(gg,"onAnimationStart"),jn("dblclick","onDoubleClick"),jn("focusin","onFocus"),jn("focusout","onBlur"),jn(kT,"onTransitionRun"),jn(zT,"onTransitionStart"),jn(BT,"onTransitionCancel"),jn(pg,"onTransitionEnd"),Si("onMouseEnter",["mouseout","mouseover"]),Si("onMouseLeave",["mouseout","mouseover"]),Si("onPointerEnter",["pointerout","pointerover"]),Si("onPointerLeave",["pointerout","pointerover"]),zn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),zn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),zn("onBeforeInput",["compositionend","keypress","textInput","paste"]),zn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),zn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),zn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $o="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),A1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($o));function Py(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var d=void 0;if(n)for(var v=o.length-1;0<=v;v--){var T=o[v],C=T.instance,z=T.currentTarget;if(T=T.listener,C!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=z;try{d(h)}catch($){Ou($)}h.currentTarget=null,d=C}else for(v=0;v<o.length;v++){if(T=o[v],C=T.instance,z=T.currentTarget,T=T.listener,C!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=z;try{d(h)}catch($){Ou($)}h.currentTarget=null,d=C}}}}function Vt(e,n){var a=n[ao];a===void 0&&(a=n[ao]=new Set);var o=e+"__bubble";a.has(o)||(Uy(n,e,2,!1),a.add(o))}function Kf(e,n,a){var o=0;n&&(o|=4),Uy(a,e,o,n)}var Yu="_reactListening"+Math.random().toString(36).slice(2);function $f(e){if(!e[Yu]){e[Yu]=!0,so.forEach(function(a){a!=="selectionchange"&&(A1.has(a)||Kf(a,!1,e),Kf(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Yu]||(n[Yu]=!0,Kf("selectionchange",!1,n))}}function Uy(e,n,a,o){switch(s_(n)){case 2:var h=$1;break;case 8:h=X1;break;default:h=ud}a=h.bind(null,n,a,e),h=void 0,!Rn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,a,{capture:!0,passive:h}):e.addEventListener(n,a,!0):h!==void 0?e.addEventListener(n,a,{passive:h}):e.addEventListener(n,a,!1)}function Xf(e,n,a,o,h){var d=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var v=o.tag;if(v===3||v===4){var T=o.stateNode.containerInfo;if(T===h)break;if(v===4)for(v=o.return;v!==null;){var C=v.tag;if((C===3||C===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;T!==null;){if(v=Ai(T),v===null)return;if(C=v.tag,C===5||C===6||C===26||C===27){o=d=v;continue t}T=T.parentNode}}o=o.return}$l(function(){var z=d,$=bn(a),W=[];t:{var j=yg.get(e);if(j!==void 0){var q=Ya,bt=e;switch(e){case"keypress":if(Wn(a)===0)break t;case"keydown":case"keyup":q=Wa;break;case"focusin":bt="focus",q=Xa;break;case"focusout":bt="blur",q=Xa;break;case"beforeblur":case"afterblur":q=Xa;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=wn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=Th;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=iu;break;case dg:case mg:case gg:q=Za;break;case pg:q=au;break;case"scroll":case"scrollend":q=Xl;break;case"wheel":q=ts;break;case"copy":case"cut":case"paste":q=Ja;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=vo;break;case"toggle":case"beforetoggle":q=ou}var Et=(n&4)!==0,Zt=!Et&&(e==="scroll"||e==="scrollend"),P=Et?j!==null?j+"Capture":null:j;Et=[];for(var x=z,k;x!==null;){var Z=x;if(k=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||k===null||P===null||(Z=ra(x,P),Z!=null&&Et.push(Xo(x,Z,k))),Zt)break;x=x.return}0<Et.length&&(j=new q(j,bt,null,a,$),W.push({event:j,listeners:Et}))}}if((n&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",j&&a!==wi&&(bt=a.relatedTarget||a.fromElement)&&(Ai(bt)||bt[An]))break t;if((q||j)&&(j=$.window===$?$:(j=$.ownerDocument)?j.defaultView||j.parentWindow:window,q?(bt=a.relatedTarget||a.toElement,q=z,bt=bt?Ai(bt):null,bt!==null&&(Zt=c(bt),Et=bt.tag,bt!==Zt||Et!==5&&Et!==27&&Et!==6)&&(bt=null)):(q=null,bt=z),q!==bt)){if(Et=wn,Z="onMouseLeave",P="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(Et=vo,Z="onPointerLeave",P="onPointerEnter",x="pointer"),Zt=q==null?j:$n(q),k=bt==null?j:$n(bt),j=new Et(Z,x+"leave",q,a,$),j.target=Zt,j.relatedTarget=k,Z=null,Ai($)===z&&(Et=new Et(P,x+"enter",bt,a,$),Et.target=k,Et.relatedTarget=Zt,Z=Et),Zt=Z,q&&bt)e:{for(Et=q,P=bt,x=0,k=Et;k;k=Rs(k))x++;for(k=0,Z=P;Z;Z=Rs(Z))k++;for(;0<x-k;)Et=Rs(Et),x--;for(;0<k-x;)P=Rs(P),k--;for(;x--;){if(Et===P||P!==null&&Et===P.alternate)break e;Et=Rs(Et),P=Rs(P)}Et=null}else Et=null;q!==null&&Ly(W,j,q,Et,!1),bt!==null&&Zt!==null&&Ly(W,Zt,bt,Et,!0)}}t:{if(j=z?$n(z):window,q=j.nodeName&&j.nodeName.toLowerCase(),q==="select"||q==="input"&&j.type==="file")var gt=ng;else if(Re(j))if(ig)gt=PT;else{gt=OT;var Dt=xT}else q=j.nodeName,!q||q.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&ho(z.elementType)&&(gt=ng):gt=MT;if(gt&&(gt=gt(e,z))){Vi(W,gt,a,$);break t}Dt&&Dt(e,j,z),e==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&sr(j,"number",j.value)}switch(Dt=z?$n(z):window,e){case"focusin":(Re(Dt)||Dt.contentEditable==="true")&&(es=Dt,wh=z,Ao=null);break;case"focusout":Ao=wh=es=null;break;case"mousedown":Ch=!0;break;case"contextmenu":case"mouseup":case"dragend":Ch=!1,hg(W,a,$);break;case"selectionchange":if(LT)break;case"keydown":case"keyup":hg(W,a,$)}var _t;if(ni)t:{switch(e){case"compositionstart":var Tt="onCompositionStart";break t;case"compositionend":Tt="onCompositionEnd";break t;case"compositionupdate":Tt="onCompositionUpdate";break t}Tt=void 0}else Mt?Q(e,a)&&(Tt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Tt="onCompositionStart");Tt&&(_&&a.locale!=="ko"&&(Mt||Tt!=="onCompositionStart"?Tt==="onCompositionEnd"&&Mt&&(_t=mo()):(Jn=$,or="value"in Jn?Jn.value:Jn.textContent,Mt=!0)),Dt=Ku(z,Tt),0<Dt.length&&(Tt=new yo(Tt,e,null,a,$),W.push({event:Tt,listeners:Dt}),_t?Tt.data=_t:(_t=ot(a),_t!==null&&(Tt.data=_t)))),(_t=g?be(e,a):Pt(e,a))&&(Tt=Ku(z,"onBeforeInput"),0<Tt.length&&(Dt=new yo("onBeforeInput","beforeinput",null,a,$),W.push({event:Dt,listeners:Tt}),Dt.data=_t)),v1(W,e,z,a,$)}Py(W,n)})}function Xo(e,n,a){return{instance:e,listener:n,currentTarget:a}}function Ku(e,n){for(var a=n+"Capture",o=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=ra(e,a),h!=null&&o.unshift(Xo(e,h,d)),h=ra(e,n),h!=null&&o.push(Xo(e,h,d))),e.tag===3)return o;e=e.return}return[]}function Rs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Ly(e,n,a,o,h){for(var d=n._reactName,v=[];a!==null&&a!==o;){var T=a,C=T.alternate,z=T.stateNode;if(T=T.tag,C!==null&&C===o)break;T!==5&&T!==26&&T!==27||z===null||(C=z,h?(z=ra(a,d),z!=null&&v.unshift(Xo(a,z,C))):h||(z=ra(a,d),z!=null&&v.push(Xo(a,z,C)))),a=a.return}v.length!==0&&e.push({event:n,listeners:v})}var S1=/\r\n?/g,b1=/\u0000|\uFFFD/g;function ky(e){return(typeof e=="string"?e:""+e).replace(S1,`
`).replace(b1,"")}function zy(e,n){return n=ky(n),ky(e)===n}function $u(){}function Xt(e,n,a,o,h,d){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||Sn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&Sn(e,""+o);break;case"className":Xn(e,"class",o);break;case"tabIndex":Xn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Xn(e,a,o);break;case"style":co(e,o,d);break;case"data":if(n!=="object"){Xn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=Qa(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(n!=="input"&&Xt(e,n,"name",h.name,h,null),Xt(e,n,"formEncType",h.formEncType,h,null),Xt(e,n,"formMethod",h.formMethod,h,null),Xt(e,n,"formTarget",h.formTarget,h,null)):(Xt(e,n,"encType",h.encType,h,null),Xt(e,n,"method",h.method,h,null),Xt(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=Qa(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=$u);break;case"onScroll":o!=null&&Vt("scroll",e);break;case"onScrollEnd":o!=null&&Vt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=Qa(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":Vt("beforetoggle",e),Vt("toggle",e),ar(e,"popover",o);break;case"xlinkActuate":Ue(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ue(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ue(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ue(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ue(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ue(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ue(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ue(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ue(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ar(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=vh.get(a)||a,ar(e,a,o))}}function Zf(e,n,a,o,h,d){switch(a){case"style":co(e,o,d);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof o=="string"?Sn(e,o):(typeof o=="number"||typeof o=="bigint")&&Sn(e,""+o);break;case"onScroll":o!=null&&Vt("scroll",e);break;case"onScrollEnd":o!=null&&Vt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=$u);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ja.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),d=e[pe]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(n,d,h),typeof o=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):ar(e,a,o)}}}function Be(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vt("error",e),Vt("load",e);var o=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Xt(e,n,d,v,a,null)}}h&&Xt(e,n,"srcSet",a.srcSet,a,null),o&&Xt(e,n,"src",a.src,a,null);return;case"input":Vt("invalid",e);var T=d=v=h=null,C=null,z=null;for(o in a)if(a.hasOwnProperty(o)){var $=a[o];if($!=null)switch(o){case"name":h=$;break;case"type":v=$;break;case"checked":C=$;break;case"defaultChecked":z=$;break;case"value":d=$;break;case"defaultValue":T=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,n));break;default:Xt(e,n,o,$,a,null)}}ea(e,d,T,C,z,v,h,!1),Ga(e);return;case"select":Vt("invalid",e),o=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":o=T;default:Xt(e,n,h,T,a,null)}n=d,a=v,e.multiple=!!o,n!=null?Ri(e,!!o,n,!1):a!=null&&Ri(e,!!o,a,!0);return;case"textarea":Vt("invalid",e),d=h=o=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":o=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Xt(e,n,v,T,a,null)}na(e,o,h,d),Ga(e);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(o=a[C],o!=null))switch(C){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Xt(e,n,C,o,a,null)}return;case"dialog":Vt("beforetoggle",e),Vt("toggle",e),Vt("cancel",e),Vt("close",e);break;case"iframe":case"object":Vt("load",e);break;case"video":case"audio":for(o=0;o<$o.length;o++)Vt($o[o],e);break;case"image":Vt("error",e),Vt("load",e);break;case"details":Vt("toggle",e);break;case"embed":case"source":case"link":Vt("error",e),Vt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(o=a[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Xt(e,n,z,o,a,null)}return;default:if(ho(n)){for($ in a)a.hasOwnProperty($)&&(o=a[$],o!==void 0&&Zf(e,n,$,o,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(o=a[T],o!=null&&Xt(e,n,T,o,a,null))}function R1(e,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,T=null,C=null,z=null,$=null;for(q in a){var W=a[q];if(a.hasOwnProperty(q)&&W!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":C=W;default:o.hasOwnProperty(q)||Xt(e,n,q,null,o,W)}}for(var j in o){var q=o[j];if(W=a[j],o.hasOwnProperty(j)&&(q!=null||W!=null))switch(j){case"type":d=q;break;case"name":h=q;break;case"checked":z=q;break;case"defaultChecked":$=q;break;case"value":v=q;break;case"defaultValue":T=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,n));break;default:q!==W&&Xt(e,n,j,q,o,W)}}hn(e,v,T,C,z,$,d,h);return;case"select":q=v=T=j=null;for(d in a)if(C=a[d],a.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":q=C;default:o.hasOwnProperty(d)||Xt(e,n,d,null,o,C)}for(h in o)if(d=o[h],C=a[h],o.hasOwnProperty(h)&&(d!=null||C!=null))switch(h){case"value":j=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==C&&Xt(e,n,h,d,o,C)}n=T,a=v,o=q,j!=null?Ri(e,!!a,j,!1):!!o!=!!a&&(n!=null?Ri(e,!!a,n,!0):Ri(e,!!a,a?[]:"",!1));return;case"textarea":q=j=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Xt(e,n,T,null,o,h)}for(v in o)if(h=o[v],d=a[v],o.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":j=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Xt(e,n,v,h,o,d)}Kt(e,j,q);return;case"option":for(var bt in a)if(j=a[bt],a.hasOwnProperty(bt)&&j!=null&&!o.hasOwnProperty(bt))switch(bt){case"selected":e.selected=!1;break;default:Xt(e,n,bt,null,o,j)}for(C in o)if(j=o[C],q=a[C],o.hasOwnProperty(C)&&j!==q&&(j!=null||q!=null))switch(C){case"selected":e.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:Xt(e,n,C,j,o,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Et in a)j=a[Et],a.hasOwnProperty(Et)&&j!=null&&!o.hasOwnProperty(Et)&&Xt(e,n,Et,null,o,j);for(z in o)if(j=o[z],q=a[z],o.hasOwnProperty(z)&&j!==q&&(j!=null||q!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,n));break;default:Xt(e,n,z,j,o,q)}return;default:if(ho(n)){for(var Zt in a)j=a[Zt],a.hasOwnProperty(Zt)&&j!==void 0&&!o.hasOwnProperty(Zt)&&Zf(e,n,Zt,void 0,o,j);for($ in o)j=o[$],q=a[$],!o.hasOwnProperty($)||j===q||j===void 0&&q===void 0||Zf(e,n,$,j,o,q);return}}for(var P in a)j=a[P],a.hasOwnProperty(P)&&j!=null&&!o.hasOwnProperty(P)&&Xt(e,n,P,null,o,j);for(W in o)j=o[W],q=a[W],!o.hasOwnProperty(W)||j===q||j==null&&q==null||Xt(e,n,W,j,o,q)}var Jf=null,Wf=null;function Xu(e){return e.nodeType===9?e:e.ownerDocument}function By(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function jy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function td(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var ed=null;function w1(){var e=window.event;return e&&e.type==="popstate"?e===ed?!1:(ed=e,!0):(ed=null,!1)}var qy=typeof setTimeout=="function"?setTimeout:void 0,C1=typeof clearTimeout=="function"?clearTimeout:void 0,Hy=typeof Promise=="function"?Promise:void 0,I1=typeof queueMicrotask=="function"?queueMicrotask:typeof Hy<"u"?function(e){return Hy.resolve(null).then(e).catch(D1)}:qy;function D1(e){setTimeout(function(){throw e})}function Sr(e){return e==="head"}function Fy(e,n){var a=n,o=0,h=0;do{var d=a.nextSibling;if(e.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<o&&8>o){a=o;var v=e.ownerDocument;if(a&1&&Zo(v.documentElement),a&2&&Zo(v.body),a&4)for(a=v.head,Zo(a),v=a.firstChild;v;){var T=v.nextSibling,C=v.nodeName;v[Zr]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=T}}if(h===0){e.removeChild(d),al(n);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:o=a.charCodeAt(0)-48;else o=0;a=d}while(a);al(n)}function nd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":nd(a),rr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function N1(e,n,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[Zr])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Hn(e.nextSibling),e===null)break}return null}function V1(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Hn(e.nextSibling),e===null))return null;return e}function id(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function x1(e,n){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Hn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var rd=null;function Gy(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return e;n--}else a==="/$"&&n++}e=e.previousSibling}return null}function Qy(e,n,a){switch(n=Xu(a),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Zo(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);rr(e)}var On=new Map,Yy=new Set;function Zu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Fi=at.d;at.d={f:O1,r:M1,D:P1,C:U1,L:L1,m:k1,X:B1,S:z1,M:j1};function O1(){var e=Fi.f(),n=qu();return e||n}function M1(e){var n=Kn(e);n!==null&&n.tag===5&&n.type==="form"?dp(n):Fi.r(e)}var ws=typeof document>"u"?null:document;function Ky(e,n,a){var o=ws;if(o&&typeof n=="string"&&n){var h=ye(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Yy.has(h)||(Yy.add(h),e={rel:e,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Be(n,"link",e),fe(n),o.head.appendChild(n)))}}function P1(e){Fi.D(e),Ky("dns-prefetch",e,null)}function U1(e,n){Fi.C(e,n),Ky("preconnect",e,n)}function L1(e,n,a){Fi.L(e,n,a);var o=ws;if(o&&e&&n){var h='link[rel="preload"][as="'+ye(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+ye(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+ye(a.imageSizes)+'"]')):h+='[href="'+ye(e)+'"]';var d=h;switch(n){case"style":d=Cs(e);break;case"script":d=Is(e)}On.has(d)||(e=E({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),On.set(d,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(Jo(d))||n==="script"&&o.querySelector(Wo(d))||(n=o.createElement("link"),Be(n,"link",e),fe(n),o.head.appendChild(n)))}}function k1(e,n){Fi.m(e,n);var a=ws;if(a&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+ye(o)+'"][href="'+ye(e)+'"]',d=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Is(e)}if(!On.has(d)&&(e=E({rel:"modulepreload",href:e},n),On.set(d,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Wo(d)))return}o=a.createElement("link"),Be(o,"link",e),fe(o),a.head.appendChild(o)}}}function z1(e,n,a){Fi.S(e,n,a);var o=ws;if(o&&e){var h=Ze(o).hoistableStyles,d=Cs(e);n=n||"default";var v=h.get(d);if(!v){var T={loading:0,preload:null};if(v=o.querySelector(Jo(d)))T.loading=5;else{e=E({rel:"stylesheet",href:e,"data-precedence":n},a),(a=On.get(d))&&ad(e,a);var C=v=o.createElement("link");fe(C),Be(C,"link",e),C._p=new Promise(function(z,$){C.onload=z,C.onerror=$}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Ju(v,n,o)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(d,v)}}}function B1(e,n){Fi.X(e,n);var a=ws;if(a&&e){var o=Ze(a).hoistableScripts,h=Is(e),d=o.get(h);d||(d=a.querySelector(Wo(h)),d||(e=E({src:e,async:!0},n),(n=On.get(h))&&sd(e,n),d=a.createElement("script"),fe(d),Be(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function j1(e,n){Fi.M(e,n);var a=ws;if(a&&e){var o=Ze(a).hoistableScripts,h=Is(e),d=o.get(h);d||(d=a.querySelector(Wo(h)),d||(e=E({src:e,async:!0,type:"module"},n),(n=On.get(h))&&sd(e,n),d=a.createElement("script"),fe(d),Be(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function $y(e,n,a,o){var h=(h=ct.current)?Zu(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Cs(a.href),a=Ze(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Cs(a.href);var d=Ze(h).hoistableStyles,v=d.get(e);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,v),(d=h.querySelector(Jo(e)))&&!d._p&&(v.instance=d,v.state.loading=5),On.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},On.set(e,a),d||q1(h,e,a,v.state))),n&&o===null)throw Error(s(528,""));return v}if(n&&o!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Is(a),a=Ze(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Cs(e){return'href="'+ye(e)+'"'}function Jo(e){return'link[rel="stylesheet"]['+e+"]"}function Xy(e){return E({},e,{"data-precedence":e.precedence,precedence:null})}function q1(e,n,a,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Be(n,"link",a),fe(n),e.head.appendChild(n))}function Is(e){return'[src="'+ye(e)+'"]'}function Wo(e){return"script[async]"+e}function Zy(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+ye(a.href)+'"]');if(o)return n.instance=o,fe(o),o;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),fe(o),Be(o,"style",h),Ju(o,a.precedence,e),n.instance=o;case"stylesheet":h=Cs(a.href);var d=e.querySelector(Jo(h));if(d)return n.state.loading|=4,n.instance=d,fe(d),d;o=Xy(a),(h=On.get(h))&&ad(o,h),d=(e.ownerDocument||e).createElement("link"),fe(d);var v=d;return v._p=new Promise(function(T,C){v.onload=T,v.onerror=C}),Be(d,"link",o),n.state.loading|=4,Ju(d,a.precedence,e),n.instance=d;case"script":return d=Is(a.src),(h=e.querySelector(Wo(d)))?(n.instance=h,fe(h),h):(o=a,(h=On.get(d))&&(o=E({},a),sd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),fe(h),Be(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Ju(o,a.precedence,e));return n.instance}function Ju(e,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,d=h,v=0;v<o.length;v++){var T=o[v];if(T.dataset.precedence===n)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function ad(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function sd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Wu=null;function Jy(e,n,a){if(Wu===null){var o=new Map,h=Wu=new Map;h.set(a,o)}else h=Wu,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[Zr]||d[Se]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(n)||"";v=e+v;var T=o.get(v);T?T.push(d):o.set(v,[d])}}return o}function Wy(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function H1(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function t_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var tl=null;function F1(){}function G1(e,n,a){if(tl===null)throw Error(s(475));var o=tl;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var h=Cs(a.href),d=e.querySelector(Jo(h));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=tc.bind(o),e.then(o,o)),n.state.loading|=4,n.instance=d,fe(d);return}d=e.ownerDocument||e,a=Xy(a),(h=On.get(h))&&ad(a,h),d=d.createElement("link"),fe(d);var v=d;v._p=new Promise(function(T,C){v.onload=T,v.onerror=C}),Be(d,"link",a),n.instance=d}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(o.count++,n=tc.bind(o),e.addEventListener("load",n),e.addEventListener("error",n))}}function Q1(){if(tl===null)throw Error(s(475));var e=tl;return e.stylesheets&&e.count===0&&od(e,e.stylesheets),0<e.count?function(n){var a=setTimeout(function(){if(e.stylesheets&&od(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a)}}:null}function tc(){if(this.count--,this.count===0){if(this.stylesheets)od(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ec=null;function od(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ec=new Map,n.forEach(Y1,e),ec=null,tc.call(e))}function Y1(e,n){if(!(n.state.loading&4)){var a=ec.get(e);if(a)var o=a.get(null);else{a=new Map,ec.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),o=v)}o&&a.set(null,o)}h=n.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||o,d===o&&a.set(null,h),a.set(v,h),this.count++,o=tc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var el={$$typeof:st,Provider:null,Consumer:null,_currentValue:yt,_currentValue2:yt,_threadCount:0};function K1(e,n,a,o,h,d,v,T){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ei(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ei(0),this.hiddenUpdates=Ei(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function e_(e,n,a,o,h,d,v,T,C,z,$,W){return e=new K1(e,n,a,v,T,C,z,W),n=1,d===!0&&(n|=24),d=dn(3,null,null,n),e.current=d,d.stateNode=e,n=jh(),n.refCount++,e.pooledCache=n,n.refCount++,d.memoizedState={element:o,isDehydrated:a,cache:n},Gh(d),e}function n_(e){return e?(e=as,e):as}function i_(e,n,a,o,h,d){h=n_(h),o.context===null?o.context=h:o.pendingContext=h,o=cr(n),o.payload={element:a},d=d===void 0?null:d,d!==null&&(o.callback=d),a=hr(e,o,n),a!==null&&(_n(a,e,n),Vo(a,e,n))}function r_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function ld(e,n){r_(e,n),(e=e.alternate)&&r_(e,n)}function a_(e){if(e.tag===13){var n=rs(e,67108864);n!==null&&_n(n,e,67108864),ld(e,67108864)}}var nc=!0;function $1(e,n,a,o){var h=K.T;K.T=null;var d=at.p;try{at.p=2,ud(e,n,a,o)}finally{at.p=d,K.T=h}}function X1(e,n,a,o){var h=K.T;K.T=null;var d=at.p;try{at.p=8,ud(e,n,a,o)}finally{at.p=d,K.T=h}}function ud(e,n,a,o){if(nc){var h=cd(o);if(h===null)Xf(e,n,o,ic,a),o_(e,o);else if(J1(h,e,n,a,o))o.stopPropagation();else if(o_(e,o),n&4&&-1<Z1.indexOf(e)){for(;h!==null;){var d=Kn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=kn(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var C=1<<31-Fe(v);T.entanglements[1]|=C,v&=~C}li(d),(Gt&6)===0&&(Bu=Tn()+500,Ko(0))}}break;case 13:T=rs(d,2),T!==null&&_n(T,d,2),qu(),ld(d,2)}if(d=cd(o),d===null&&Xf(e,n,o,ic,a),d===h)break;h=d}h!==null&&o.stopPropagation()}else Xf(e,n,o,null,a)}}function cd(e){return e=bn(e),hd(e)}var ic=null;function hd(e){if(ic=null,e=Ai(e),e!==null){var n=c(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=f(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return ic=e,null}function s_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(dh()){case Js:return 2;case La:return 8;case Qr:case mh:return 32;case ka:return 268435456;default:return 32}default:return 32}}var fd=!1,br=null,Rr=null,wr=null,nl=new Map,il=new Map,Cr=[],Z1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function o_(e,n){switch(e){case"focusin":case"focusout":br=null;break;case"dragenter":case"dragleave":Rr=null;break;case"mouseover":case"mouseout":wr=null;break;case"pointerover":case"pointerout":nl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":il.delete(n.pointerId)}}function rl(e,n,a,o,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:d,targetContainers:[h]},n!==null&&(n=Kn(n),n!==null&&a_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function J1(e,n,a,o,h){switch(n){case"focusin":return br=rl(br,e,n,a,o,h),!0;case"dragenter":return Rr=rl(Rr,e,n,a,o,h),!0;case"mouseover":return wr=rl(wr,e,n,a,o,h),!0;case"pointerover":var d=h.pointerId;return nl.set(d,rl(nl.get(d)||null,e,n,a,o,h)),!0;case"gotpointercapture":return d=h.pointerId,il.set(d,rl(il.get(d)||null,e,n,a,o,h)),!0}return!1}function l_(e){var n=Ai(e.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=f(a),n!==null){e.blockedOn=n,ql(e.priority,function(){if(a.tag===13){var o=yn();o=er(o);var h=rs(a,o);h!==null&&_n(h,a,o),ld(a,o)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function rc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=cd(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);wi=o,a.target.dispatchEvent(o),wi=null}else return n=Kn(a),n!==null&&a_(n),e.blockedOn=a,!1;n.shift()}return!0}function u_(e,n,a){rc(e)&&a.delete(n)}function W1(){fd=!1,br!==null&&rc(br)&&(br=null),Rr!==null&&rc(Rr)&&(Rr=null),wr!==null&&rc(wr)&&(wr=null),nl.forEach(u_),il.forEach(u_)}function ac(e,n){e.blockedOn===n&&(e.blockedOn=null,fd||(fd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,W1)))}var sc=null;function c_(e){sc!==e&&(sc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){sc===e&&(sc=null);for(var n=0;n<e.length;n+=3){var a=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(hd(o||a)===null)continue;break}var d=Kn(a);d!==null&&(e.splice(n,3),n-=3,hf(d,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function al(e){function n(C){return ac(C,e)}br!==null&&ac(br,e),Rr!==null&&ac(Rr,e),wr!==null&&ac(wr,e),nl.forEach(n),il.forEach(n);for(var a=0;a<Cr.length;a++){var o=Cr[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Cr.length&&(a=Cr[0],a.blockedOn===null);)l_(a),a.blockedOn===null&&Cr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],d=a[o+1],v=h[pe]||null;if(typeof d=="function")v||c_(a);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[pe]||null)T=v.formAction;else if(hd(h)!==null)continue}else T=v.action;typeof T=="function"?a[o+1]=T:(a.splice(o,3),o-=3),c_(a)}}}function dd(e){this._internalRoot=e}oc.prototype.render=dd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,o=yn();i_(a,o,e,n,null,null)},oc.prototype.unmount=dd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;i_(e.current,2,null,e,null,null),qu(),n[An]=null}};function oc(e){this._internalRoot=e}oc.prototype.unstable_scheduleHydration=function(e){if(e){var n=nr();e={blockedOn:null,target:e,priority:n};for(var a=0;a<Cr.length&&n!==0&&n<Cr[a].priority;a++);Cr.splice(a,0,e),a===0&&l_(e)}};var h_=t.version;if(h_!=="19.1.1")throw Error(s(527,h_,"19.1.1"));at.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=p(n),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var tA={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lc.isDisabled&&lc.supportsFiber)try{ue=lc.inject(tA),Ft=lc}catch{}}return ol.createRoot=function(e,n){if(!l(e))throw Error(s(299));var a=!1,o="",h=Cp,d=Ip,v=Dp,T=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(T=n.unstable_transitionCallbacks)),n=e_(e,1,!1,null,null,a,o,h,d,v,T,null),e[An]=n.current,$f(e),new dd(n)},ol.hydrateRoot=function(e,n,a){if(!l(e))throw Error(s(299));var o=!1,h="",d=Cp,v=Ip,T=Dp,C=null,z=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(C=a.unstable_transitionCallbacks),a.formState!==void 0&&(z=a.formState)),n=e_(e,1,!0,n,a??null,o,h,d,v,T,C,z),n.context=n_(null),a=n.current,o=yn(),o=er(o),h=cr(o),h.callback=null,hr(a,h,o),a=o,n.current.lanes=a,Ti(n,a),li(n),e[An]=n.current,$f(e),new oc(n)},ol.version="19.1.1",ol}var T_;function hA(){if(T_)return pd.exports;T_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),pd.exports=cA(),pd.exports}var fA=hA();const dA=Zv(fA);/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var A_="popstate";function mA(r={}){function t(l,c){let{pathname:f="/",search:m="",hash:p=""}=Oa(l.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),Pd("",{pathname:f,search:m,hash:p},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function i(l,c){let f=l.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let p=l.location.href,y=p.indexOf("#");m=y===-1?p:p.slice(0,y)}return m+"#"+(typeof c=="string"?c:vl(c))}function s(l,c){Gn(l.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(c)})`)}return pA(t,i,s,r)}function oe(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function Gn(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function gA(){return Math.random().toString(36).substring(2,10)}function S_(r,t){return{usr:r.state,key:r.key,idx:t}}function Pd(r,t,i=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof t=="string"?Oa(t):t,state:i,key:t&&t.key||s||gA()}}function vl({pathname:r="/",search:t="",hash:i=""}){return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(r+=i.charAt(0)==="#"?i:"#"+i),r}function Oa(r){let t={};if(r){let i=r.indexOf("#");i>=0&&(t.hash=r.substring(i),r=r.substring(0,i));let s=r.indexOf("?");s>=0&&(t.search=r.substring(s),r=r.substring(0,s)),r&&(t.pathname=r)}return t}function pA(r,t,i,s={}){let{window:l=document.defaultView,v5Compat:c=!1}=s,f=l.history,m="POP",p=null,y=E();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function E(){return(f.state||{idx:null}).idx}function S(){m="POP";let B=E(),nt=B==null?null:B-y;y=B,p&&p({action:m,location:X.location,delta:nt})}function R(B,nt){m="PUSH";let et=Pd(X.location,B,nt);i&&i(et,B),y=E()+1;let st=S_(et,y),pt=X.createHref(et);try{f.pushState(st,"",pt)}catch(ut){if(ut instanceof DOMException&&ut.name==="DataCloneError")throw ut;l.location.assign(pt)}c&&p&&p({action:m,location:X.location,delta:1})}function U(B,nt){m="REPLACE";let et=Pd(X.location,B,nt);i&&i(et,B),y=E();let st=S_(et,y),pt=X.createHref(et);f.replaceState(st,"",pt),c&&p&&p({action:m,location:X.location,delta:0})}function H(B){return yA(B)}let X={get action(){return m},get location(){return r(l,f)},listen(B){if(p)throw new Error("A history only accepts one active listener");return l.addEventListener(A_,S),p=B,()=>{l.removeEventListener(A_,S),p=null}},createHref(B){return t(l,B)},createURL:H,encodeLocation(B){let nt=H(B);return{pathname:nt.pathname,search:nt.search,hash:nt.hash}},push:R,replace:U,go(B){return f.go(B)}};return X}function yA(r,t=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),oe(i,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:vl(r);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=i+s),new URL(s,i)}function Jv(r,t,i="/"){return _A(r,t,i,!1)}function _A(r,t,i,s){let l=typeof t=="string"?Oa(t):t,c=Ki(l.pathname||"/",i);if(c==null)return null;let f=Wv(r);vA(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let y=NA(c);m=IA(f[p],y,s)}return m}function Wv(r,t=[],i=[],s="",l=!1){let c=(f,m,p=l,y)=>{let E={relativePath:y===void 0?f.path||"":y,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&p)return;oe(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let S=Yi([s,E.relativePath]),R=i.concat(E);f.children&&f.children.length>0&&(oe(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${S}".`),Wv(f.children,t,R,S,p)),!(f.path==null&&!f.index)&&t.push({path:S,score:wA(S,f.index),routesMeta:R})};return r.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))c(f,m);else for(let p of tE(f.path))c(f,m,!0,p)}),t}function tE(r){let t=r.split("/");if(t.length===0)return[];let[i,...s]=t,l=i.endsWith("?"),c=i.replace(/\?$/,"");if(s.length===0)return l?[c,""]:[c];let f=tE(s.join("/")),m=[];return m.push(...f.map(p=>p===""?c:[c,p].join("/"))),l&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function vA(r){r.sort((t,i)=>t.score!==i.score?i.score-t.score:CA(t.routesMeta.map(s=>s.childrenIndex),i.routesMeta.map(s=>s.childrenIndex)))}var EA=/^:[\w-]+$/,TA=3,AA=2,SA=1,bA=10,RA=-2,b_=r=>r==="*";function wA(r,t){let i=r.split("/"),s=i.length;return i.some(b_)&&(s+=RA),t&&(s+=AA),i.filter(l=>!b_(l)).reduce((l,c)=>l+(EA.test(c)?TA:c===""?SA:bA),s)}function CA(r,t){return r.length===t.length&&r.slice(0,-1).every((s,l)=>s===t[l])?r[r.length-1]-t[t.length-1]:0}function IA(r,t,i=!1){let{routesMeta:s}=r,l={},c="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],y=m===s.length-1,E=c==="/"?t:t.slice(c.length)||"/",S=Rc({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},E),R=p.route;if(!S&&y&&i&&!s[s.length-1].route.index&&(S=Rc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!S)return null;Object.assign(l,S.params),f.push({params:l,pathname:Yi([c,S.pathname]),pathnameBase:MA(Yi([c,S.pathnameBase])),route:R}),S.pathnameBase!=="/"&&(c=Yi([c,S.pathnameBase]))}return f}function Rc(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[i,s]=DA(r.path,r.caseSensitive,r.end),l=t.match(i);if(!l)return null;let c=l[0],f=c.replace(/(.)\/+$/,"$1"),m=l.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:S},R)=>{if(E==="*"){let H=m[R]||"";f=c.slice(0,c.length-H.length).replace(/(.)\/+$/,"$1")}const U=m[R];return S&&!U?y[E]=void 0:y[E]=(U||"").replace(/%2F/g,"/"),y},{}),pathname:c,pathnameBase:f,pattern:r}}function DA(r,t=!1,i=!0){Gn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],l="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),l+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?l+="\\/*$":r!==""&&r!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),s]}function NA(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Gn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),r}}function Ki(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let i=t.endsWith("/")?t.length-1:t.length,s=r.charAt(i);return s&&s!=="/"?null:r.slice(i)||"/"}function VA(r,t="/"){let{pathname:i,search:s="",hash:l=""}=typeof r=="string"?Oa(r):r;return{pathname:i?i.startsWith("/")?i:xA(i,t):t,search:PA(s),hash:UA(l)}}function xA(r,t){let i=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(l=>{l===".."?i.length>1&&i.pop():l!=="."&&i.push(l)}),i.length>1?i.join("/"):"/"}function Ed(r,t,i,s){return`Cannot include a '${r}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function OA(r){return r.filter((t,i)=>i===0||t.route.path&&t.route.path.length>0)}function eE(r){let t=OA(r);return t.map((i,s)=>s===t.length-1?i.pathname:i.pathnameBase)}function nE(r,t,i,s=!1){let l;typeof r=="string"?l=Oa(r):(l={...r},oe(!l.pathname||!l.pathname.includes("?"),Ed("?","pathname","search",l)),oe(!l.pathname||!l.pathname.includes("#"),Ed("#","pathname","hash",l)),oe(!l.search||!l.search.includes("#"),Ed("#","search","hash",l)));let c=r===""||l.pathname==="",f=c?"/":l.pathname,m;if(f==null)m=i;else{let S=t.length-1;if(!s&&f.startsWith("..")){let R=f.split("/");for(;R[0]==="..";)R.shift(),S-=1;l.pathname=R.join("/")}m=S>=0?t[S]:"/"}let p=VA(l,m),y=f&&f!=="/"&&f.endsWith("/"),E=(c||f===".")&&i.endsWith("/");return!p.pathname.endsWith("/")&&(y||E)&&(p.pathname+="/"),p}var Yi=r=>r.join("/").replace(/\/\/+/g,"/"),MA=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),PA=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,UA=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function LA(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var iE=["POST","PUT","PATCH","DELETE"];new Set(iE);var kA=["GET",...iE];new Set(kA);var Fs=G.createContext(null);Fs.displayName="DataRouter";var Fc=G.createContext(null);Fc.displayName="DataRouterState";G.createContext(!1);var rE=G.createContext({isTransitioning:!1});rE.displayName="ViewTransition";var zA=G.createContext(new Map);zA.displayName="Fetchers";var BA=G.createContext(null);BA.displayName="Await";var _i=G.createContext(null);_i.displayName="Navigation";var Dl=G.createContext(null);Dl.displayName="Location";var Wi=G.createContext({outlet:null,matches:[],isDataRoute:!1});Wi.displayName="Route";var um=G.createContext(null);um.displayName="RouteError";function jA(r,{relative:t}={}){oe(Nl(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:s}=G.useContext(_i),{hash:l,pathname:c,search:f}=Vl(r,{relative:t}),m=c;return i!=="/"&&(m=c==="/"?i:Yi([i,c])),s.createHref({pathname:m,search:f,hash:l})}function Nl(){return G.useContext(Dl)!=null}function Ma(){return oe(Nl(),"useLocation() may be used only in the context of a <Router> component."),G.useContext(Dl).location}var aE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function sE(r){G.useContext(_i).static||G.useLayoutEffect(r)}function qA(){let{isDataRoute:r}=G.useContext(Wi);return r?eS():HA()}function HA(){oe(Nl(),"useNavigate() may be used only in the context of a <Router> component.");let r=G.useContext(Fs),{basename:t,navigator:i}=G.useContext(_i),{matches:s}=G.useContext(Wi),{pathname:l}=Ma(),c=JSON.stringify(eE(s)),f=G.useRef(!1);return sE(()=>{f.current=!0}),G.useCallback((p,y={})=>{if(Gn(f.current,aE),!f.current)return;if(typeof p=="number"){i.go(p);return}let E=nE(p,JSON.parse(c),l,y.relative==="path");r==null&&t!=="/"&&(E.pathname=E.pathname==="/"?t:Yi([t,E.pathname])),(y.replace?i.replace:i.push)(E,y.state,y)},[t,i,c,l,r])}G.createContext(null);function Vl(r,{relative:t}={}){let{matches:i}=G.useContext(Wi),{pathname:s}=Ma(),l=JSON.stringify(eE(i));return G.useMemo(()=>nE(r,JSON.parse(l),s,t==="path"),[r,l,s,t])}function FA(r,t){return oE(r,t)}function oE(r,t,i,s,l){oe(Nl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=G.useContext(_i),{matches:f}=G.useContext(Wi),m=f[f.length-1],p=m?m.params:{},y=m?m.pathname:"/",E=m?m.pathnameBase:"/",S=m&&m.route;{let et=S&&S.path||"";lE(y,!S||et.endsWith("*")||et.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${et}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${et}"> to <Route path="${et==="/"?"*":`${et}/*`}">.`)}let R=Ma(),U;if(t){let et=typeof t=="string"?Oa(t):t;oe(E==="/"||et.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${et.pathname}" was given in the \`location\` prop.`),U=et}else U=R;let H=U.pathname||"/",X=H;if(E!=="/"){let et=E.replace(/^\//,"").split("/");X="/"+H.replace(/^\//,"").split("/").slice(et.length).join("/")}let B=Jv(r,{pathname:X});Gn(S||B!=null,`No routes matched location "${U.pathname}${U.search}${U.hash}" `),Gn(B==null||B[B.length-1].route.element!==void 0||B[B.length-1].route.Component!==void 0||B[B.length-1].route.lazy!==void 0,`Matched leaf route at location "${U.pathname}${U.search}${U.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let nt=$A(B&&B.map(et=>Object.assign({},et,{params:Object.assign({},p,et.params),pathname:Yi([E,c.encodeLocation?c.encodeLocation(et.pathname).pathname:et.pathname]),pathnameBase:et.pathnameBase==="/"?E:Yi([E,c.encodeLocation?c.encodeLocation(et.pathnameBase).pathname:et.pathnameBase])})),f,i,s,l);return t&&nt?G.createElement(Dl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...U},navigationType:"POP"}},nt):nt}function GA(){let r=tS(),t=LA(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),i=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=G.createElement(G.Fragment,null,G.createElement("p",null," Hey developer "),G.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",G.createElement("code",{style:c},"ErrorBoundary")," or"," ",G.createElement("code",{style:c},"errorElement")," prop on your route.")),G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},t),i?G.createElement("pre",{style:l},i):null,f)}var QA=G.createElement(GA,null),YA=class extends G.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){this.props.unstable_onError?this.props.unstable_onError(r,t):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?G.createElement(Wi.Provider,{value:this.props.routeContext},G.createElement(um.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function KA({routeContext:r,match:t,children:i}){let s=G.useContext(Fs);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),G.createElement(Wi.Provider,{value:r},i)}function $A(r,t=[],i=null,s=null,l=null){if(r==null){if(!i)return null;if(i.errors)r=i.matches;else if(t.length===0&&!i.initialized&&i.matches.length>0)r=i.matches;else return null}let c=r,f=i?.errors;if(f!=null){let y=c.findIndex(E=>E.route.id&&f?.[E.route.id]!==void 0);oe(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),c=c.slice(0,Math.min(c.length,y+1))}let m=!1,p=-1;if(i)for(let y=0;y<c.length;y++){let E=c[y];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(p=y),E.route.id){let{loaderData:S,errors:R}=i,U=E.route.loader&&!S.hasOwnProperty(E.route.id)&&(!R||R[E.route.id]===void 0);if(E.route.lazy||U){m=!0,p>=0?c=c.slice(0,p+1):c=[c[0]];break}}}return c.reduceRight((y,E,S)=>{let R,U=!1,H=null,X=null;i&&(R=f&&E.route.id?f[E.route.id]:void 0,H=E.route.errorElement||QA,m&&(p<0&&S===0?(lE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),U=!0,X=null):p===S&&(U=!0,X=E.route.hydrateFallbackElement||null)));let B=t.concat(c.slice(0,S+1)),nt=()=>{let et;return R?et=H:U?et=X:E.route.Component?et=G.createElement(E.route.Component,null):E.route.element?et=E.route.element:et=y,G.createElement(KA,{match:E,routeContext:{outlet:y,matches:B,isDataRoute:i!=null},children:et})};return i&&(E.route.ErrorBoundary||E.route.errorElement||S===0)?G.createElement(YA,{location:i.location,revalidation:i.revalidation,component:H,error:R,children:nt(),routeContext:{outlet:null,matches:B,isDataRoute:!0},unstable_onError:s}):nt()},null)}function cm(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function XA(r){let t=G.useContext(Fs);return oe(t,cm(r)),t}function ZA(r){let t=G.useContext(Fc);return oe(t,cm(r)),t}function JA(r){let t=G.useContext(Wi);return oe(t,cm(r)),t}function hm(r){let t=JA(r),i=t.matches[t.matches.length-1];return oe(i.route.id,`${r} can only be used on routes that contain a unique "id"`),i.route.id}function WA(){return hm("useRouteId")}function tS(){let r=G.useContext(um),t=ZA("useRouteError"),i=hm("useRouteError");return r!==void 0?r:t.errors?.[i]}function eS(){let{router:r}=XA("useNavigate"),t=hm("useNavigate"),i=G.useRef(!1);return sE(()=>{i.current=!0}),G.useCallback(async(l,c={})=>{Gn(i.current,aE),i.current&&(typeof l=="number"?r.navigate(l):await r.navigate(l,{fromRouteId:t,...c}))},[r,t])}var R_={};function lE(r,t,i){!t&&!R_[r]&&(R_[r]=!0,Gn(!1,i))}G.memo(nS);function nS({routes:r,future:t,state:i,unstable_onError:s}){return oE(r,void 0,i,s,t)}function ul(r){oe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function iS({basename:r="/",children:t=null,location:i,navigationType:s="POP",navigator:l,static:c=!1}){oe(!Nl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=G.useMemo(()=>({basename:f,navigator:l,static:c,future:{}}),[f,l,c]);typeof i=="string"&&(i=Oa(i));let{pathname:p="/",search:y="",hash:E="",state:S=null,key:R="default"}=i,U=G.useMemo(()=>{let H=Ki(p,f);return H==null?null:{location:{pathname:H,search:y,hash:E,state:S,key:R},navigationType:s}},[f,p,y,E,S,R,s]);return Gn(U!=null,`<Router basename="${f}"> is not able to match the URL "${p}${y}${E}" because it does not start with the basename, so the <Router> won't render anything.`),U==null?null:G.createElement(_i.Provider,{value:m},G.createElement(Dl.Provider,{children:t,value:U}))}function rS({children:r,location:t}){return FA(Ud(r),t)}function Ud(r,t=[]){let i=[];return G.Children.forEach(r,(s,l)=>{if(!G.isValidElement(s))return;let c=[...t,l];if(s.type===G.Fragment){i.push.apply(i,Ud(s.props.children,c));return}oe(s.type===ul,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),oe(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Ud(s.props.children,c)),i.push(f)}),i}var yc="get",_c="application/x-www-form-urlencoded";function Gc(r){return r!=null&&typeof r.tagName=="string"}function aS(r){return Gc(r)&&r.tagName.toLowerCase()==="button"}function sS(r){return Gc(r)&&r.tagName.toLowerCase()==="form"}function oS(r){return Gc(r)&&r.tagName.toLowerCase()==="input"}function lS(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function uS(r,t){return r.button===0&&(!t||t==="_self")&&!lS(r)}var uc=null;function cS(){if(uc===null)try{new FormData(document.createElement("form"),0),uc=!1}catch{uc=!0}return uc}var hS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Td(r){return r!=null&&!hS.has(r)?(Gn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${_c}"`),null):r}function fS(r,t){let i,s,l,c,f;if(sS(r)){let m=r.getAttribute("action");s=m?Ki(m,t):null,i=r.getAttribute("method")||yc,l=Td(r.getAttribute("enctype"))||_c,c=new FormData(r)}else if(aS(r)||oS(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?Ki(p,t):null,i=r.getAttribute("formmethod")||m.getAttribute("method")||yc,l=Td(r.getAttribute("formenctype"))||Td(m.getAttribute("enctype"))||_c,c=new FormData(m,r),!cS()){let{name:y,type:E,value:S}=r;if(E==="image"){let R=y?`${y}.`:"";c.append(`${R}x`,"0"),c.append(`${R}y`,"0")}else y&&c.append(y,S)}}else{if(Gc(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=yc,s=null,l=_c,f=r}return c&&l==="text/plain"&&(f=c,c=void 0),{action:s,method:i.toLowerCase(),encType:l,formData:c,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function fm(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function dS(r,t,i){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${i}`:t&&Ki(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${i}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${i}`,s}async function mS(r,t){if(r.id in t)return t[r.id];try{let i=await import(r.module);return t[r.id]=i,i}catch(i){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function gS(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function pS(r,t,i){let s=await Promise.all(r.map(async l=>{let c=t.routes[l.route.id];if(c){let f=await mS(c,i);return f.links?f.links():[]}return[]}));return ES(s.flat(1).filter(gS).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function w_(r,t,i,s,l,c){let f=(p,y)=>i[y]?p.route.id!==i[y].route.id:!0,m=(p,y)=>i[y].pathname!==p.pathname||i[y].route.path?.endsWith("*")&&i[y].params["*"]!==p.params["*"];return c==="assets"?t.filter((p,y)=>f(p,y)||m(p,y)):c==="data"?t.filter((p,y)=>{let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,y)||m(p,y))return!0;if(p.route.shouldRevalidate){let S=p.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function yS(r,t,{includeHydrateFallback:i}={}){return _S(r.map(s=>{let l=t.routes[s.route.id];if(!l)return[];let c=[l.module];return l.clientActionModule&&(c=c.concat(l.clientActionModule)),l.clientLoaderModule&&(c=c.concat(l.clientLoaderModule)),i&&l.hydrateFallbackModule&&(c=c.concat(l.hydrateFallbackModule)),l.imports&&(c=c.concat(l.imports)),c}).flat(1))}function _S(r){return[...new Set(r)]}function vS(r){let t={},i=Object.keys(r).sort();for(let s of i)t[s]=r[s];return t}function ES(r,t){let i=new Set;return new Set(t),r.reduce((s,l)=>{let c=JSON.stringify(vS(l));return i.has(c)||(i.add(c),s.push({key:c,link:l})),s},[])}function uE(){let r=G.useContext(Fs);return fm(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function TS(){let r=G.useContext(Fc);return fm(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var dm=G.createContext(void 0);dm.displayName="FrameworkContext";function cE(){let r=G.useContext(dm);return fm(r,"You must render this element inside a <HydratedRouter> element"),r}function AS(r,t){let i=G.useContext(dm),[s,l]=G.useState(!1),[c,f]=G.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:y,onMouseLeave:E,onTouchStart:S}=t,R=G.useRef(null);G.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let X=nt=>{nt.forEach(et=>{f(et.isIntersecting)})},B=new IntersectionObserver(X,{threshold:.5});return R.current&&B.observe(R.current),()=>{B.disconnect()}}},[r]),G.useEffect(()=>{if(s){let X=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(X)}}},[s]);let U=()=>{l(!0)},H=()=>{l(!1),f(!1)};return i?r!=="intent"?[c,R,{}]:[c,R,{onFocus:ll(m,U),onBlur:ll(p,H),onMouseEnter:ll(y,U),onMouseLeave:ll(E,H),onTouchStart:ll(S,U)}]:[!1,R,{}]}function ll(r,t){return i=>{r&&r(i),i.defaultPrevented||t(i)}}function SS({page:r,...t}){let{router:i}=uE(),s=G.useMemo(()=>Jv(i.routes,r,i.basename),[i.routes,r,i.basename]);return s?G.createElement(RS,{page:r,matches:s,...t}):null}function bS(r){let{manifest:t,routeModules:i}=cE(),[s,l]=G.useState([]);return G.useEffect(()=>{let c=!1;return pS(r,t,i).then(f=>{c||l(f)}),()=>{c=!0}},[r,t,i]),s}function RS({page:r,matches:t,...i}){let s=Ma(),{manifest:l,routeModules:c}=cE(),{basename:f}=uE(),{loaderData:m,matches:p}=TS(),y=G.useMemo(()=>w_(r,t,p,l,s,"data"),[r,t,p,l,s]),E=G.useMemo(()=>w_(r,t,p,l,s,"assets"),[r,t,p,l,s]),S=G.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let H=new Set,X=!1;if(t.forEach(nt=>{let et=l.routes[nt.route.id];!et||!et.hasLoader||(!y.some(st=>st.route.id===nt.route.id)&&nt.route.id in m&&c[nt.route.id]?.shouldRevalidate||et.hasClientLoader?X=!0:H.add(nt.route.id))}),H.size===0)return[];let B=dS(r,f,"data");return X&&H.size>0&&B.searchParams.set("_routes",t.filter(nt=>H.has(nt.route.id)).map(nt=>nt.route.id).join(",")),[B.pathname+B.search]},[f,m,s,l,y,t,r,c]),R=G.useMemo(()=>yS(E,l),[E,l]),U=bS(E);return G.createElement(G.Fragment,null,S.map(H=>G.createElement("link",{key:H,rel:"prefetch",as:"fetch",href:H,...i})),R.map(H=>G.createElement("link",{key:H,rel:"modulepreload",href:H,...i})),U.map(({key:H,link:X})=>G.createElement("link",{key:H,nonce:i.nonce,...X})))}function wS(...r){return t=>{r.forEach(i=>{typeof i=="function"?i(t):i!=null&&(i.current=t)})}}var hE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{hE&&(window.__reactRouterVersion="7.8.2")}catch{}function CS({basename:r,children:t,window:i}){let s=G.useRef();s.current==null&&(s.current=mA({window:i,v5Compat:!0}));let l=s.current,[c,f]=G.useState({action:l.action,location:l.location}),m=G.useCallback(p=>{G.startTransition(()=>f(p))},[f]);return G.useLayoutEffect(()=>l.listen(m),[l,m]),G.createElement(iS,{basename:r,children:t,location:c.location,navigationType:c.action,navigator:l})}var fE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dE=G.forwardRef(function({onClick:t,discover:i="render",prefetch:s="none",relative:l,reloadDocument:c,replace:f,state:m,target:p,to:y,preventScrollReset:E,viewTransition:S,...R},U){let{basename:H}=G.useContext(_i),X=typeof y=="string"&&fE.test(y),B,nt=!1;if(typeof y=="string"&&X&&(B=y,hE))try{let w=new URL(window.location.href),V=y.startsWith("//")?new URL(w.protocol+y):new URL(y),O=Ki(V.pathname,H);V.origin===w.origin&&O!=null?y=O+V.search+V.hash:nt=!0}catch{Gn(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let et=jA(y,{relative:l}),[st,pt,ut]=AS(s,R),ht=VS(y,{replace:f,state:m,target:p,preventScrollReset:E,relative:l,viewTransition:S});function N(w){t&&t(w),w.defaultPrevented||ht(w)}let b=G.createElement("a",{...R,...ut,href:B||et,onClick:nt||c?t:N,ref:wS(U,pt),target:p,"data-discover":!X&&i==="render"?"true":void 0});return st&&!X?G.createElement(G.Fragment,null,b,G.createElement(SS,{page:et})):b});dE.displayName="Link";var IS=G.forwardRef(function({"aria-current":t="page",caseSensitive:i=!1,className:s="",end:l=!1,style:c,to:f,viewTransition:m,children:p,...y},E){let S=Vl(f,{relative:y.relative}),R=Ma(),U=G.useContext(Fc),{navigator:H,basename:X}=G.useContext(_i),B=U!=null&&US(S)&&m===!0,nt=H.encodeLocation?H.encodeLocation(S).pathname:S.pathname,et=R.pathname,st=U&&U.navigation&&U.navigation.location?U.navigation.location.pathname:null;i||(et=et.toLowerCase(),st=st?st.toLowerCase():null,nt=nt.toLowerCase()),st&&X&&(st=Ki(st,X)||st);const pt=nt!=="/"&&nt.endsWith("/")?nt.length-1:nt.length;let ut=et===nt||!l&&et.startsWith(nt)&&et.charAt(pt)==="/",ht=st!=null&&(st===nt||!l&&st.startsWith(nt)&&st.charAt(nt.length)==="/"),N={isActive:ut,isPending:ht,isTransitioning:B},b=ut?t:void 0,w;typeof s=="function"?w=s(N):w=[s,ut?"active":null,ht?"pending":null,B?"transitioning":null].filter(Boolean).join(" ");let V=typeof c=="function"?c(N):c;return G.createElement(dE,{...y,"aria-current":b,className:w,ref:E,style:V,to:f,viewTransition:m},typeof p=="function"?p(N):p)});IS.displayName="NavLink";var DS=G.forwardRef(({discover:r="render",fetcherKey:t,navigate:i,reloadDocument:s,replace:l,state:c,method:f=yc,action:m,onSubmit:p,relative:y,preventScrollReset:E,viewTransition:S,...R},U)=>{let H=MS(),X=PS(m,{relative:y}),B=f.toLowerCase()==="get"?"get":"post",nt=typeof m=="string"&&fE.test(m),et=st=>{if(p&&p(st),st.defaultPrevented)return;st.preventDefault();let pt=st.nativeEvent.submitter,ut=pt?.getAttribute("formmethod")||f;H(pt||st.currentTarget,{fetcherKey:t,method:ut,navigate:i,replace:l,state:c,relative:y,preventScrollReset:E,viewTransition:S})};return G.createElement("form",{ref:U,method:B,action:X,onSubmit:s?p:et,...R,"data-discover":!nt&&r==="render"?"true":void 0})});DS.displayName="Form";function NS(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mE(r){let t=G.useContext(Fs);return oe(t,NS(r)),t}function VS(r,{target:t,replace:i,state:s,preventScrollReset:l,relative:c,viewTransition:f}={}){let m=qA(),p=Ma(),y=Vl(r,{relative:c});return G.useCallback(E=>{if(uS(E,t)){E.preventDefault();let S=i!==void 0?i:vl(p)===vl(y);m(r,{replace:S,state:s,preventScrollReset:l,relative:c,viewTransition:f})}},[p,m,y,i,s,t,r,l,c,f])}var xS=0,OS=()=>`__${String(++xS)}__`;function MS(){let{router:r}=mE("useSubmit"),{basename:t}=G.useContext(_i),i=WA();return G.useCallback(async(s,l={})=>{let{action:c,method:f,encType:m,formData:p,body:y}=fS(s,t);if(l.navigate===!1){let E=l.fetcherKey||OS();await r.fetch(E,i,l.action||c,{preventScrollReset:l.preventScrollReset,formData:p,body:y,formMethod:l.method||f,formEncType:l.encType||m,flushSync:l.flushSync})}else await r.navigate(l.action||c,{preventScrollReset:l.preventScrollReset,formData:p,body:y,formMethod:l.method||f,formEncType:l.encType||m,replace:l.replace,state:l.state,fromRouteId:i,flushSync:l.flushSync,viewTransition:l.viewTransition})},[r,t,i])}function PS(r,{relative:t}={}){let{basename:i}=G.useContext(_i),s=G.useContext(Wi);oe(s,"useFormAction must be used inside a RouteContext");let[l]=s.matches.slice(-1),c={...Vl(r||".",{relative:t})},f=Ma();if(r==null){c.search=f.search;let m=new URLSearchParams(c.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(S=>S).forEach(S=>m.append("index",S));let E=m.toString();c.search=E?`?${E}`:""}}return(!r||r===".")&&l.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(c.pathname=c.pathname==="/"?i:Yi([i,c.pathname])),vl(c)}function US(r,{relative:t}={}){let i=G.useContext(rE);oe(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=mE("useViewTransitionState"),l=Vl(r,{relative:t});if(!i.isTransitioning)return!1;let c=Ki(i.currentLocation.pathname,s)||i.currentLocation.pathname,f=Ki(i.nextLocation.pathname,s)||i.nextLocation.pathname;return Rc(l.pathname,f)!=null||Rc(l.pathname,c)!=null}function LS(){return Y.jsxs("div",{className:"landing-container",children:[Y.jsx("div",{className:"landing-hero",children:Y.jsx("div",{className:"face-icon",children:Y.jsxs("svg",{viewBox:"0 0 64 64",xmlns:"http://www.w3.org/2000/svg",children:[Y.jsx("circle",{cx:"32",cy:"32",r:"24",stroke:"#61dafb",strokeWidth:"3",fill:"none"}),Y.jsx("ellipse",{cx:"32",cy:"36",rx:"12",ry:"8",fill:"#61dafb22"}),Y.jsx("circle",{cx:"24",cy:"30",r:"3",fill:"#61dafb"}),Y.jsx("circle",{cx:"40",cy:"30",r:"3",fill:"#61dafb"}),Y.jsx("path",{d:"M26 42 Q32 48 38 42",stroke:"#61dafb",strokeWidth:"2",fill:"none"}),Y.jsx("rect",{x:"6",y:"6",width:"10",height:"10",rx:"3",stroke:"#646cff",strokeWidth:"2",fill:"none"}),Y.jsx("rect",{x:"48",y:"6",width:"10",height:"10",rx:"3",stroke:"#646cff",strokeWidth:"2",fill:"none"}),Y.jsx("rect",{x:"6",y:"48",width:"10",height:"10",rx:"3",stroke:"#646cff",strokeWidth:"2",fill:"none"}),Y.jsx("rect",{x:"48",y:"48",width:"10",height:"10",rx:"3",stroke:"#646cff",strokeWidth:"2",fill:"none"})]})})}),Y.jsxs("header",{className:"landing-header",children:[Y.jsx("h1",{children:"Futuristic Face Recognition Attendance"}),Y.jsxs("p",{className:"landing-description",children:["Step into the future of attendance management.",Y.jsx("br",{}),Y.jsx("b",{children:"AI-powered face recognition"})," ensures secure, contactless, and lightning-fast check-ins.",Y.jsx("br",{}),"Eliminate proxies, boost efficiency, and experience seamless automation for your organization or institution.",Y.jsx("br",{}),Y.jsx("br",{}),Y.jsx("span",{style:{color:"#61dafb",fontWeight:600},children:"Your face is your identity. Attendance, reimagined."})]})]}),Y.jsxs("div",{className:"landing-actions",children:[Y.jsx("button",{className:"landing-btn",onClick:()=>window.location.href="/next-gen-attendance/register",children:"Register"}),Y.jsx("button",{className:"landing-btn",onClick:()=>window.location.href="/next-gen-attendance/login",children:"Login"})]})]})}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kS=()=>{};var C_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE=function(r){const t=[];let i=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++s)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},zS=function(r){const t=[];let i=0,s=0;for(;i<r.length;){const l=r[i++];if(l<128)t[s++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];t[s++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],f=r[i++],m=r[i++],p=((l&7)<<18|(c&63)<<12|(f&63)<<6|m&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const c=r[i++],f=r[i++];t[s++]=String.fromCharCode((l&15)<<12|(c&63)<<6|f&63)}}return t.join("")},pE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<r.length;l+=3){const c=r[l],f=l+1<r.length,m=f?r[l+1]:0,p=l+2<r.length,y=p?r[l+2]:0,E=c>>2,S=(c&3)<<4|m>>4;let R=(m&15)<<2|y>>6,U=y&63;p||(U=64,f||(R=64)),s.push(i[E],i[S],i[R],i[U])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(gE(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):zS(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],m=l<r.length?i[r.charAt(l)]:0;++l;const y=l<r.length?i[r.charAt(l)]:64;++l;const S=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||m==null||y==null||S==null)throw new BS;const R=c<<2|m>>4;if(s.push(R),y!==64){const U=m<<4&240|y>>2;if(s.push(U),S!==64){const H=y<<6&192|S;s.push(H)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class BS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const jS=function(r){const t=gE(r);return pE.encodeByteArray(t,!0)},wc=function(r){return jS(r).replace(/\./g,"")},qS=function(r){try{return pE.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FS=()=>HS().__FIREBASE_DEFAULTS__,GS=()=>{if(typeof process>"u"||typeof C_>"u")return;const r=C_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},QS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&qS(r[1]);return t&&JSON.parse(t)},mm=()=>{try{return kS()||FS()||GS()||QS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},YS=r=>mm()?.emulatorHosts?.[r],yE=r=>{const t=YS(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),s]:[t.substring(0,i),s]},_E=()=>mm()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qc(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function vE(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EE(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[wc(JSON.stringify(i)),wc(JSON.stringify(f)),""].join(".")}const dl={};function $S(){const r={prod:[],emulator:[]};for(const t of Object.keys(dl))dl[t]?r.emulator.push(t):r.prod.push(t);return r}function XS(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let I_=!1;function TE(r,t){if(typeof window>"u"||typeof document>"u"||!Qc(window.location.host)||dl[r]===t||dl[r]||I_)return;dl[r]=t;function i(R){return`__firebase__banner__${R}`}const s="__firebase__banner",c=$S().prod.length>0;function f(){const R=document.getElementById(s);R&&R.remove()}function m(R){R.style.display="flex",R.style.background="#7faaf0",R.style.position="fixed",R.style.bottom="5px",R.style.left="5px",R.style.padding=".5em",R.style.borderRadius="5px",R.style.alignItems="center"}function p(R,U){R.setAttribute("width","24"),R.setAttribute("id",U),R.setAttribute("height","24"),R.setAttribute("viewBox","0 0 24 24"),R.setAttribute("fill","none"),R.style.marginLeft="-6px"}function y(){const R=document.createElement("span");return R.style.cursor="pointer",R.style.marginLeft="16px",R.style.fontSize="24px",R.innerHTML=" &times;",R.onclick=()=>{I_=!0,f()},R}function E(R,U){R.setAttribute("id",U),R.innerText="Learn more",R.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",R.setAttribute("target","__blank"),R.style.paddingLeft="5px",R.style.textDecoration="underline"}function S(){const R=XS(s),U=i("text"),H=document.getElementById(U)||document.createElement("span"),X=i("learnmore"),B=document.getElementById(X)||document.createElement("a"),nt=i("preprendIcon"),et=document.getElementById(nt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(R.created){const st=R.element;m(st),E(B,X);const pt=y();p(et,nt),st.append(et,H,B,pt),document.body.appendChild(st)}c?(H.innerText="Preview backend disconnected.",et.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(et.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,H.innerText="Preview backend running in this workspace."),H.setAttribute("id",U)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZS(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function JS(){const r=mm()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function WS(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function tb(){return!JS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function AE(){try{return typeof indexedDB=="object"}catch{return!1}}function SE(){return new Promise((r,t)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}function eb(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nb="FirebaseError";class tr extends Error{constructor(t,i,s){super(i),this.code=t,this.customData=s,this.name=nb,Object.setPrototypeOf(this,tr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Yc.prototype.create)}}class Yc{constructor(t,i,s){this.service=t,this.serviceName=i,this.errors=s}create(t,...i){const s=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],f=c?ib(c,s):"Error",m=`${this.serviceName}: ${f} (${l}).`;return new tr(l,m,s)}}function ib(r,t){return r.replace(rb,(i,s)=>{const l=t[s];return l!=null?String(l):`<${s}?>`})}const rb=/\{\$([^}]+)}/g;function El(r,t){if(r===t)return!0;const i=Object.keys(r),s=Object.keys(t);for(const l of i){if(!s.includes(l))return!1;const c=r[l],f=t[l];if(D_(c)&&D_(f)){if(!El(c,f))return!1}else if(c!==f)return!1}for(const l of s)if(!i.includes(l))return!1;return!0}function D_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ab=1e3,sb=2,ob=14400*1e3,lb=.5;function N_(r,t=ab,i=sb){const s=t*Math.pow(i,r),l=Math.round(lb*s*(Math.random()-.5)*2);return Math.min(ob,s+l)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(r){return r&&r._delegate?r._delegate:r}class gi{constructor(t,i,s){this.name=t,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const s=new KS;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(hb(t))try{this.getOrInitializeService({instanceIdentifier:wa})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});s.resolve(c)}catch{}}}}clearInstance(t=wa){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=wa){return this.instances.has(t)}getOptions(t=wa){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[c,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);s===m&&f.resolve(l)}return l}onInit(t,i){const s=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(s)??new Set;l.add(t),this.onInitCallbacks.set(s,l);const c=this.instances.get(s);return c&&t(c,s),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const s=this.onInitCallbacks.get(i);if(s)for(const l of s)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:cb(t),options:i}),this.instances.set(t,s),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=wa){return this.component?this.component.multipleInstances?t:wa:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function cb(r){return r===wa?void 0:r}function hb(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new ub(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(kt||(kt={}));const db={debug:kt.DEBUG,verbose:kt.VERBOSE,info:kt.INFO,warn:kt.WARN,error:kt.ERROR,silent:kt.SILENT},mb=kt.INFO,gb={[kt.DEBUG]:"log",[kt.VERBOSE]:"log",[kt.INFO]:"info",[kt.WARN]:"warn",[kt.ERROR]:"error"},pb=(r,t,...i)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),l=gb[t];if(l)console[l](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class gm{constructor(t){this.name=t,this._logLevel=mb,this._logHandler=pb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in kt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?db[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,kt.DEBUG,...t),this._logHandler(this,kt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,kt.VERBOSE,...t),this._logHandler(this,kt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,kt.INFO,...t),this._logHandler(this,kt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,kt.WARN,...t),this._logHandler(this,kt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,kt.ERROR,...t),this._logHandler(this,kt.ERROR,...t)}}const yb=(r,t)=>t.some(i=>r instanceof i);let V_,x_;function _b(){return V_||(V_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function vb(){return x_||(x_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const bE=new WeakMap,Ld=new WeakMap,RE=new WeakMap,Ad=new WeakMap,pm=new WeakMap;function Eb(r){const t=new Promise((i,s)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",f)},c=()=>{i(Vr(r.result)),l()},f=()=>{s(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",f)});return t.then(i=>{i instanceof IDBCursor&&bE.set(i,r)}).catch(()=>{}),pm.set(t,r),t}function Tb(r){if(Ld.has(r))return;const t=new Promise((i,s)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",f),r.removeEventListener("abort",f)},c=()=>{i(),l()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",f),r.addEventListener("abort",f)});Ld.set(r,t)}let kd={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return Ld.get(r);if(t==="objectStoreNames")return r.objectStoreNames||RE.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Vr(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function Ab(r){kd=r(kd)}function Sb(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const s=r.call(Sd(this),t,...i);return RE.set(s,t.sort?t.sort():[t]),Vr(s)}:vb().includes(r)?function(...t){return r.apply(Sd(this),t),Vr(bE.get(this))}:function(...t){return Vr(r.apply(Sd(this),t))}}function bb(r){return typeof r=="function"?Sb(r):(r instanceof IDBTransaction&&Tb(r),yb(r,_b())?new Proxy(r,kd):r)}function Vr(r){if(r instanceof IDBRequest)return Eb(r);if(Ad.has(r))return Ad.get(r);const t=bb(r);return t!==r&&(Ad.set(r,t),pm.set(t,r)),t}const Sd=r=>pm.get(r);function wE(r,t,{blocked:i,upgrade:s,blocking:l,terminated:c}={}){const f=indexedDB.open(r,t),m=Vr(f);return s&&f.addEventListener("upgradeneeded",p=>{s(Vr(f.result),p.oldVersion,p.newVersion,Vr(f.transaction),p)}),i&&f.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),m.then(p=>{c&&p.addEventListener("close",()=>c()),l&&p.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const Rb=["get","getKey","getAll","getAllKeys","count"],wb=["put","add","delete","clear"],bd=new Map;function O_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(bd.get(t))return bd.get(t);const i=t.replace(/FromIndex$/,""),s=t!==i,l=wb.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(l||Rb.includes(i)))return;const c=async function(f,...m){const p=this.transaction(f,l?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[i](...m),l&&p.done]))[0]};return bd.set(t,c),c}Ab(r=>({...r,get:(t,i,s)=>O_(t,i)||r.get(t,i,s),has:(t,i)=>!!O_(t,i)||r.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(Ib(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function Ib(r){return r.getComponent()?.type==="VERSION"}const zd="@firebase/app",M_="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $i=new gm("@firebase/app"),Db="@firebase/app-compat",Nb="@firebase/analytics-compat",Vb="@firebase/analytics",xb="@firebase/app-check-compat",Ob="@firebase/app-check",Mb="@firebase/auth",Pb="@firebase/auth-compat",Ub="@firebase/database",Lb="@firebase/data-connect",kb="@firebase/database-compat",zb="@firebase/functions",Bb="@firebase/functions-compat",jb="@firebase/installations",qb="@firebase/installations-compat",Hb="@firebase/messaging",Fb="@firebase/messaging-compat",Gb="@firebase/performance",Qb="@firebase/performance-compat",Yb="@firebase/remote-config",Kb="@firebase/remote-config-compat",$b="@firebase/storage",Xb="@firebase/storage-compat",Zb="@firebase/firestore",Jb="@firebase/ai",Wb="@firebase/firestore-compat",tR="firebase",eR="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bd="[DEFAULT]",nR={[zd]:"fire-core",[Db]:"fire-core-compat",[Vb]:"fire-analytics",[Nb]:"fire-analytics-compat",[Ob]:"fire-app-check",[xb]:"fire-app-check-compat",[Mb]:"fire-auth",[Pb]:"fire-auth-compat",[Ub]:"fire-rtdb",[Lb]:"fire-data-connect",[kb]:"fire-rtdb-compat",[zb]:"fire-fn",[Bb]:"fire-fn-compat",[jb]:"fire-iid",[qb]:"fire-iid-compat",[Hb]:"fire-fcm",[Fb]:"fire-fcm-compat",[Gb]:"fire-perf",[Qb]:"fire-perf-compat",[Yb]:"fire-rc",[Kb]:"fire-rc-compat",[$b]:"fire-gcs",[Xb]:"fire-gcs-compat",[Zb]:"fire-fst",[Wb]:"fire-fst-compat",[Jb]:"fire-vertex","fire-js":"fire-js",[tR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cc=new Map,iR=new Map,jd=new Map;function P_(r,t){try{r.container.addComponent(t)}catch(i){$i.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function Xi(r){const t=r.name;if(jd.has(t))return $i.debug(`There were multiple attempts to register component ${t}.`),!1;jd.set(t,r);for(const i of Cc.values())P_(i,r);for(const i of iR.values())P_(i,r);return!0}function Gs(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function CE(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},xr=new Yc("app","Firebase",rR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(t,i,s){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new gi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw xr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE=eR;function DE(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const s={name:Bd,automaticDataCollectionEnabled:!0,...t},l=s.name;if(typeof l!="string"||!l)throw xr.create("bad-app-name",{appName:String(l)});if(i||(i=_E()),!i)throw xr.create("no-options");const c=Cc.get(l);if(c){if(El(i,c.options)&&El(s,c.config))return c;throw xr.create("duplicate-app",{appName:l})}const f=new fb(l);for(const p of jd.values())f.addComponent(p);const m=new aR(i,s,f);return Cc.set(l,m),m}function ym(r=Bd){const t=Cc.get(r);if(!t&&r===Bd&&_E())return DE();if(!t)throw xr.create("no-app",{appName:r});return t}function Pn(r,t,i){let s=nR[r]??r;i&&(s+=`-${i}`);const l=s.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const f=[`Unable to register library "${s}" with version "${t}":`];l&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&c&&f.push("and"),c&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),$i.warn(f.join(" "));return}Xi(new gi(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR="firebase-heartbeat-database",oR=1,Tl="firebase-heartbeat-store";let Rd=null;function NE(){return Rd||(Rd=wE(sR,oR,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Tl)}catch(i){console.warn(i)}}}}).catch(r=>{throw xr.create("idb-open",{originalErrorMessage:r.message})})),Rd}async function lR(r){try{const i=(await NE()).transaction(Tl),s=await i.objectStore(Tl).get(VE(r));return await i.done,s}catch(t){if(t instanceof tr)$i.warn(t.message);else{const i=xr.create("idb-get",{originalErrorMessage:t?.message});$i.warn(i.message)}}}async function U_(r,t){try{const s=(await NE()).transaction(Tl,"readwrite");await s.objectStore(Tl).put(t,VE(r)),await s.done}catch(i){if(i instanceof tr)$i.warn(i.message);else{const s=xr.create("idb-set",{originalErrorMessage:i?.message});$i.warn(s.message)}}}function VE(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uR=1024,cR=30;class hR{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new dR(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=L_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>cR){const l=mR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){$i.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=L_(),{heartbeatsToSend:i,unsentEntries:s}=fR(this._heartbeatsCache.heartbeats),l=wc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return $i.warn(t),""}}}function L_(){return new Date().toISOString().substring(0,10)}function fR(r,t=uR){const i=[];let s=r.slice();for(const l of r){const c=i.find(f=>f.agent===l.agent);if(c){if(c.dates.push(l.date),k_(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),k_(i)>t){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class dR{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return AE()?SE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await lR(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return U_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return U_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function k_(r){return wc(JSON.stringify({version:2,heartbeats:r})).length}function mR(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gR(r){Xi(new gi("platform-logger",t=>new Cb(t),"PRIVATE")),Xi(new gi("heartbeat",t=>new hR(t),"PRIVATE")),Pn(zd,M_,r),Pn(zd,M_,"esm2020"),Pn("fire-js","")}gR("");var pR="firebase",yR="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pn(pR,yR,"app");const xE="@firebase/installations",_m="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE=1e4,ME=`w:${_m}`,PE="FIS_v2",_R="https://firebaseinstallations.googleapis.com/v1",vR=3600*1e3,ER="installations",TR="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AR={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Da=new Yc(ER,TR,AR);function UE(r){return r instanceof tr&&r.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LE({projectId:r}){return`${_R}/projects/${r}/installations`}function kE(r){return{token:r.token,requestStatus:2,expiresIn:bR(r.expiresIn),creationTime:Date.now()}}async function zE(r,t){const s=(await t.json()).error;return Da.create("request-failed",{requestName:r,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function BE({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function SR(r,{refreshToken:t}){const i=BE(r);return i.append("Authorization",RR(t)),i}async function jE(r){const t=await r();return t.status>=500&&t.status<600?r():t}function bR(r){return Number(r.replace("s","000"))}function RR(r){return`${PE} ${r}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wR({appConfig:r,heartbeatServiceProvider:t},{fid:i}){const s=LE(r),l=BE(r),c=t.getImmediate({optional:!0});if(c){const y=await c.getHeartbeatsHeader();y&&l.append("x-firebase-client",y)}const f={fid:i,authVersion:PE,appId:r.appId,sdkVersion:ME},m={method:"POST",headers:l,body:JSON.stringify(f)},p=await jE(()=>fetch(s,m));if(p.ok){const y=await p.json();return{fid:y.fid||i,registrationStatus:2,refreshToken:y.refreshToken,authToken:kE(y.authToken)}}else throw await zE("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qE(r){return new Promise(t=>{setTimeout(t,r)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CR(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IR=/^[cdef][\w-]{21}$/,qd="";function DR(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const i=NR(r);return IR.test(i)?i:qd}catch{return qd}}function NR(r){return CR(r).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kc(r){return`${r.appName}!${r.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HE=new Map;function FE(r,t){const i=Kc(r);GE(i,t),VR(i,t)}function GE(r,t){const i=HE.get(r);if(i)for(const s of i)s(t)}function VR(r,t){const i=xR();i&&i.postMessage({key:r,fid:t}),OR()}let Ca=null;function xR(){return!Ca&&"BroadcastChannel"in self&&(Ca=new BroadcastChannel("[Firebase] FID Change"),Ca.onmessage=r=>{GE(r.data.key,r.data.fid)}),Ca}function OR(){HE.size===0&&Ca&&(Ca.close(),Ca=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR="firebase-installations-database",PR=1,Na="firebase-installations-store";let wd=null;function vm(){return wd||(wd=wE(MR,PR,{upgrade:(r,t)=>{switch(t){case 0:r.createObjectStore(Na)}}})),wd}async function Ic(r,t){const i=Kc(r),l=(await vm()).transaction(Na,"readwrite"),c=l.objectStore(Na),f=await c.get(i);return await c.put(t,i),await l.done,(!f||f.fid!==t.fid)&&FE(r,t.fid),t}async function QE(r){const t=Kc(r),s=(await vm()).transaction(Na,"readwrite");await s.objectStore(Na).delete(t),await s.done}async function $c(r,t){const i=Kc(r),l=(await vm()).transaction(Na,"readwrite"),c=l.objectStore(Na),f=await c.get(i),m=t(f);return m===void 0?await c.delete(i):await c.put(m,i),await l.done,m&&(!f||f.fid!==m.fid)&&FE(r,m.fid),m}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Em(r){let t;const i=await $c(r.appConfig,s=>{const l=UR(s),c=LR(r,l);return t=c.registrationPromise,c.installationEntry});return i.fid===qd?{installationEntry:await t}:{installationEntry:i,registrationPromise:t}}function UR(r){const t=r||{fid:DR(),registrationStatus:0};return YE(t)}function LR(r,t){if(t.registrationStatus===0){if(!navigator.onLine){const l=Promise.reject(Da.create("app-offline"));return{installationEntry:t,registrationPromise:l}}const i={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},s=kR(r,i);return{installationEntry:i,registrationPromise:s}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:zR(r)}:{installationEntry:t}}async function kR(r,t){try{const i=await wR(r,t);return Ic(r.appConfig,i)}catch(i){throw UE(i)&&i.customData.serverCode===409?await QE(r.appConfig):await Ic(r.appConfig,{fid:t.fid,registrationStatus:0}),i}}async function zR(r){let t=await z_(r.appConfig);for(;t.registrationStatus===1;)await qE(100),t=await z_(r.appConfig);if(t.registrationStatus===0){const{installationEntry:i,registrationPromise:s}=await Em(r);return s||i}return t}function z_(r){return $c(r,t=>{if(!t)throw Da.create("installation-not-found");return YE(t)})}function YE(r){return BR(r)?{fid:r.fid,registrationStatus:0}:r}function BR(r){return r.registrationStatus===1&&r.registrationTime+OE<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jR({appConfig:r,heartbeatServiceProvider:t},i){const s=qR(r,i),l=SR(r,i),c=t.getImmediate({optional:!0});if(c){const y=await c.getHeartbeatsHeader();y&&l.append("x-firebase-client",y)}const f={installation:{sdkVersion:ME,appId:r.appId}},m={method:"POST",headers:l,body:JSON.stringify(f)},p=await jE(()=>fetch(s,m));if(p.ok){const y=await p.json();return kE(y)}else throw await zE("Generate Auth Token",p)}function qR(r,{fid:t}){return`${LE(r)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tm(r,t=!1){let i;const s=await $c(r.appConfig,c=>{if(!KE(c))throw Da.create("not-registered");const f=c.authToken;if(!t&&GR(f))return c;if(f.requestStatus===1)return i=HR(r,t),c;{if(!navigator.onLine)throw Da.create("app-offline");const m=YR(c);return i=FR(r,m),m}});return i?await i:s.authToken}async function HR(r,t){let i=await B_(r.appConfig);for(;i.authToken.requestStatus===1;)await qE(100),i=await B_(r.appConfig);const s=i.authToken;return s.requestStatus===0?Tm(r,t):s}function B_(r){return $c(r,t=>{if(!KE(t))throw Da.create("not-registered");const i=t.authToken;return KR(i)?{...t,authToken:{requestStatus:0}}:t})}async function FR(r,t){try{const i=await jR(r,t),s={...t,authToken:i};return await Ic(r.appConfig,s),i}catch(i){if(UE(i)&&(i.customData.serverCode===401||i.customData.serverCode===404))await QE(r.appConfig);else{const s={...t,authToken:{requestStatus:0}};await Ic(r.appConfig,s)}throw i}}function KE(r){return r!==void 0&&r.registrationStatus===2}function GR(r){return r.requestStatus===2&&!QR(r)}function QR(r){const t=Date.now();return t<r.creationTime||r.creationTime+r.expiresIn<t+vR}function YR(r){const t={requestStatus:1,requestTime:Date.now()};return{...r,authToken:t}}function KR(r){return r.requestStatus===1&&r.requestTime+OE<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $R(r){const t=r,{installationEntry:i,registrationPromise:s}=await Em(t);return s?s.catch(console.error):Tm(t).catch(console.error),i.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XR(r,t=!1){const i=r;return await ZR(i),(await Tm(i,t)).token}async function ZR(r){const{registrationPromise:t}=await Em(r);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JR(r){if(!r||!r.options)throw Cd("App Configuration");if(!r.name)throw Cd("App Name");const t=["projectId","apiKey","appId"];for(const i of t)if(!r.options[i])throw Cd(i);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function Cd(r){return Da.create("missing-app-config-values",{valueName:r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E="installations",WR="installations-internal",tw=r=>{const t=r.getProvider("app").getImmediate(),i=JR(t),s=Gs(t,"heartbeat");return{app:t,appConfig:i,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},ew=r=>{const t=r.getProvider("app").getImmediate(),i=Gs(t,$E).getImmediate();return{getId:()=>$R(i),getToken:l=>XR(i,l)}};function nw(){Xi(new gi($E,tw,"PUBLIC")),Xi(new gi(WR,ew,"PRIVATE"))}nw();Pn(xE,_m);Pn(xE,_m,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dc="analytics",iw="firebase_id",rw="origin",aw=60*1e3,sw="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Am="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ln=new gm("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},En=new Yc("analytics","Analytics",ow);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lw(r){if(!r.startsWith(Am)){const t=En.create("invalid-gtag-resource",{gtagURL:r});return ln.warn(t.message),""}return r}function XE(r){return Promise.all(r.map(t=>t.catch(i=>i)))}function uw(r,t){let i;return window.trustedTypes&&(i=window.trustedTypes.createPolicy(r,t)),i}function cw(r,t){const i=uw("firebase-js-sdk-policy",{createScriptURL:lw}),s=document.createElement("script"),l=`${Am}?l=${r}&id=${t}`;s.src=i?i?.createScriptURL(l):l,s.async=!0,document.head.appendChild(s)}function hw(r){let t=[];return Array.isArray(window[r])?t=window[r]:window[r]=t,t}async function fw(r,t,i,s,l,c){const f=s[l];try{if(f)await t[f];else{const p=(await XE(i)).find(y=>y.measurementId===l);p&&await t[p.appId]}}catch(m){ln.error(m)}r("config",l,c)}async function dw(r,t,i,s,l){try{let c=[];if(l&&l.send_to){let f=l.send_to;Array.isArray(f)||(f=[f]);const m=await XE(i);for(const p of f){const y=m.find(S=>S.measurementId===p),E=y&&t[y.appId];if(E)c.push(E);else{c=[];break}}}c.length===0&&(c=Object.values(t)),await Promise.all(c),r("event",s,l||{})}catch(c){ln.error(c)}}function mw(r,t,i,s){async function l(c,...f){try{if(c==="event"){const[m,p]=f;await dw(r,t,i,m,p)}else if(c==="config"){const[m,p]=f;await fw(r,t,i,s,m,p)}else if(c==="consent"){const[m,p]=f;r("consent",m,p)}else if(c==="get"){const[m,p,y]=f;r("get",m,p,y)}else if(c==="set"){const[m]=f;r("set",m)}else r(c,...f)}catch(m){ln.error(m)}}return l}function gw(r,t,i,s,l){let c=function(...f){window[s].push(arguments)};return window[l]&&typeof window[l]=="function"&&(c=window[l]),window[l]=mw(c,r,t,i),{gtagCore:c,wrappedGtag:window[l]}}function pw(r){const t=window.document.getElementsByTagName("script");for(const i of Object.values(t))if(i.src&&i.src.includes(Am)&&i.src.includes(r))return i;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yw=30,_w=1e3;class vw{constructor(t={},i=_w){this.throttleMetadata=t,this.intervalMillis=i}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,i){this.throttleMetadata[t]=i}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const ZE=new vw;function Ew(r){return new Headers({Accept:"application/json","x-goog-api-key":r})}async function Tw(r){const{appId:t,apiKey:i}=r,s={method:"GET",headers:Ew(i)},l=sw.replace("{app-id}",t),c=await fetch(l,s);if(c.status!==200&&c.status!==304){let f="";try{const m=await c.json();m.error?.message&&(f=m.error.message)}catch{}throw En.create("config-fetch-failed",{httpStatus:c.status,responseMessage:f})}return c.json()}async function Aw(r,t=ZE,i){const{appId:s,apiKey:l,measurementId:c}=r.options;if(!s)throw En.create("no-app-id");if(!l){if(c)return{measurementId:c,appId:s};throw En.create("no-api-key")}const f=t.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},m=new Rw;return setTimeout(async()=>{m.abort()},aw),JE({appId:s,apiKey:l,measurementId:c},f,m,t)}async function JE(r,{throttleEndTimeMillis:t,backoffCount:i},s,l=ZE){const{appId:c,measurementId:f}=r;try{await Sw(s,t)}catch(m){if(f)return ln.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:c,measurementId:f};throw m}try{const m=await Tw(r);return l.deleteThrottleMetadata(c),m}catch(m){const p=m;if(!bw(p)){if(l.deleteThrottleMetadata(c),f)return ln.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${p?.message}]`),{appId:c,measurementId:f};throw m}const y=Number(p?.customData?.httpStatus)===503?N_(i,l.intervalMillis,yw):N_(i,l.intervalMillis),E={throttleEndTimeMillis:Date.now()+y,backoffCount:i+1};return l.setThrottleMetadata(c,E),ln.debug(`Calling attemptFetch again in ${y} millis`),JE(r,E,s,l)}}function Sw(r,t){return new Promise((i,s)=>{const l=Math.max(t-Date.now(),0),c=setTimeout(i,l);r.addEventListener(()=>{clearTimeout(c),s(En.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function bw(r){if(!(r instanceof tr)||!r.customData)return!1;const t=Number(r.customData.httpStatus);return t===429||t===500||t===503||t===504}class Rw{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function ww(r,t,i,s,l){if(l&&l.global){r("event",i,s);return}else{const c=await t,f={...s,send_to:c};r("event",i,f)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cw(){if(AE())try{await SE()}catch(r){return ln.warn(En.create("indexeddb-unavailable",{errorInfo:r?.toString()}).message),!1}else return ln.warn(En.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Iw(r,t,i,s,l,c,f){const m=Aw(r);m.then(R=>{i[R.measurementId]=R.appId,r.options.measurementId&&R.measurementId!==r.options.measurementId&&ln.warn(`The measurement ID in the local Firebase config (${r.options.measurementId}) does not match the measurement ID fetched from the server (${R.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(R=>ln.error(R)),t.push(m);const p=Cw().then(R=>{if(R)return s.getId()}),[y,E]=await Promise.all([m,p]);pw(c)||cw(c,y.measurementId),l("js",new Date);const S=f?.config??{};return S[rw]="firebase",S.update=!0,E!=null&&(S[iw]=E),l("config",y.measurementId,S),y.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(t){this.app=t}_delete(){return delete ml[this.app.options.appId],Promise.resolve()}}let ml={},j_=[];const q_={};let Id="dataLayer",Nw="gtag",H_,WE,F_=!1;function Vw(){const r=[];if(WS()&&r.push("This is a browser extension environment."),eb()||r.push("Cookies are not available."),r.length>0){const t=r.map((s,l)=>`(${l+1}) ${s}`).join(" "),i=En.create("invalid-analytics-context",{errorInfo:t});ln.warn(i.message)}}function xw(r,t,i){Vw();const s=r.options.appId;if(!s)throw En.create("no-app-id");if(!r.options.apiKey)if(r.options.measurementId)ln.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${r.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw En.create("no-api-key");if(ml[s]!=null)throw En.create("already-exists",{id:s});if(!F_){hw(Id);const{wrappedGtag:c,gtagCore:f}=gw(ml,j_,q_,Id,Nw);WE=c,H_=f,F_=!0}return ml[s]=Iw(r,j_,q_,t,H_,Id,i),new Dw(r)}function Ow(r=ym()){r=Un(r);const t=Gs(r,Dc);return t.isInitialized()?t.getImmediate():Mw(r)}function Mw(r,t={}){const i=Gs(r,Dc);if(i.isInitialized()){const l=i.getImmediate();if(El(t,i.getOptions()))return l;throw En.create("already-initialized")}return i.initialize({options:t})}function Pw(r,t,i,s){r=Un(r),ww(WE,ml[r.app.options.appId],t,i,s).catch(l=>ln.error(l))}const G_="@firebase/analytics",Q_="0.10.18";function Uw(){Xi(new gi(Dc,(t,{options:i})=>{const s=t.getProvider("app").getImmediate(),l=t.getProvider("installations-internal").getImmediate();return xw(s,l,i)},"PUBLIC")),Xi(new gi("analytics-internal",r,"PRIVATE")),Pn(G_,Q_),Pn(G_,Q_,"esm2020");function r(t){try{const i=t.getProvider(Dc).getImmediate();return{logEvent:(s,l,c)=>Pw(i,s,l,c)}}catch(i){throw En.create("interop-component-reg-failed",{reason:i})}}}Uw();var Y_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Or,t0;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(N,b){function w(){}w.prototype=b.prototype,N.D=b.prototype,N.prototype=new w,N.prototype.constructor=N,N.C=function(V,O,M){for(var I=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)I[ie-2]=arguments[ie];return b.prototype[O].apply(V,I)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(N,b,w){w||(w=0);var V=Array(16);if(typeof b=="string")for(var O=0;16>O;++O)V[O]=b.charCodeAt(w++)|b.charCodeAt(w++)<<8|b.charCodeAt(w++)<<16|b.charCodeAt(w++)<<24;else for(O=0;16>O;++O)V[O]=b[w++]|b[w++]<<8|b[w++]<<16|b[w++]<<24;b=N.g[0],w=N.g[1],O=N.g[2];var M=N.g[3],I=b+(M^w&(O^M))+V[0]+3614090360&4294967295;b=w+(I<<7&4294967295|I>>>25),I=M+(O^b&(w^O))+V[1]+3905402710&4294967295,M=b+(I<<12&4294967295|I>>>20),I=O+(w^M&(b^w))+V[2]+606105819&4294967295,O=M+(I<<17&4294967295|I>>>15),I=w+(b^O&(M^b))+V[3]+3250441966&4294967295,w=O+(I<<22&4294967295|I>>>10),I=b+(M^w&(O^M))+V[4]+4118548399&4294967295,b=w+(I<<7&4294967295|I>>>25),I=M+(O^b&(w^O))+V[5]+1200080426&4294967295,M=b+(I<<12&4294967295|I>>>20),I=O+(w^M&(b^w))+V[6]+2821735955&4294967295,O=M+(I<<17&4294967295|I>>>15),I=w+(b^O&(M^b))+V[7]+4249261313&4294967295,w=O+(I<<22&4294967295|I>>>10),I=b+(M^w&(O^M))+V[8]+1770035416&4294967295,b=w+(I<<7&4294967295|I>>>25),I=M+(O^b&(w^O))+V[9]+2336552879&4294967295,M=b+(I<<12&4294967295|I>>>20),I=O+(w^M&(b^w))+V[10]+4294925233&4294967295,O=M+(I<<17&4294967295|I>>>15),I=w+(b^O&(M^b))+V[11]+2304563134&4294967295,w=O+(I<<22&4294967295|I>>>10),I=b+(M^w&(O^M))+V[12]+1804603682&4294967295,b=w+(I<<7&4294967295|I>>>25),I=M+(O^b&(w^O))+V[13]+4254626195&4294967295,M=b+(I<<12&4294967295|I>>>20),I=O+(w^M&(b^w))+V[14]+2792965006&4294967295,O=M+(I<<17&4294967295|I>>>15),I=w+(b^O&(M^b))+V[15]+1236535329&4294967295,w=O+(I<<22&4294967295|I>>>10),I=b+(O^M&(w^O))+V[1]+4129170786&4294967295,b=w+(I<<5&4294967295|I>>>27),I=M+(w^O&(b^w))+V[6]+3225465664&4294967295,M=b+(I<<9&4294967295|I>>>23),I=O+(b^w&(M^b))+V[11]+643717713&4294967295,O=M+(I<<14&4294967295|I>>>18),I=w+(M^b&(O^M))+V[0]+3921069994&4294967295,w=O+(I<<20&4294967295|I>>>12),I=b+(O^M&(w^O))+V[5]+3593408605&4294967295,b=w+(I<<5&4294967295|I>>>27),I=M+(w^O&(b^w))+V[10]+38016083&4294967295,M=b+(I<<9&4294967295|I>>>23),I=O+(b^w&(M^b))+V[15]+3634488961&4294967295,O=M+(I<<14&4294967295|I>>>18),I=w+(M^b&(O^M))+V[4]+3889429448&4294967295,w=O+(I<<20&4294967295|I>>>12),I=b+(O^M&(w^O))+V[9]+568446438&4294967295,b=w+(I<<5&4294967295|I>>>27),I=M+(w^O&(b^w))+V[14]+3275163606&4294967295,M=b+(I<<9&4294967295|I>>>23),I=O+(b^w&(M^b))+V[3]+4107603335&4294967295,O=M+(I<<14&4294967295|I>>>18),I=w+(M^b&(O^M))+V[8]+1163531501&4294967295,w=O+(I<<20&4294967295|I>>>12),I=b+(O^M&(w^O))+V[13]+2850285829&4294967295,b=w+(I<<5&4294967295|I>>>27),I=M+(w^O&(b^w))+V[2]+4243563512&4294967295,M=b+(I<<9&4294967295|I>>>23),I=O+(b^w&(M^b))+V[7]+1735328473&4294967295,O=M+(I<<14&4294967295|I>>>18),I=w+(M^b&(O^M))+V[12]+2368359562&4294967295,w=O+(I<<20&4294967295|I>>>12),I=b+(w^O^M)+V[5]+4294588738&4294967295,b=w+(I<<4&4294967295|I>>>28),I=M+(b^w^O)+V[8]+2272392833&4294967295,M=b+(I<<11&4294967295|I>>>21),I=O+(M^b^w)+V[11]+1839030562&4294967295,O=M+(I<<16&4294967295|I>>>16),I=w+(O^M^b)+V[14]+4259657740&4294967295,w=O+(I<<23&4294967295|I>>>9),I=b+(w^O^M)+V[1]+2763975236&4294967295,b=w+(I<<4&4294967295|I>>>28),I=M+(b^w^O)+V[4]+1272893353&4294967295,M=b+(I<<11&4294967295|I>>>21),I=O+(M^b^w)+V[7]+4139469664&4294967295,O=M+(I<<16&4294967295|I>>>16),I=w+(O^M^b)+V[10]+3200236656&4294967295,w=O+(I<<23&4294967295|I>>>9),I=b+(w^O^M)+V[13]+681279174&4294967295,b=w+(I<<4&4294967295|I>>>28),I=M+(b^w^O)+V[0]+3936430074&4294967295,M=b+(I<<11&4294967295|I>>>21),I=O+(M^b^w)+V[3]+3572445317&4294967295,O=M+(I<<16&4294967295|I>>>16),I=w+(O^M^b)+V[6]+76029189&4294967295,w=O+(I<<23&4294967295|I>>>9),I=b+(w^O^M)+V[9]+3654602809&4294967295,b=w+(I<<4&4294967295|I>>>28),I=M+(b^w^O)+V[12]+3873151461&4294967295,M=b+(I<<11&4294967295|I>>>21),I=O+(M^b^w)+V[15]+530742520&4294967295,O=M+(I<<16&4294967295|I>>>16),I=w+(O^M^b)+V[2]+3299628645&4294967295,w=O+(I<<23&4294967295|I>>>9),I=b+(O^(w|~M))+V[0]+4096336452&4294967295,b=w+(I<<6&4294967295|I>>>26),I=M+(w^(b|~O))+V[7]+1126891415&4294967295,M=b+(I<<10&4294967295|I>>>22),I=O+(b^(M|~w))+V[14]+2878612391&4294967295,O=M+(I<<15&4294967295|I>>>17),I=w+(M^(O|~b))+V[5]+4237533241&4294967295,w=O+(I<<21&4294967295|I>>>11),I=b+(O^(w|~M))+V[12]+1700485571&4294967295,b=w+(I<<6&4294967295|I>>>26),I=M+(w^(b|~O))+V[3]+2399980690&4294967295,M=b+(I<<10&4294967295|I>>>22),I=O+(b^(M|~w))+V[10]+4293915773&4294967295,O=M+(I<<15&4294967295|I>>>17),I=w+(M^(O|~b))+V[1]+2240044497&4294967295,w=O+(I<<21&4294967295|I>>>11),I=b+(O^(w|~M))+V[8]+1873313359&4294967295,b=w+(I<<6&4294967295|I>>>26),I=M+(w^(b|~O))+V[15]+4264355552&4294967295,M=b+(I<<10&4294967295|I>>>22),I=O+(b^(M|~w))+V[6]+2734768916&4294967295,O=M+(I<<15&4294967295|I>>>17),I=w+(M^(O|~b))+V[13]+1309151649&4294967295,w=O+(I<<21&4294967295|I>>>11),I=b+(O^(w|~M))+V[4]+4149444226&4294967295,b=w+(I<<6&4294967295|I>>>26),I=M+(w^(b|~O))+V[11]+3174756917&4294967295,M=b+(I<<10&4294967295|I>>>22),I=O+(b^(M|~w))+V[2]+718787259&4294967295,O=M+(I<<15&4294967295|I>>>17),I=w+(M^(O|~b))+V[9]+3951481745&4294967295,N.g[0]=N.g[0]+b&4294967295,N.g[1]=N.g[1]+(O+(I<<21&4294967295|I>>>11))&4294967295,N.g[2]=N.g[2]+O&4294967295,N.g[3]=N.g[3]+M&4294967295}s.prototype.u=function(N,b){b===void 0&&(b=N.length);for(var w=b-this.blockSize,V=this.B,O=this.h,M=0;M<b;){if(O==0)for(;M<=w;)l(this,N,M),M+=this.blockSize;if(typeof N=="string"){for(;M<b;)if(V[O++]=N.charCodeAt(M++),O==this.blockSize){l(this,V),O=0;break}}else for(;M<b;)if(V[O++]=N[M++],O==this.blockSize){l(this,V),O=0;break}}this.h=O,this.o+=b},s.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var b=1;b<N.length-8;++b)N[b]=0;var w=8*this.o;for(b=N.length-8;b<N.length;++b)N[b]=w&255,w/=256;for(this.u(N),N=Array(16),b=w=0;4>b;++b)for(var V=0;32>V;V+=8)N[w++]=this.g[b]>>>V&255;return N};function c(N,b){var w=m;return Object.prototype.hasOwnProperty.call(w,N)?w[N]:w[N]=b(N)}function f(N,b){this.h=b;for(var w=[],V=!0,O=N.length-1;0<=O;O--){var M=N[O]|0;V&&M==b||(w[O]=M,V=!1)}this.g=w}var m={};function p(N){return-128<=N&&128>N?c(N,function(b){return new f([b|0],0>b?-1:0)}):new f([N|0],0>N?-1:0)}function y(N){if(isNaN(N)||!isFinite(N))return S;if(0>N)return B(y(-N));for(var b=[],w=1,V=0;N>=w;V++)b[V]=N/w|0,w*=4294967296;return new f(b,0)}function E(N,b){if(N.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(N.charAt(0)=="-")return B(E(N.substring(1),b));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=y(Math.pow(b,8)),V=S,O=0;O<N.length;O+=8){var M=Math.min(8,N.length-O),I=parseInt(N.substring(O,O+M),b);8>M?(M=y(Math.pow(b,M)),V=V.j(M).add(y(I))):(V=V.j(w),V=V.add(y(I)))}return V}var S=p(0),R=p(1),U=p(16777216);r=f.prototype,r.m=function(){if(X(this))return-B(this).m();for(var N=0,b=1,w=0;w<this.g.length;w++){var V=this.i(w);N+=(0<=V?V:4294967296+V)*b,b*=4294967296}return N},r.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(H(this))return"0";if(X(this))return"-"+B(this).toString(N);for(var b=y(Math.pow(N,6)),w=this,V="";;){var O=pt(w,b).g;w=nt(w,O.j(b));var M=((0<w.g.length?w.g[0]:w.h)>>>0).toString(N);if(w=O,H(w))return M+V;for(;6>M.length;)M="0"+M;V=M+V}},r.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function H(N){if(N.h!=0)return!1;for(var b=0;b<N.g.length;b++)if(N.g[b]!=0)return!1;return!0}function X(N){return N.h==-1}r.l=function(N){return N=nt(this,N),X(N)?-1:H(N)?0:1};function B(N){for(var b=N.g.length,w=[],V=0;V<b;V++)w[V]=~N.g[V];return new f(w,~N.h).add(R)}r.abs=function(){return X(this)?B(this):this},r.add=function(N){for(var b=Math.max(this.g.length,N.g.length),w=[],V=0,O=0;O<=b;O++){var M=V+(this.i(O)&65535)+(N.i(O)&65535),I=(M>>>16)+(this.i(O)>>>16)+(N.i(O)>>>16);V=I>>>16,M&=65535,I&=65535,w[O]=I<<16|M}return new f(w,w[w.length-1]&-2147483648?-1:0)};function nt(N,b){return N.add(B(b))}r.j=function(N){if(H(this)||H(N))return S;if(X(this))return X(N)?B(this).j(B(N)):B(B(this).j(N));if(X(N))return B(this.j(B(N)));if(0>this.l(U)&&0>N.l(U))return y(this.m()*N.m());for(var b=this.g.length+N.g.length,w=[],V=0;V<2*b;V++)w[V]=0;for(V=0;V<this.g.length;V++)for(var O=0;O<N.g.length;O++){var M=this.i(V)>>>16,I=this.i(V)&65535,ie=N.i(O)>>>16,te=N.i(O)&65535;w[2*V+2*O]+=I*te,et(w,2*V+2*O),w[2*V+2*O+1]+=M*te,et(w,2*V+2*O+1),w[2*V+2*O+1]+=I*ie,et(w,2*V+2*O+1),w[2*V+2*O+2]+=M*ie,et(w,2*V+2*O+2)}for(V=0;V<b;V++)w[V]=w[2*V+1]<<16|w[2*V];for(V=b;V<2*b;V++)w[V]=0;return new f(w,0)};function et(N,b){for(;(N[b]&65535)!=N[b];)N[b+1]+=N[b]>>>16,N[b]&=65535,b++}function st(N,b){this.g=N,this.h=b}function pt(N,b){if(H(b))throw Error("division by zero");if(H(N))return new st(S,S);if(X(N))return b=pt(B(N),b),new st(B(b.g),B(b.h));if(X(b))return b=pt(N,B(b)),new st(B(b.g),b.h);if(30<N.g.length){if(X(N)||X(b))throw Error("slowDivide_ only works with positive integers.");for(var w=R,V=b;0>=V.l(N);)w=ut(w),V=ut(V);var O=ht(w,1),M=ht(V,1);for(V=ht(V,2),w=ht(w,2);!H(V);){var I=M.add(V);0>=I.l(N)&&(O=O.add(w),M=I),V=ht(V,1),w=ht(w,1)}return b=nt(N,O.j(b)),new st(O,b)}for(O=S;0<=N.l(b);){for(w=Math.max(1,Math.floor(N.m()/b.m())),V=Math.ceil(Math.log(w)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),M=y(w),I=M.j(b);X(I)||0<I.l(N);)w-=V,M=y(w),I=M.j(b);H(M)&&(M=R),O=O.add(M),N=nt(N,I)}return new st(O,N)}r.A=function(N){return pt(this,N).h},r.and=function(N){for(var b=Math.max(this.g.length,N.g.length),w=[],V=0;V<b;V++)w[V]=this.i(V)&N.i(V);return new f(w,this.h&N.h)},r.or=function(N){for(var b=Math.max(this.g.length,N.g.length),w=[],V=0;V<b;V++)w[V]=this.i(V)|N.i(V);return new f(w,this.h|N.h)},r.xor=function(N){for(var b=Math.max(this.g.length,N.g.length),w=[],V=0;V<b;V++)w[V]=this.i(V)^N.i(V);return new f(w,this.h^N.h)};function ut(N){for(var b=N.g.length+1,w=[],V=0;V<b;V++)w[V]=N.i(V)<<1|N.i(V-1)>>>31;return new f(w,N.h)}function ht(N,b){var w=b>>5;b%=32;for(var V=N.g.length-w,O=[],M=0;M<V;M++)O[M]=0<b?N.i(M+w)>>>b|N.i(M+w+1)<<32-b:N.i(M+w);return new f(O,N.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,t0=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,Or=f}).apply(typeof Y_<"u"?Y_:typeof self<"u"?self:typeof window<"u"?window:{});var cc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var e0,cl,n0,vc,Hd,i0,r0,a0;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,g,_){return u==Array.prototype||u==Object.prototype||(u[g]=_.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof cc=="object"&&cc];for(var g=0;g<u.length;++g){var _=u[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=i(this);function l(u,g){if(g)t:{var _=s;u=u.split(".");for(var A=0;A<u.length-1;A++){var L=u[A];if(!(L in _))break t;_=_[L]}u=u[u.length-1],A=_[u],g=g(A),g!=A&&g!=null&&t(_,u,{configurable:!0,writable:!0,value:g})}}function c(u,g){u instanceof String&&(u+="");var _=0,A=!1,L={next:function(){if(!A&&_<u.length){var Q=_++;return{value:g(Q,u[Q]),done:!1}}return A=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}l("Array.prototype.values",function(u){return u||function(){return c(this,function(g,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(u){var g=typeof u;return g=g!="object"?g:u?Array.isArray(u)?"array":g:"null",g=="array"||g=="object"&&typeof u.length=="number"}function y(u){var g=typeof u;return g=="object"&&u!=null||g=="function"}function E(u,g,_){return u.call.apply(u.bind,arguments)}function S(u,g,_){if(!u)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,A),u.apply(g,L)}}return function(){return u.apply(g,arguments)}}function R(u,g,_){return R=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:S,R.apply(null,arguments)}function U(u,g){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function H(u,g){function _(){}_.prototype=g.prototype,u.aa=g.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(A,L,Q){for(var ot=Array(arguments.length-2),Mt=2;Mt<arguments.length;Mt++)ot[Mt-2]=arguments[Mt];return g.prototype[L].apply(A,ot)}}function X(u){const g=u.length;if(0<g){const _=Array(g);for(let A=0;A<g;A++)_[A]=u[A];return _}return[]}function B(u,g){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(p(A)){const L=u.length||0,Q=A.length||0;u.length=L+Q;for(let ot=0;ot<Q;ot++)u[L+ot]=A[ot]}else u.push(A)}}class nt{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function et(u){return/^[\s\xa0]*$/.test(u)}function st(){var u=m.navigator;return u&&(u=u.userAgent)?u:""}function pt(u){return pt[" "](u),u}pt[" "]=function(){};var ut=st().indexOf("Gecko")!=-1&&!(st().toLowerCase().indexOf("webkit")!=-1&&st().indexOf("Edge")==-1)&&!(st().indexOf("Trident")!=-1||st().indexOf("MSIE")!=-1)&&st().indexOf("Edge")==-1;function ht(u,g,_){for(const A in u)g.call(_,u[A],A,u)}function N(u,g){for(const _ in u)g.call(void 0,u[_],_,u)}function b(u){const g={};for(const _ in u)g[_]=u[_];return g}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(u,g){let _,A;for(let L=1;L<arguments.length;L++){A=arguments[L];for(_ in A)u[_]=A[_];for(let Q=0;Q<w.length;Q++)_=w[Q],Object.prototype.hasOwnProperty.call(A,_)&&(u[_]=A[_])}}function O(u){var g=1;u=u.split(":");const _=[];for(;0<g&&u.length;)_.push(u.shift()),g--;return u.length&&_.push(u.join(":")),_}function M(u){m.setTimeout(()=>{throw u},0)}function I(){var u=mt;let g=null;return u.g&&(g=u.g,u.g=u.g.next,u.g||(u.h=null),g.next=null),g}class ie{constructor(){this.h=this.g=null}add(g,_){const A=te.get();A.set(g,_),this.h?this.h.next=A:this.g=A,this.h=A}}var te=new nt(()=>new K,u=>u.reset());class K{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let at,yt=!1,mt=new ie,D=()=>{const u=m.Promise.resolve(void 0);at=()=>{u.then(F)}};var F=()=>{for(var u;u=I();){try{u.h.call(u.g)}catch(_){M(_)}var g=te;g.j(u),100>g.h&&(g.h++,u.next=g.g,g.g=u)}yt=!1};function rt(){this.s=this.s,this.C=this.C}rt.prototype.s=!1,rt.prototype.ma=function(){this.s||(this.s=!0,this.N())},rt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function it(u,g){this.type=u,this.g=this.target=g,this.defaultPrevented=!1}it.prototype.h=function(){this.defaultPrevented=!0};var lt=(function(){if(!m.addEventListener||!Object.defineProperty)return!1;var u=!1,g=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};m.addEventListener("test",_,g),m.removeEventListener("test",_,g)}catch{}return u})();function At(u,g){if(it.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=g,g=u.relatedTarget){if(ut){t:{try{pt(g.nodeName);var L=!0;break t}catch{}L=!1}L||(g=null)}}else _=="mouseover"?g=u.fromElement:_=="mouseout"&&(g=u.toElement);this.relatedTarget=g,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:ct[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&At.aa.h.call(this)}}H(At,it);var ct={2:"touch",3:"pen",4:"mouse"};At.prototype.h=function(){At.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Yt="closure_listenable_"+(1e6*Math.random()|0),zt=0;function en(u,g,_,A,L){this.listener=u,this.proxy=null,this.src=g,this.type=_,this.capture=!!A,this.ha=L,this.key=++zt,this.da=this.fa=!1}function Ln(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Xe(u){this.src=u,this.g={},this.h=0}Xe.prototype.add=function(u,g,_,A,L){var Q=u.toString();u=this.g[Q],u||(u=this.g[Q]=[],this.h++);var ot=Fr(u,g,A,L);return-1<ot?(g=u[ot],_||(g.fa=!1)):(g=new en(g,this.src,Q,!!A,L),g.fa=_,u.push(g)),g};function un(u,g){var _=g.type;if(_ in u.g){var A=u.g[_],L=Array.prototype.indexOf.call(A,g,void 0),Q;(Q=0<=L)&&Array.prototype.splice.call(A,L,1),Q&&(Ln(g),u.g[_].length==0&&(delete u.g[_],u.h--))}}function Fr(u,g,_,A){for(var L=0;L<u.length;++L){var Q=u[L];if(!Q.da&&Q.listener==g&&Q.capture==!!_&&Q.ha==A)return L}return-1}var Gr="closure_lm_"+(1e6*Math.random()|0),Zs={};function zl(u,g,_,A,L){if(Array.isArray(g)){for(var Q=0;Q<g.length;Q++)zl(u,g[Q],_,A,L);return null}return _=Bl(_),u&&u[Yt]?u.K(g,_,y(A)?!!A.capture:!1,L):Tn(u,g,_,!1,A,L)}function Tn(u,g,_,A,L,Q){if(!g)throw Error("Invalid event type");var ot=y(L)?!!L.capture:!!L,Mt=ka(u);if(Mt||(u[Gr]=Mt=new Xe(u)),_=Mt.add(g,_,A,ot,Q),_.proxy)return _;if(A=dh(),_.proxy=A,A.src=u,A.listener=_,u.addEventListener)lt||(L=ot),L===void 0&&(L=!1),u.addEventListener(g.toString(),A,L);else if(u.attachEvent)u.attachEvent(Qr(g.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function dh(){function u(_){return g.call(u.src,u.listener,_)}const g=mh;return u}function Js(u,g,_,A,L){if(Array.isArray(g))for(var Q=0;Q<g.length;Q++)Js(u,g[Q],_,A,L);else A=y(A)?!!A.capture:!!A,_=Bl(_),u&&u[Yt]?(u=u.i,g=String(g).toString(),g in u.g&&(Q=u.g[g],_=Fr(Q,_,A,L),-1<_&&(Ln(Q[_]),Array.prototype.splice.call(Q,_,1),Q.length==0&&(delete u.g[g],u.h--)))):u&&(u=ka(u))&&(g=u.g[g.toString()],u=-1,g&&(u=Fr(g,_,A,L)),(_=-1<u?g[u]:null)&&La(_))}function La(u){if(typeof u!="number"&&u&&!u.da){var g=u.src;if(g&&g[Yt])un(g.i,u);else{var _=u.type,A=u.proxy;g.removeEventListener?g.removeEventListener(_,A,u.capture):g.detachEvent?g.detachEvent(Qr(_),A):g.addListener&&g.removeListener&&g.removeListener(A),(_=ka(g))?(un(_,u),_.h==0&&(_.src=null,g[Gr]=null)):Ln(u)}}}function Qr(u){return u in Zs?Zs[u]:Zs[u]="on"+u}function mh(u,g){if(u.da)u=!0;else{g=new At(g,this);var _=u.listener,A=u.ha||u.src;u.fa&&La(u),u=_.call(A,g)}return u}function ka(u){return u=u[Gr],u instanceof Xe?u:null}var Ws="__closure_events_fn_"+(1e9*Math.random()>>>0);function Bl(u){return typeof u=="function"?u:(u[Ws]||(u[Ws]=function(g){return u.handleEvent(g)}),u[Ws])}function ue(){rt.call(this),this.i=new Xe(this),this.M=this,this.F=null}H(ue,rt),ue.prototype[Yt]=!0,ue.prototype.removeEventListener=function(u,g,_,A){Js(this,u,g,_,A)};function Ft(u,g){var _,A=u.F;if(A)for(_=[];A;A=A.F)_.push(A);if(u=u.M,A=g.type||g,typeof g=="string")g=new it(g,u);else if(g instanceof it)g.target=g.target||u;else{var L=g;g=new it(A,u),V(g,L)}if(L=!0,_)for(var Q=_.length-1;0<=Q;Q--){var ot=g.g=_[Q];L=cn(ot,A,!0,g)&&L}if(ot=g.g=u,L=cn(ot,A,!0,g)&&L,L=cn(ot,A,!1,g)&&L,_)for(Q=0;Q<_.length;Q++)ot=g.g=_[Q],L=cn(ot,A,!1,g)&&L}ue.prototype.N=function(){if(ue.aa.N.call(this),this.i){var u=this.i,g;for(g in u.g){for(var _=u.g[g],A=0;A<_.length;A++)Ln(_[A]);delete u.g[g],u.h--}}this.F=null},ue.prototype.K=function(u,g,_,A){return this.i.add(String(u),g,!1,_,A)},ue.prototype.L=function(u,g,_,A){return this.i.add(String(u),g,!0,_,A)};function cn(u,g,_,A){if(g=u.i.g[String(g)],!g)return!0;g=g.concat();for(var L=!0,Q=0;Q<g.length;++Q){var ot=g[Q];if(ot&&!ot.da&&ot.capture==_){var Mt=ot.listener,be=ot.ha||ot.src;ot.fa&&un(u.i,ot),L=Mt.call(be,A)!==!1&&L}}return L&&!A.defaultPrevented}function Fe(u,g,_){if(typeof u=="function")_&&(u=R(u,_));else if(u&&typeof u.handleEvent=="function")u=R(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:m.setTimeout(u,g||0)}function jl(u){u.g=Fe(()=>{u.g=null,u.i&&(u.i=!1,jl(u))},u.l);const g=u.h;u.h=null,u.m.apply(null,g)}class gh extends rt{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:jl(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yr(u){rt.call(this),this.h=u,this.g={}}H(Yr,rt);var Kr=[];function $r(u){ht(u.g,function(g,_){this.g.hasOwnProperty(_)&&La(g)},u),u.g={}}Yr.prototype.N=function(){Yr.aa.N.call(this),$r(this)},Yr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var kn=m.JSON.stringify,za=m.JSON.parse,Xr=class{stringify(u){return m.JSON.stringify(u,void 0)}parse(u){return m.JSON.parse(u,void 0)}};function to(){}to.prototype.h=null;function eo(u){return u.h||(u.h=u.i())}function no(){}var Ei={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ti(){it.call(this,"d")}H(Ti,it);function io(){it.call(this,"c")}H(io,it);var Yn={},ro=null;function er(){return ro=ro||new ue}Yn.La="serverreachability";function Ba(u){it.call(this,Yn.La,u)}H(Ba,it);function nr(u){const g=er();Ft(g,new Ba(g))}Yn.STAT_EVENT="statevent";function ql(u,g){it.call(this,Yn.STAT_EVENT,u),this.stat=g}H(ql,it);function re(u){const g=er();Ft(g,new ql(g,u))}Yn.Ma="timingevent";function Se(u,g){it.call(this,Yn.Ma,u),this.size=g}H(Se,it);function pe(u,g){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){u()},g)}function An(){this.g=!0}An.prototype.xa=function(){this.g=!1};function ao(u,g,_,A,L,Q){u.info(function(){if(u.g)if(Q)for(var ot="",Mt=Q.split("&"),be=0;be<Mt.length;be++){var Pt=Mt[be].split("=");if(1<Pt.length){var Ve=Pt[0];Pt=Pt[1];var Re=Ve.split("_");ot=2<=Re.length&&Re[1]=="type"?ot+(Ve+"="+Pt+"&"):ot+(Ve+"=redacted&")}}else ot=null;else ot=Q;return"XMLHTTP REQ ("+A+") [attempt "+L+"]: "+g+`
`+_+`
`+ot})}function ph(u,g,_,A,L,Q,ot){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+L+"]: "+g+`
`+_+`
`+Q+" "+ot})}function ir(u,g,_,A){u.info(function(){return"XMLHTTP TEXT ("+g+"): "+Zr(u,_)+(A?" "+A:"")})}function Hl(u,g){u.info(function(){return"TIMEOUT: "+g})}An.prototype.info=function(){};function Zr(u,g){if(!u.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var A=_[u];if(!(2>A.length)){var L=A[1];if(Array.isArray(L)&&!(1>L.length)){var Q=L[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var ot=1;ot<L.length;ot++)L[ot]=""}}}}return kn(_)}catch{return g}}var rr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ai={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Kn;function $n(){}H($n,to),$n.prototype.g=function(){return new XMLHttpRequest},$n.prototype.i=function(){return{}},Kn=new $n;function Ze(u,g,_,A){this.j=u,this.i=g,this.l=_,this.R=A||1,this.U=new Yr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new fe}function fe(){this.i=null,this.g="",this.h=!1}var so={},ja={};function zn(u,g,_){u.L=1,u.v=na(hn(g)),u.m=_,u.P=!0,Si(u,null)}function Si(u,g){u.F=Date.now(),Jr(u),u.A=hn(u.v);var _=u.A,A=u.R;Array.isArray(A)||(A=[String(A)]),fo(_.i,"t",A),u.C=0,_=u.j.J,u.h=new fe,u.g=au(u.j,_?g:null,!u.m),0<u.O&&(u.M=new gh(R(u.Y,u,u.g),u.O)),g=u.U,_=u.g,A=u.ca;var L="readystatechange";Array.isArray(L)||(L&&(Kr[0]=L.toString()),L=Kr);for(var Q=0;Q<L.length;Q++){var ot=zl(_,L[Q],A||g.handleEvent,!1,g.h||g);if(!ot)break;g.g[ot.key]=ot}g=u.H?b(u.H):{},u.m?(u.u||(u.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,g)):(u.u="GET",u.g.ea(u.A,u.u,null,g)),nr(),ao(u.i,u.u,u.A,u.l,u.R,u.m)}Ze.prototype.ca=function(u){u=u.target;const g=this.M;g&&wn(u)==3?g.j():this.Y(u)},Ze.prototype.Y=function(u){try{if(u==this.g)t:{const Re=wn(this.g);var g=this.g.Ba();const Vi=this.g.Z();if(!(3>Re)&&(Re!=3||this.g&&(this.h.h||this.g.oa()||Zl(this.g)))){this.J||Re!=4||g==7||(g==8||0>=Vi?nr(3):nr(2)),ar(this);var _=this.g.Z();this.X=_;e:if(Fl(this)){var A=Zl(this.g);u="";var L=A.length,Q=wn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ue(this),Xn(this);var ot="";break e}this.h.i=new m.TextDecoder}for(g=0;g<L;g++)this.h.h=!0,u+=this.h.i.decode(A[g],{stream:!(Q&&g==L-1)});A.length=0,this.h.g+=u,this.C=0,ot=this.h.g}else ot=this.g.oa();if(this.o=_==200,ph(this.i,this.u,this.A,this.l,this.R,Re,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Mt,be=this.g;if((Mt=be.g?be.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!et(Mt)){var Pt=Mt;break e}}Pt=null}if(_=Pt)ir(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Wr(this,_);else{this.o=!1,this.s=3,re(12),Ue(this),Xn(this);break t}}if(this.P){_=!0;let Le;for(;!this.J&&this.C<ot.length;)if(Le=Gl(this,ot),Le==ja){Re==4&&(this.s=4,re(14),_=!1),ir(this.i,this.l,null,"[Incomplete Response]");break}else if(Le==so){this.s=4,re(15),ir(this.i,this.l,ot,"[Invalid Chunk]"),_=!1;break}else ir(this.i,this.l,Le,null),Wr(this,Le);if(Fl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Re!=4||ot.length!=0||this.h.h||(this.s=1,re(16),_=!1),this.o=this.o&&_,!_)ir(this.i,this.l,ot,"[Invalid Chunked Response]"),Ue(this),Xn(this);else if(0<ot.length&&!this.W){this.W=!0;var Ve=this.j;Ve.g==this&&Ve.ba&&!Ve.M&&(Ve.j.info("Great, no buffering proxy detected. Bytes received: "+ot.length),ca(Ve),Ve.M=!0,re(11))}}else ir(this.i,this.l,ot,null),Wr(this,ot);Re==4&&Ue(this),this.o&&!this.J&&(Re==4?nu(this.j,this):(this.o=!1,Jr(this)))}else Th(this.g),_==400&&0<ot.indexOf("Unknown SID")?(this.s=3,re(12)):(this.s=0,re(13)),Ue(this),Xn(this)}}}catch{}finally{}};function Fl(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Gl(u,g){var _=u.C,A=g.indexOf(`
`,_);return A==-1?ja:(_=Number(g.substring(_,A)),isNaN(_)?so:(A+=1,A+_>g.length?ja:(g=g.slice(A,A+_),u.C=A+_,g)))}Ze.prototype.cancel=function(){this.J=!0,Ue(this)};function Jr(u){u.S=Date.now()+u.I,Ql(u,u.I)}function Ql(u,g){if(u.B!=null)throw Error("WatchDog timer not null");u.B=pe(R(u.ba,u),g)}function ar(u){u.B&&(m.clearTimeout(u.B),u.B=null)}Ze.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Hl(this.i,this.A),this.L!=2&&(nr(),re(17)),Ue(this),this.s=2,Xn(this)):Ql(this,this.S-u)};function Xn(u){u.j.G==0||u.J||nu(u.j,u)}function Ue(u){ar(u);var g=u.M;g&&typeof g.ma=="function"&&g.ma(),u.M=null,$r(u.U),u.g&&(g=u.g,u.g=null,g.abort(),g.ma())}function Wr(u,g){try{var _=u.j;if(_.G!=0&&(_.g==u||oo(_.h,u))){if(!u.K&&oo(_.h,u)&&_.G==3){try{var A=_.Da.g.parse(g)}catch{A=null}if(Array.isArray(A)&&A.length==3){var L=A;if(L[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)Wa(_),Za(_);else break t;_o(_),re(18)}}else _.za=L[1],0<_.za-_.T&&37500>L[2]&&_.F&&_.v==0&&!_.C&&(_.C=pe(R(_.Za,_),6e3));if(1>=Ha(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Ni(_,11)}else if((u.K||_.g==u)&&Wa(_),!et(g))for(L=_.Da.g.parse(g),g=0;g<L.length;g++){let Pt=L[g];if(_.T=Pt[0],Pt=Pt[1],_.G==2)if(Pt[0]=="c"){_.K=Pt[1],_.ia=Pt[2];const Ve=Pt[3];Ve!=null&&(_.la=Ve,_.j.info("VER="+_.la));const Re=Pt[4];Re!=null&&(_.Aa=Re,_.j.info("SVER="+_.Aa));const Vi=Pt[5];Vi!=null&&typeof Vi=="number"&&0<Vi&&(A=1.5*Vi,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const Le=u.g;if(Le){const ii=Le.g?Le.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ii){var Q=A.h;Q.g||ii.indexOf("spdy")==-1&&ii.indexOf("quic")==-1&&ii.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Fa(Q,Q.h),Q.h=null))}if(A.D){const Eo=Le.g?Le.g.getResponseHeader("X-HTTP-Session-Id"):null;Eo&&(A.ya=Eo,Kt(A.I,A.D,Eo))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var ot=u;if(A.qa=ru(A,A.J?A.ia:null,A.W),ot.K){Je(A.h,ot);var Mt=ot,be=A.L;be&&(Mt.I=be),Mt.B&&(ar(Mt),Jr(Mt)),A.g=ot}else tu(A);0<_.i.length&&Ja(_)}else Pt[0]!="stop"&&Pt[0]!="close"||Ni(_,7);else _.G==3&&(Pt[0]=="stop"||Pt[0]=="close"?Pt[0]=="stop"?Ni(_,7):po(_):Pt[0]!="noop"&&_.l&&_.l.ta(Pt),_.v=0)}}nr(4)}catch{}}var Yl=class{constructor(u,g){this.g=u,this.map=g}};function bi(u){this.l=u||10,m.PerformanceNavigationTiming?(u=m.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function qa(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ha(u){return u.h?1:u.g?u.g.size:0}function oo(u,g){return u.h?u.h==g:u.g?u.g.has(g):!1}function Fa(u,g){u.g?u.g.add(g):u.h=g}function Je(u,g){u.h&&u.h==g?u.h=null:u.g&&u.g.has(g)&&u.g.delete(g)}bi.prototype.cancel=function(){if(this.i=lo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function lo(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let g=u.i;for(const _ of u.g.values())g=g.concat(_.D);return g}return X(u.i)}function yh(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var g=[],_=u.length,A=0;A<_;A++)g.push(u[A]);return g}g=[],_=0;for(A in u)g[_++]=u[A];return g}function Ga(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var g=[];u=u.length;for(var _=0;_<u;_++)g.push(_);return g}g=[],_=0;for(const A in u)g[_++]=A;return g}}}function uo(u,g){if(u.forEach&&typeof u.forEach=="function")u.forEach(g,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,g,void 0);else for(var _=Ga(u),A=yh(u),L=A.length,Q=0;Q<L;Q++)g.call(void 0,A[Q],_&&_[Q],u)}var ta=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _h(u,g){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var A=u[_].indexOf("="),L=null;if(0<=A){var Q=u[_].substring(0,A);L=u[_].substring(A+1)}else Q=u[_];g(Q,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function ye(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof ye){this.h=u.h,ea(this,u.j),this.o=u.o,this.g=u.g,sr(this,u.s),this.l=u.l;var g=u.i,_=new wi;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),Ri(this,_),this.m=u.m}else u&&(g=String(u).match(ta))?(this.h=!1,ea(this,g[1]||"",!0),this.o=Sn(g[2]||""),this.g=Sn(g[3]||"",!0),sr(this,g[4]),this.l=Sn(g[5]||"",!0),Ri(this,g[6]||"",!0),this.m=Sn(g[7]||"")):(this.h=!1,this.i=new wi(null,this.h))}ye.prototype.toString=function(){var u=[],g=this.j;g&&u.push(ia(g,co,!0),":");var _=this.g;return(_||g=="file")&&(u.push("//"),(g=this.o)&&u.push(ia(g,co,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(ia(_,_.charAt(0)=="/"?vh:ho,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",ia(_,Qa)),u.join("")};function hn(u){return new ye(u)}function ea(u,g,_){u.j=_?Sn(g,!0):g,u.j&&(u.j=u.j.replace(/:$/,""))}function sr(u,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);u.s=g}else u.s=null}function Ri(u,g,_){g instanceof wi?(u.i=g,$l(u.i,u.h)):(_||(g=ia(g,Eh)),u.i=new wi(g,u.h))}function Kt(u,g,_){u.i.set(g,_)}function na(u){return Kt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Sn(u,g){return u?g?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ia(u,g,_){return typeof u=="string"?(u=encodeURI(u).replace(g,Kl),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Kl(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var co=/[#\/\?@]/g,ho=/[#\?:]/g,vh=/[#\?]/g,Eh=/[#\?@]/g,Qa=/#/g;function wi(u,g){this.h=this.g=null,this.i=u||null,this.j=!!g}function bn(u){u.g||(u.g=new Map,u.h=0,u.i&&_h(u.i,function(g,_){u.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}r=wi.prototype,r.add=function(u,g){bn(this),this.i=null,u=Zn(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(g),this.h+=1,this};function Ci(u,g){bn(u),g=Zn(u,g),u.g.has(g)&&(u.i=null,u.h-=u.g.get(g).length,u.g.delete(g))}function Ii(u,g){return bn(u),g=Zn(u,g),u.g.has(g)}r.forEach=function(u,g){bn(this),this.g.forEach(function(_,A){_.forEach(function(L){u.call(g,L,A,this)},this)},this)},r.na=function(){bn(this);const u=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let A=0;A<g.length;A++){const L=u[A];for(let Q=0;Q<L.length;Q++)_.push(g[A])}return _},r.V=function(u){bn(this);let g=[];if(typeof u=="string")Ii(this,u)&&(g=g.concat(this.g.get(Zn(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)g=g.concat(u[_])}return g},r.set=function(u,g){return bn(this),this.i=null,u=Zn(this,u),Ii(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[g]),this.h+=1,this},r.get=function(u,g){return u?(u=this.V(u),0<u.length?String(u[0]):g):g};function fo(u,g,_){Ci(u,g),0<_.length&&(u.i=null,u.g.set(Zn(u,g),X(_)),u.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var A=g[_];const Q=encodeURIComponent(String(A)),ot=this.V(A);for(A=0;A<ot.length;A++){var L=Q;ot[A]!==""&&(L+="="+encodeURIComponent(String(ot[A]))),u.push(L)}}return this.i=u.join("&")};function Zn(u,g){return g=String(g),u.j&&(g=g.toLowerCase()),g}function $l(u,g){g&&!u.j&&(bn(u),u.i=null,u.g.forEach(function(_,A){var L=A.toLowerCase();A!=L&&(Ci(this,A),fo(this,L,_))},u)),u.j=g}function ra(u,g){const _=new An;if(m.Image){const A=new Image;A.onload=U(Rn,_,"TestLoadImage: loaded",!0,g,A),A.onerror=U(Rn,_,"TestLoadImage: error",!1,g,A),A.onabort=U(Rn,_,"TestLoadImage: abort",!1,g,A),A.ontimeout=U(Rn,_,"TestLoadImage: timeout",!1,g,A),m.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else g(!1)}function Bn(u,g){const _=new An,A=new AbortController,L=setTimeout(()=>{A.abort(),Rn(_,"TestPingServer: timeout",!1,g)},1e4);fetch(u,{signal:A.signal}).then(Q=>{clearTimeout(L),Q.ok?Rn(_,"TestPingServer: ok",!0,g):Rn(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(L),Rn(_,"TestPingServer: error",!1,g)})}function Rn(u,g,_,A,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),A(_)}catch{}}function aa(){this.g=new Xr}function Jn(u,g,_){const A=_||"";try{uo(u,function(L,Q){let ot=L;y(L)&&(ot=kn(L)),g.push(A+Q+"="+encodeURIComponent(ot))})}catch(L){throw g.push(A+"type="+encodeURIComponent("_badmap")),L}}function or(u){this.l=u.Ub||null,this.j=u.eb||!1}H(or,to),or.prototype.g=function(){return new Di(this.l,this.j)},or.prototype.i=(function(u){return function(){return u}})({});function Di(u,g){ue.call(this),this.D=u,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}H(Di,ue),r=Di.prototype,r.open=function(u,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=g,this.readyState=1,ti(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(g.body=u),(this.D||m).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Wn(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ti(this)),this.g&&(this.readyState=3,ti(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;mo(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function mo(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var g=u.value?u.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!u.done}))&&(this.response=this.responseText+=g)}u.done?Wn(this):ti(this),this.readyState==3&&mo(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,Wn(this))},r.Qa=function(u){this.g&&(this.response=u,Wn(this))},r.ga=function(){this.g&&Wn(this)};function Wn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,ti(u)}r.setRequestHeader=function(u,g){this.u.append(u,g)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=g.next();return u.join(`\r
`)};function ti(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Di.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function go(u){let g="";return ht(u,function(_,A){g+=A,g+=":",g+=_,g+=`\r
`}),g}function Ne(u,g,_){t:{for(A in _){var A=!1;break t}A=!0}A||(_=go(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):Kt(u,g,_))}function qt(u){ue.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}H(qt,ue);var Ya=/^https?$/i,sa=["POST","PUT"];r=qt.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,g,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);g=g?g.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Kn.g(),this.v=this.o?eo(this.o):eo(Kn),this.g.onreadystatechange=R(this.Ea,this);try{this.B=!0,this.g.open(g,String(u),!0),this.B=!1}catch(Q){Xl(this,Q);return}if(u=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var L in A)_.set(L,A[L]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Q of A.keys())_.set(Q,A.get(Q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(Q=>Q.toLowerCase()=="content-type"),L=m.FormData&&u instanceof m.FormData,!(0<=Array.prototype.indexOf.call(sa,g,void 0))||A||L||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ot]of _)this.g.setRequestHeader(Q,ot);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{oa(this),this.u=!0,this.g.send(u),this.u=!1}catch(Q){Xl(this,Q)}};function Xl(u,g){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=g,u.m=5,Ka(u),ei(u)}function Ka(u){u.A||(u.A=!0,Ft(u,"complete"),Ft(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ft(this,"complete"),Ft(this,"abort"),ei(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ei(this,!0)),qt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?$a(this):this.bb())},r.bb=function(){$a(this)};function $a(u){if(u.h&&typeof f<"u"&&(!u.v[1]||wn(u)!=4||u.Z()!=2)){if(u.u&&wn(u)==4)Fe(u.Ea,0,u);else if(Ft(u,"readystatechange"),wn(u)==4){u.h=!1;try{const ot=u.Z();t:switch(ot){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break t;default:g=!1}var _;if(!(_=g)){var A;if(A=ot===0){var L=String(u.D).match(ta)[1]||null;!L&&m.self&&m.self.location&&(L=m.self.location.protocol.slice(0,-1)),A=!Ya.test(L?L.toLowerCase():"")}_=A}if(_)Ft(u,"complete"),Ft(u,"success");else{u.m=6;try{var Q=2<wn(u)?u.g.statusText:""}catch{Q=""}u.l=Q+" ["+u.Z()+"]",Ka(u)}}finally{ei(u)}}}}function ei(u,g){if(u.g){oa(u);const _=u.g,A=u.v[0]?()=>{}:null;u.g=null,u.v=null,g||Ft(u,"ready");try{_.onreadystatechange=A}catch{}}}function oa(u){u.I&&(m.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function wn(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<wn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var g=this.g.responseText;return u&&g.indexOf(u)==0&&(g=g.substring(u.length)),za(g)}};function Zl(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Th(u){const g={};u=(u.g&&2<=wn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(et(u[A]))continue;var _=O(u[A]);const L=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Q=g[L]||[];g[L]=Q,Q.push(_)}N(g,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function la(u,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||g}function Xa(u){this.Aa=0,this.i=[],this.j=new An,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=la("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=la("baseRetryDelayMs",5e3,u),this.cb=la("retryDelaySeedMs",1e4,u),this.Wa=la("forwardChannelMaxRetries",2,u),this.wa=la("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new bi(u&&u.concurrentRequestLimit),this.Da=new aa,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Xa.prototype,r.la=8,r.G=1,r.connect=function(u,g,_,A){re(0),this.W=u,this.H=g||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=ru(this,null,this.W),Ja(this)};function po(u){if(Jl(u),u.G==3){var g=u.U++,_=hn(u.I);if(Kt(_,"SID",u.K),Kt(_,"RID",g),Kt(_,"TYPE","terminate"),ua(u,_),g=new Ze(u,u.j,g),g.L=2,g.v=na(hn(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=g.v,_=!0),_||(g.g=au(g.j,null),g.g.ea(g.v)),g.F=Date.now(),Jr(g)}iu(u)}function Za(u){u.g&&(ca(u),u.g.cancel(),u.g=null)}function Jl(u){Za(u),u.u&&(m.clearTimeout(u.u),u.u=null),Wa(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&m.clearTimeout(u.s),u.s=null)}function Ja(u){if(!qa(u.h)&&!u.s){u.s=!0;var g=u.Ga;at||D(),yt||(at(),yt=!0),mt.add(g,u),u.B=0}}function Ah(u,g){return Ha(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=g.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=pe(R(u.Ga,u,g),vo(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const L=new Ze(this,this.j,u);let Q=this.o;if(this.S&&(Q?(Q=b(Q),V(Q,this.S)):Q=this.S),this.m!==null||this.O||(L.H=Q,Q=null),this.P)t:{for(var g=0,_=0;_<this.i.length;_++){e:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(g+=A,4096<g){g=_;break t}if(g===4096||_===this.i.length-1){g=_+1;break t}}g=1e3}else g=1e3;g=Wl(this,L,g),_=hn(this.I),Kt(_,"RID",u),Kt(_,"CVER",22),this.D&&Kt(_,"X-HTTP-Session-Id",this.D),ua(this,_),Q&&(this.O?g="headers="+encodeURIComponent(String(go(Q)))+"&"+g:this.m&&Ne(_,this.m,Q)),Fa(this.h,L),this.Ua&&Kt(_,"TYPE","init"),this.P?(Kt(_,"$req",g),Kt(_,"SID","null"),L.T=!0,zn(L,_,null)):zn(L,_,g),this.G=2}}else this.G==3&&(u?yo(this,u):this.i.length==0||qa(this.h)||yo(this))};function yo(u,g){var _;g?_=g.l:_=u.U++;const A=hn(u.I);Kt(A,"SID",u.K),Kt(A,"RID",_),Kt(A,"AID",u.T),ua(u,A),u.m&&u.o&&Ne(A,u.m,u.o),_=new Ze(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),g&&(u.i=g.D.concat(u.i)),g=Wl(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Fa(u.h,_),zn(_,A,g)}function ua(u,g){u.H&&ht(u.H,function(_,A){Kt(g,A,_)}),u.l&&uo({},function(_,A){Kt(g,A,_)})}function Wl(u,g,_){_=Math.min(u.i.length,_);var A=u.l?R(u.l.Na,u.l,u):null;t:{var L=u.i;let Q=-1;for(;;){const ot=["count="+_];Q==-1?0<_?(Q=L[0].g,ot.push("ofs="+Q)):Q=0:ot.push("ofs="+Q);let Mt=!0;for(let be=0;be<_;be++){let Pt=L[be].g;const Ve=L[be].map;if(Pt-=Q,0>Pt)Q=Math.max(0,L[be].g-100),Mt=!1;else try{Jn(Ve,ot,"req"+Pt+"_")}catch{A&&A(Ve)}}if(Mt){A=ot.join("&");break t}}}return u=u.i.splice(0,_),g.D=u,A}function tu(u){if(!u.g&&!u.u){u.Y=1;var g=u.Fa;at||D(),yt||(at(),yt=!0),mt.add(g,u),u.v=0}}function _o(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=pe(R(u.Fa,u),vo(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,eu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=pe(R(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,re(10),Za(this),eu(this))};function ca(u){u.A!=null&&(m.clearTimeout(u.A),u.A=null)}function eu(u){u.g=new Ze(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var g=hn(u.qa);Kt(g,"RID","rpc"),Kt(g,"SID",u.K),Kt(g,"AID",u.T),Kt(g,"CI",u.F?"0":"1"),!u.F&&u.ja&&Kt(g,"TO",u.ja),Kt(g,"TYPE","xmlhttp"),ua(u,g),u.m&&u.o&&Ne(g,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=na(hn(g)),_.m=null,_.P=!0,Si(_,u)}r.Za=function(){this.C!=null&&(this.C=null,Za(this),_o(this),re(19))};function Wa(u){u.C!=null&&(m.clearTimeout(u.C),u.C=null)}function nu(u,g){var _=null;if(u.g==g){Wa(u),ca(u),u.g=null;var A=2}else if(oo(u.h,g))_=g.D,Je(u.h,g),A=1;else return;if(u.G!=0){if(g.o)if(A==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var L=u.B;A=er(),Ft(A,new Se(A,_)),Ja(u)}else tu(u);else if(L=g.s,L==3||L==0&&0<g.X||!(A==1&&Ah(u,g)||A==2&&_o(u)))switch(_&&0<_.length&&(g=u.h,g.i=g.i.concat(_)),L){case 1:Ni(u,5);break;case 4:Ni(u,10);break;case 3:Ni(u,6);break;default:Ni(u,2)}}}function vo(u,g){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*g}function Ni(u,g){if(u.j.info("Error code "+g),g==2){var _=R(u.fb,u),A=u.Xa;const L=!A;A=new ye(A||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||ea(A,"https"),na(A),L?ra(A.toString(),_):Bn(A.toString(),_)}else re(2);u.G=0,u.l&&u.l.sa(g),iu(u),Jl(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),re(2)):(this.j.info("Failed to ping google.com"),re(1))};function iu(u){if(u.G=0,u.ka=[],u.l){const g=lo(u.h);(g.length!=0||u.i.length!=0)&&(B(u.ka,g),B(u.ka,u.i),u.h.i.length=0,X(u.i),u.i.length=0),u.l.ra()}}function ru(u,g,_){var A=_ instanceof ye?hn(_):new ye(_);if(A.g!="")g&&(A.g=g+"."+A.g),sr(A,A.s);else{var L=m.location;A=L.protocol,g=g?g+"."+L.hostname:L.hostname,L=+L.port;var Q=new ye(null);A&&ea(Q,A),g&&(Q.g=g),L&&sr(Q,L),_&&(Q.l=_),A=Q}return _=u.D,g=u.ya,_&&g&&Kt(A,_,g),Kt(A,"VER",u.la),ua(u,A),A}function au(u,g,_){if(g&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=u.Ca&&!u.pa?new qt(new or({eb:_})):new qt(u.pa),g.Ha(u.J),g}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function su(){}r=su.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function ts(){}ts.prototype.g=function(u,g){return new We(u,g)};function We(u,g){ue.call(this),this.g=new Xa(g),this.l=u,this.h=g&&g.messageUrlParams||null,u=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(u?u["X-WebChannel-Content-Type"]=g.messageContentType:u={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(u?u["X-WebChannel-Client-Profile"]=g.va:u={"X-WebChannel-Client-Profile":g.va}),this.g.S=u,(u=g&&g.Sb)&&!et(u)&&(this.g.m=u),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!et(g)&&(this.g.D=g,u=this.h,u!==null&&g in u&&(u=this.h,g in u&&delete u[g])),this.j=new ni(this)}H(We,ue),We.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},We.prototype.close=function(){po(this.g)},We.prototype.o=function(u){var g=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=kn(u),u=_);g.i.push(new Yl(g.Ya++,u)),g.G==3&&Ja(g)},We.prototype.N=function(){this.g.l=null,delete this.j,po(this.g),delete this.g,We.aa.N.call(this)};function ou(u){Ti.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var g=u.__sm__;if(g){t:{for(const _ in g){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,g=g!==null&&u in g?g[u]:void 0),this.data=g}else this.data=u}H(ou,Ti);function lu(){io.call(this),this.status=1}H(lu,io);function ni(u){this.g=u}H(ni,su),ni.prototype.ua=function(){Ft(this.g,"a")},ni.prototype.ta=function(u){Ft(this.g,new ou(u))},ni.prototype.sa=function(u){Ft(this.g,new lu)},ni.prototype.ra=function(){Ft(this.g,"b")},ts.prototype.createWebChannel=ts.prototype.g,We.prototype.send=We.prototype.o,We.prototype.open=We.prototype.m,We.prototype.close=We.prototype.close,a0=function(){return new ts},r0=function(){return er()},i0=Yn,Hd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},rr.NO_ERROR=0,rr.TIMEOUT=8,rr.HTTP_ERROR=6,vc=rr,Ai.COMPLETE="complete",n0=Ai,no.EventType=Ei,Ei.OPEN="a",Ei.CLOSE="b",Ei.ERROR="c",Ei.MESSAGE="d",ue.prototype.listen=ue.prototype.K,cl=no,qt.prototype.listenOnce=qt.prototype.L,qt.prototype.getLastError=qt.prototype.Ka,qt.prototype.getLastErrorCode=qt.prototype.Ba,qt.prototype.getStatus=qt.prototype.Z,qt.prototype.getResponseJson=qt.prototype.Oa,qt.prototype.getResponseText=qt.prototype.oa,qt.prototype.send=qt.prototype.ea,qt.prototype.setWithCredentials=qt.prototype.Ha,e0=qt}).apply(typeof cc<"u"?cc:typeof self<"u"?self:typeof window<"u"?window:{});const K_="@firebase/firestore",$_="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ke.UNAUTHENTICATED=new Ke(null),Ke.GOOGLE_CREDENTIALS=new Ke("google-credentials-uid"),Ke.FIRST_PARTY=new Ke("first-party-uid"),Ke.MOCK_USER=new Ke("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qs="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Va=new gm("@firebase/firestore");function Ds(){return Va.logLevel}function dt(r,...t){if(Va.logLevel<=kt.DEBUG){const i=t.map(Sm);Va.debug(`Firestore (${Qs}): ${r}`,...i)}}function Zi(r,...t){if(Va.logLevel<=kt.ERROR){const i=t.map(Sm);Va.error(`Firestore (${Qs}): ${r}`,...i)}}function Us(r,...t){if(Va.logLevel<=kt.WARN){const i=t.map(Sm);Va.warn(`Firestore (${Qs}): ${r}`,...i)}}function Sm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(r,t,i){let s="Unexpected state";typeof t=="string"?s=t:i=t,s0(r,s,i)}function s0(r,t,i){let s=`FIRESTORE (${Qs}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw Zi(s),new Error(s)}function Ht(r,t,i,s){let l="Unexpected state";typeof i=="string"?l=i:s=i,r||s0(t,l,s)}function wt(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ft extends tr{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Lw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Ke.UNAUTHENTICATED)))}shutdown(){}}class kw{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class zw{constructor(t){this.t=t,this.currentUser=Ke.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Ht(this.o===void 0,42304);let s=this.i;const l=p=>this.i!==s?(s=this.i,i(p)):Promise.resolve();let c=new Mr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Mr,t.enqueueRetryable((()=>l(this.currentUser)))};const f=()=>{const p=c;t.enqueueRetryable((async()=>{await p.promise,await l(this.currentUser)}))},m=p=>{dt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(dt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Mr)}}),0),f()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==t?(dt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ht(typeof s.accessToken=="string",31837,{l:s}),new o0(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ht(t===null||typeof t=="string",2055,{h:t}),new Ke(t)}}class Bw{constructor(t,i,s){this.P=t,this.T=i,this.I=s,this.type="FirstParty",this.user=Ke.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class jw{constructor(t,i,s){this.P=t,this.T=i,this.I=s}getToken(){return Promise.resolve(new Bw(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Ke.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class X_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class qw{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,CE(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Ht(this.o===void 0,3512);const s=c=>{c.error!=null&&dt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.m;return this.m=c.token,dt("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>s(c)))};const l=c=>{dt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):dt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new X_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Ht(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new X_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hw(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=Hw(40);for(let c=0;c<l.length;++c)s.length<20&&l[c]<i&&(s+=t.charAt(l[c]%62))}return s}}function xt(r,t){return r<t?-1:r>t?1:0}function Fd(r,t){const i=Math.min(r.length,t.length);for(let s=0;s<i;s++){const l=r.charAt(s),c=t.charAt(s);if(l!==c)return Dd(l)===Dd(c)?xt(l,c):Dd(l)?1:-1}return xt(r.length,t.length)}const Fw=55296,Gw=57343;function Dd(r){const t=r.charCodeAt(0);return t>=Fw&&t<=Gw}function Ls(r,t,i){return r.length===t.length&&r.every(((s,l)=>i(s,t[l])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z_="__name__";class ui{constructor(t,i,s){i===void 0?i=0:i>t.length&&St(637,{offset:i,range:t.length}),s===void 0?s=t.length-i:s>t.length-i&&St(1746,{length:s,range:t.length-i}),this.segments=t,this.offset=i,this.len=s}get length(){return this.len}isEqual(t){return ui.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof ui?t.forEach((s=>{i.push(s)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,s=this.limit();i<s;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const s=Math.min(t.length,i.length);for(let l=0;l<s;l++){const c=ui.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return xt(t.length,i.length)}static compareSegments(t,i){const s=ui.isNumericId(t),l=ui.isNumericId(i);return s&&!l?-1:!s&&l?1:s&&l?ui.extractNumericId(t).compare(ui.extractNumericId(i)):Fd(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Or.fromString(t.substring(4,t.length-2))}}class ne extends ui{construct(t,i,s){return new ne(t,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const s of t){if(s.indexOf("//")>=0)throw new ft(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((l=>l.length>0)))}return new ne(i)}static emptyPath(){return new ne([])}}const Qw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qe extends ui{construct(t,i,s){return new qe(t,i,s)}static isValidIdentifier(t){return Qw.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Z_}static keyField(){return new qe([Z_])}static fromServerFormat(t){const i=[];let s="",l=0;const c=()=>{if(s.length===0)throw new ft(J.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let f=!1;for(;l<t.length;){const m=t[l];if(m==="\\"){if(l+1===t.length)throw new ft(J.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[l+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ft(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,l+=2}else m==="`"?(f=!f,l++):m!=="."||f?(s+=m,l++):(c(),l++)}if(c(),f)throw new ft(J.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new qe(i)}static emptyPath(){return new qe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(t){this.path=t}static fromPath(t){return new vt(ne.fromString(t))}static fromName(t){return new vt(ne.fromString(t).popFirst(5))}static empty(){return new vt(ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ne.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ne.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new vt(new ne(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l0(r,t,i){if(!i)throw new ft(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function Yw(r,t,i,s){if(t===!0&&s===!0)throw new ft(J.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function J_(r){if(!vt.isDocumentKey(r))throw new ft(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function W_(r){if(vt.isDocumentKey(r))throw new ft(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function u0(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Xc(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":St(12329,{type:typeof r})}function ks(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ft(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Xc(r);throw new ft(J.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(r,t){const i={typeString:r};return t&&(i.value=t),i}function xl(r,t){if(!u0(r))throw new ft(J.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in t)if(t[s]){const l=t[s].typeString,c="value"in t[s]?{value:t[s].value}:void 0;if(!(s in r)){i=`JSON missing required field: '${s}'`;break}const f=r[s];if(l&&typeof f!==l){i=`JSON field '${s}' must be a ${l}.`;break}if(c!==void 0&&f!==c.value){i=`Expected '${s}' field to equal '${c.value}'`;break}}if(i)throw new ft(J.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tv=-62135596800,ev=1e6;class Jt{static now(){return Jt.fromMillis(Date.now())}static fromDate(t){return Jt.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),s=Math.floor((t-1e3*i)*ev);return new Jt(i,s)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ft(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ft(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<tv)throw new ft(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ft(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ev}_compareTo(t){return this.seconds===t.seconds?xt(this.nanoseconds,t.nanoseconds):xt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Jt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(xl(t,Jt._jsonSchema))return new Jt(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-tv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Jt._jsonSchemaVersion="firestore/timestamp/1.0",Jt._jsonSchema={type:Ae("string",Jt._jsonSchemaVersion),seconds:Ae("number"),nanoseconds:Ae("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{static fromTimestamp(t){return new Rt(t)}static min(){return new Rt(new Jt(0,0))}static max(){return new Rt(new Jt(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Al=-1;function Kw(r,t){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=Rt.fromTimestamp(s===1e9?new Jt(i+1,0):new Jt(i,s));return new Ur(l,vt.empty(),t)}function $w(r){return new Ur(r.readTime,r.key,Al)}class Ur{constructor(t,i,s){this.readTime=t,this.documentKey=i,this.largestBatchId=s}static min(){return new Ur(Rt.min(),vt.empty(),Al)}static max(){return new Ur(Rt.max(),vt.empty(),Al)}}function Xw(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=vt.comparator(r.documentKey,t.documentKey),i!==0?i:xt(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Jw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ys(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==Zw)throw r;dt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&St(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new tt(((s,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(s,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(s,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof tt?i:tt.resolve(i)}catch(i){return tt.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):tt.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):tt.reject(i)}static resolve(t){return new tt(((i,s)=>{i(t)}))}static reject(t){return new tt(((i,s)=>{s(t)}))}static waitFor(t){return new tt(((i,s)=>{let l=0,c=0,f=!1;t.forEach((m=>{++l,m.next((()=>{++c,f&&c===l&&i()}),(p=>s(p)))})),f=!0,c===l&&i()}))}static or(t){let i=tt.resolve(!1);for(const s of t)i=i.next((l=>l?tt.resolve(l):s()));return i}static forEach(t,i){const s=[];return t.forEach(((l,c)=>{s.push(i.call(this,l,c))})),this.waitFor(s)}static mapArray(t,i){return new tt(((s,l)=>{const c=t.length,f=new Array(c);let m=0;for(let p=0;p<c;p++){const y=p;i(t[y]).next((E=>{f[y]=E,++m,m===c&&s(f)}),(E=>l(E)))}}))}static doWhile(t,i){return new tt(((s,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):s()};c()}))}}function Ww(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Ks(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Zc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rm=-1;function Jc(r){return r==null}function Nc(r){return r===0&&1/r==-1/0}function t2(r){return typeof r=="number"&&Number.isInteger(r)&&!Nc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c0="";function e2(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=nv(t)),t=n2(r.get(i),t);return nv(t)}function n2(r,t){let i=t;const s=r.length;for(let l=0;l<s;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case c0:i+="";break;default:i+=c}}return i}function nv(r){return r+c0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iv(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function qr(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function h0(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(t,i){this.comparator=t,this.root=i||je.EMPTY}insert(t,i){return new le(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,je.BLACK,null,null))}remove(t){return new le(this.comparator,this.root.remove(t,this.comparator).copy(null,null,je.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(t){let i=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(t,s.key);if(l===0)return i+s.left.size;l<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,s)=>(t(i,s),!1)))}toString(){const t=[];return this.inorderTraversal(((i,s)=>(t.push(`${i}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new hc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new hc(this.root,t,this.comparator,!1)}getReverseIterator(){return new hc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new hc(this.root,t,this.comparator,!0)}}class hc{constructor(t,i,s,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?s(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class je{constructor(t,i,s,l,c){this.key=t,this.value=i,this.color=s??je.RED,this.left=l??je.EMPTY,this.right=c??je.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,s,l,c){return new je(t??this.key,i??this.value,s??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,s){let l=this;const c=s(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,s),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return je.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let s,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return je.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,je.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,je.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw St(43730,{key:this.key,value:this.value});if(this.right.isRed())throw St(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw St(27949);return t+(this.isRed()?0:1)}}je.EMPTY=null,je.RED=!0,je.BLACK=!1;je.EMPTY=new class{constructor(){this.size=0}get key(){throw St(57766)}get value(){throw St(16141)}get color(){throw St(16727)}get left(){throw St(29726)}get right(){throw St(36894)}copy(t,i,s,l,c){return this}insert(t,i,s){return new je(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(t){this.comparator=t,this.data=new le(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,s)=>(t(i),!1)))}forEachInRange(t,i){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new rv(this.data.getIterator())}getIteratorFrom(t){return new rv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((s=>{i=i.add(s)})),i}isEqual(t){if(!(t instanceof De)||this.size!==t.size)return!1;const i=this.data.getIterator(),s=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new De(this.comparator);return i.data=t,i}}class rv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(t){this.fields=t,t.sort(qe.comparator)}static empty(){return new vn([])}unionWith(t){let i=new De(qe.comparator);for(const s of this.fields)i=i.add(s);for(const s of t)i=i.add(s);return new vn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Ls(this.fields,t.fields,((i,s)=>i.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new f0("Invalid base64 string: "+c):c}})(t);return new He(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let f=0;f<l.length;++f)c+=String.fromCharCode(l[f]);return c})(t);return new He(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let l=0;l<i.length;l++)s[l]=i.charCodeAt(l);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return xt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}He.EMPTY_BYTE_STRING=new He("");const i2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Lr(r){if(Ht(!!r,39018),typeof r=="string"){let t=0;const i=i2.exec(r);if(Ht(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:ge(r.seconds),nanos:ge(r.nanos)}}function ge(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function kr(r){return typeof r=="string"?He.fromBase64String(r):He.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0="server_timestamp",m0="__type__",g0="__previous_value__",p0="__local_write_time__";function wm(r){return(r?.mapValue?.fields||{})[m0]?.stringValue===d0}function Wc(r){const t=r.mapValue.fields[g0];return wm(t)?Wc(t):t}function Sl(r){const t=Lr(r.mapValue.fields[p0].timestampValue);return new Jt(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(t,i,s,l,c,f,m,p,y,E){this.databaseId=t,this.appId=i,this.persistenceKey=s,this.host=l,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=E}}const Vc="(default)";class bl{constructor(t,i){this.projectId=t,this.database=i||Vc}static empty(){return new bl("","")}get isDefaultDatabase(){return this.database===Vc}isEqual(t){return t instanceof bl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0="__type__",a2="__max__",fc={mapValue:{}},_0="__vector__",xc="value";function zr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?wm(r)?4:o2(r)?9007199254740991:s2(r)?10:11:St(28295,{value:r})}function pi(r,t){if(r===t)return!0;const i=zr(r);if(i!==zr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Sl(r).isEqual(Sl(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const f=Lr(l.timestampValue),m=Lr(c.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,c){return kr(l.bytesValue).isEqual(kr(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,c){return ge(l.geoPointValue.latitude)===ge(c.geoPointValue.latitude)&&ge(l.geoPointValue.longitude)===ge(c.geoPointValue.longitude)})(r,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return ge(l.integerValue)===ge(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const f=ge(l.doubleValue),m=ge(c.doubleValue);return f===m?Nc(f)===Nc(m):isNaN(f)&&isNaN(m)}return!1})(r,t);case 9:return Ls(r.arrayValue.values||[],t.arrayValue.values||[],pi);case 10:case 11:return(function(l,c){const f=l.mapValue.fields||{},m=c.mapValue.fields||{};if(iv(f)!==iv(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!pi(f[p],m[p])))return!1;return!0})(r,t);default:return St(52216,{left:r})}}function Rl(r,t){return(r.values||[]).find((i=>pi(i,t)))!==void 0}function zs(r,t){if(r===t)return 0;const i=zr(r),s=zr(t);if(i!==s)return xt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return xt(r.booleanValue,t.booleanValue);case 2:return(function(c,f){const m=ge(c.integerValue||c.doubleValue),p=ge(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(r,t);case 3:return av(r.timestampValue,t.timestampValue);case 4:return av(Sl(r),Sl(t));case 5:return Fd(r.stringValue,t.stringValue);case 6:return(function(c,f){const m=kr(c),p=kr(f);return m.compareTo(p)})(r.bytesValue,t.bytesValue);case 7:return(function(c,f){const m=c.split("/"),p=f.split("/");for(let y=0;y<m.length&&y<p.length;y++){const E=xt(m[y],p[y]);if(E!==0)return E}return xt(m.length,p.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,f){const m=xt(ge(c.latitude),ge(f.latitude));return m!==0?m:xt(ge(c.longitude),ge(f.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return sv(r.arrayValue,t.arrayValue);case 10:return(function(c,f){const m=c.fields||{},p=f.fields||{},y=m[xc]?.arrayValue,E=p[xc]?.arrayValue,S=xt(y?.values?.length||0,E?.values?.length||0);return S!==0?S:sv(y,E)})(r.mapValue,t.mapValue);case 11:return(function(c,f){if(c===fc.mapValue&&f===fc.mapValue)return 0;if(c===fc.mapValue)return 1;if(f===fc.mapValue)return-1;const m=c.fields||{},p=Object.keys(m),y=f.fields||{},E=Object.keys(y);p.sort(),E.sort();for(let S=0;S<p.length&&S<E.length;++S){const R=Fd(p[S],E[S]);if(R!==0)return R;const U=zs(m[p[S]],y[E[S]]);if(U!==0)return U}return xt(p.length,E.length)})(r.mapValue,t.mapValue);default:throw St(23264,{he:i})}}function av(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return xt(r,t);const i=Lr(r),s=Lr(t),l=xt(i.seconds,s.seconds);return l!==0?l:xt(i.nanos,s.nanos)}function sv(r,t){const i=r.values||[],s=t.values||[];for(let l=0;l<i.length&&l<s.length;++l){const c=zs(i[l],s[l]);if(c)return c}return xt(i.length,s.length)}function Bs(r){return Gd(r)}function Gd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const s=Lr(i);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return kr(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return vt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let s="[",l=!0;for(const c of i.values||[])l?l=!1:s+=",",s+=Gd(c);return s+"]"})(r.arrayValue):"mapValue"in r?(function(i){const s=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const f of s)c?c=!1:l+=",",l+=`${f}:${Gd(i.fields[f])}`;return l+"}"})(r.mapValue):St(61005,{value:r})}function Ec(r){switch(zr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Wc(r);return t?16+Ec(t):16;case 5:return 2*r.stringValue.length;case 6:return kr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((l,c)=>l+Ec(c)),0)})(r.arrayValue);case 10:case 11:return(function(s){let l=0;return qr(s.fields,((c,f)=>{l+=c.length+Ec(f)})),l})(r.mapValue);default:throw St(13486,{value:r})}}function ov(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function Qd(r){return!!r&&"integerValue"in r}function Cm(r){return!!r&&"arrayValue"in r}function lv(r){return!!r&&"nullValue"in r}function uv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Tc(r){return!!r&&"mapValue"in r}function s2(r){return(r?.mapValue?.fields||{})[y0]?.stringValue===_0}function gl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return qr(r.mapValue.fields,((i,s)=>t.mapValue.fields[i]=gl(s))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=gl(r.arrayValue.values[i]);return t}return{...r}}function o2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===a2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(t){this.value=t}static empty(){return new on({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let s=0;s<t.length-1;++s)if(i=(i.mapValue.fields||{})[t.get(s)],!Tc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=gl(i)}setAll(t){let i=qe.emptyPath(),s={},l=[];t.forEach(((f,m)=>{if(!i.isImmediateParentOf(m)){const p=this.getFieldsMap(i);this.applyChanges(p,s,l),s={},l=[],i=m.popLast()}f?s[m.lastSegment()]=gl(f):l.push(m.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,s,l)}delete(t){const i=this.field(t.popLast());Tc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return pi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<t.length;++s){let l=i.mapValue.fields[t.get(s)];Tc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(s)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,s){qr(i,((l,c)=>t[l]=c));for(const l of s)delete t[l]}clone(){return new on(gl(this.value))}}function v0(r){const t=[];return qr(r.fields,((i,s)=>{const l=new qe([i]);if(Tc(s)){const c=v0(s.mapValue).fields;if(c.length===0)t.push(l);else for(const f of c)t.push(l.child(f))}else t.push(l)})),new vn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(t,i,s,l,c,f,m){this.key=t,this.documentType=i,this.version=s,this.readTime=l,this.createTime=c,this.data=f,this.documentState=m}static newInvalidDocument(t){return new $e(t,0,Rt.min(),Rt.min(),Rt.min(),on.empty(),0)}static newFoundDocument(t,i,s,l){return new $e(t,1,i,Rt.min(),s,l,0)}static newNoDocument(t,i){return new $e(t,2,i,Rt.min(),Rt.min(),on.empty(),0)}static newUnknownDocument(t,i){return new $e(t,3,i,Rt.min(),Rt.min(),on.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Rt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=on.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=on.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Rt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof $e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new $e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(t,i){this.position=t,this.inclusive=i}}function cv(r,t,i){let s=0;for(let l=0;l<r.position.length;l++){const c=t[l],f=r.position[l];if(c.field.isKeyField()?s=vt.comparator(vt.fromName(f.referenceValue),i.key):s=zs(f,i.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function hv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!pi(r.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(t,i="asc"){this.field=t,this.dir=i}}function l2(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{}class Te extends E0{constructor(t,i,s){super(),this.field=t,this.op=i,this.value=s}static create(t,i,s){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,s):new c2(t,i,s):i==="array-contains"?new d2(t,s):i==="in"?new m2(t,s):i==="not-in"?new g2(t,s):i==="array-contains-any"?new p2(t,s):new Te(t,i,s)}static createKeyFieldInFilter(t,i,s){return i==="in"?new h2(t,s):new f2(t,s)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(zs(i,this.value)):i!==null&&zr(this.value)===zr(i)&&this.matchesComparison(zs(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return St(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Qn extends E0{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Qn(t,i)}matches(t){return T0(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function T0(r){return r.op==="and"}function A0(r){return u2(r)&&T0(r)}function u2(r){for(const t of r.filters)if(t instanceof Qn)return!1;return!0}function Yd(r){if(r instanceof Te)return r.field.canonicalString()+r.op.toString()+Bs(r.value);if(A0(r))return r.filters.map((t=>Yd(t))).join(",");{const t=r.filters.map((i=>Yd(i))).join(",");return`${r.op}(${t})`}}function S0(r,t){return r instanceof Te?(function(s,l){return l instanceof Te&&s.op===l.op&&s.field.isEqual(l.field)&&pi(s.value,l.value)})(r,t):r instanceof Qn?(function(s,l){return l instanceof Qn&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce(((c,f,m)=>c&&S0(f,l.filters[m])),!0):!1})(r,t):void St(19439)}function b0(r){return r instanceof Te?(function(i){return`${i.field.canonicalString()} ${i.op} ${Bs(i.value)}`})(r):r instanceof Qn?(function(i){return i.op.toString()+" {"+i.getFilters().map(b0).join(" ,")+"}"})(r):"Filter"}class c2 extends Te{constructor(t,i,s){super(t,i,s),this.key=vt.fromName(s.referenceValue)}matches(t){const i=vt.comparator(t.key,this.key);return this.matchesComparison(i)}}class h2 extends Te{constructor(t,i){super(t,"in",i),this.keys=R0("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class f2 extends Te{constructor(t,i){super(t,"not-in",i),this.keys=R0("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function R0(r,t){return(t.arrayValue?.values||[]).map((i=>vt.fromName(i.referenceValue)))}class d2 extends Te{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Cm(i)&&Rl(i.arrayValue,this.value)}}class m2 extends Te{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Rl(this.value.arrayValue,i)}}class g2 extends Te{constructor(t,i){super(t,"not-in",i)}matches(t){if(Rl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Rl(this.value.arrayValue,i)}}class p2 extends Te{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Cm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>Rl(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(t,i=null,s=[],l=[],c=null,f=null,m=null){this.path=t,this.collectionGroup=i,this.orderBy=s,this.filters=l,this.limit=c,this.startAt=f,this.endAt=m,this.Te=null}}function fv(r,t=null,i=[],s=[],l=null,c=null,f=null){return new y2(r,t,i,s,l,c,f)}function Im(r){const t=wt(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((s=>Yd(s))).join(","),i+="|ob:",i+=t.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),Jc(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((s=>Bs(s))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((s=>Bs(s))).join(",")),t.Te=i}return t.Te}function Dm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!l2(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!S0(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!hv(r.startAt,t.startAt)&&hv(r.endAt,t.endAt)}function Kd(r){return vt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(t,i=null,s=[],l=[],c=null,f="F",m=null,p=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=l,this.limit=c,this.limitType=f,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function _2(r,t,i,s,l,c,f,m){return new Ol(r,t,i,s,l,c,f,m)}function w0(r){return new Ol(r)}function dv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function C0(r){return r.collectionGroup!==null}function pl(r){const t=wt(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new De(qe.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new Mc(c,s))})),i.has(qe.keyField().canonicalString())||t.Ie.push(new Mc(qe.keyField(),s))}return t.Ie}function ci(r){const t=wt(r);return t.Ee||(t.Ee=v2(t,pl(r))),t.Ee}function v2(r,t){if(r.limitType==="F")return fv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Mc(l.field,c)}));const i=r.endAt?new Oc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Oc(r.startAt.position,r.startAt.inclusive):null;return fv(r.path,r.collectionGroup,t,r.filters,r.limit,i,s)}}function $d(r,t){const i=r.filters.concat([t]);return new Ol(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function Xd(r,t,i){return new Ol(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function th(r,t){return Dm(ci(r),ci(t))&&r.limitType===t.limitType}function I0(r){return`${Im(ci(r))}|lt:${r.limitType}`}function Ns(r){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((l=>b0(l))).join(", ")}]`),Jc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((l=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(l))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((l=>Bs(l))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((l=>Bs(l))).join(",")),`Target(${s})`})(ci(r))}; limitType=${r.limitType})`}function eh(r,t){return t.isFoundDocument()&&(function(s,l){const c=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):vt.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(r,t)&&(function(s,l){for(const c of pl(s))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(s,l){for(const c of s.filters)if(!c.matches(l))return!1;return!0})(r,t)&&(function(s,l){return!(s.startAt&&!(function(f,m,p){const y=cv(f,m,p);return f.inclusive?y<=0:y<0})(s.startAt,pl(s),l)||s.endAt&&!(function(f,m,p){const y=cv(f,m,p);return f.inclusive?y>=0:y>0})(s.endAt,pl(s),l))})(r,t)}function E2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function D0(r){return(t,i)=>{let s=!1;for(const l of pl(r)){const c=T2(l,t,i);if(c!==0)return c;s=s||l.field.isKeyField()}return 0}}function T2(r,t,i){const s=r.field.isKeyField()?vt.comparator(t.key,i.key):(function(c,f,m){const p=f.data.field(c),y=m.data.field(c);return p!==null&&y!==null?zs(p,y):St(42886)})(r.field,t,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return St(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s!==void 0){for(const[l,c]of s)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const s=this.mapKeyFn(t),l=this.inner[s];if(l===void 0)return this.inner[s]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],t))return s.length===1?delete this.inner[i]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(t){qr(this.inner,((i,s)=>{for(const[l,c]of s)t(l,c)}))}isEmpty(){return h0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A2=new le(vt.comparator);function Ji(){return A2}const N0=new le(vt.comparator);function hl(...r){let t=N0;for(const i of r)t=t.insert(i.key,i);return t}function V0(r){let t=N0;return r.forEach(((i,s)=>t=t.insert(i,s.overlayedDocument))),t}function Ia(){return yl()}function x0(){return yl()}function yl(){return new Pa((r=>r.toString()),((r,t)=>r.isEqual(t)))}const S2=new le(vt.comparator),b2=new De(vt.comparator);function Ot(...r){let t=b2;for(const i of r)t=t.add(i);return t}const R2=new De(xt);function w2(){return R2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nc(t)?"-0":t}}function O0(r){return{integerValue:""+r}}function C2(r,t){return t2(t)?O0(t):Nm(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(){this._=void 0}}function I2(r,t,i){return r instanceof Pc?(function(l,c){const f={fields:{[m0]:{stringValue:d0},[p0]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&wm(c)&&(c=Wc(c)),c&&(f.fields[g0]=c),{mapValue:f}})(i,t):r instanceof wl?P0(r,t):r instanceof Cl?U0(r,t):(function(l,c){const f=M0(l,c),m=mv(f)+mv(l.Ae);return Qd(f)&&Qd(l.Ae)?O0(m):Nm(l.serializer,m)})(r,t)}function D2(r,t,i){return r instanceof wl?P0(r,t):r instanceof Cl?U0(r,t):i}function M0(r,t){return r instanceof Uc?(function(s){return Qd(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(t)?t:{integerValue:0}:null}class Pc extends nh{}class wl extends nh{constructor(t){super(),this.elements=t}}function P0(r,t){const i=L0(t);for(const s of r.elements)i.some((l=>pi(l,s)))||i.push(s);return{arrayValue:{values:i}}}class Cl extends nh{constructor(t){super(),this.elements=t}}function U0(r,t){let i=L0(t);for(const s of r.elements)i=i.filter((l=>!pi(l,s)));return{arrayValue:{values:i}}}class Uc extends nh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function mv(r){return ge(r.integerValue||r.doubleValue)}function L0(r){return Cm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function N2(r,t){return r.field.isEqual(t.field)&&(function(s,l){return s instanceof wl&&l instanceof wl||s instanceof Cl&&l instanceof Cl?Ls(s.elements,l.elements,pi):s instanceof Uc&&l instanceof Uc?pi(s.Ae,l.Ae):s instanceof Pc&&l instanceof Pc})(r.transform,t.transform)}class V2{constructor(t,i){this.version=t,this.transformResults=i}}class hi{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new hi}static exists(t){return new hi(void 0,t)}static updateTime(t){return new hi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Ac(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class ih{}function k0(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new B0(r.key,hi.none()):new Ml(r.key,r.data,hi.none());{const i=r.data,s=on.empty();let l=new De(qe.comparator);for(let c of t.fields)if(!l.has(c)){let f=i.field(c);f===null&&c.length>1&&(c=c.popLast(),f=i.field(c)),f===null?s.delete(c):s.set(c,f),l=l.add(c)}return new Hr(r.key,s,new vn(l.toArray()),hi.none())}}function x2(r,t,i){r instanceof Ml?(function(l,c,f){const m=l.value.clone(),p=pv(l.fieldTransforms,c,f.transformResults);m.setAll(p),c.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,t,i):r instanceof Hr?(function(l,c,f){if(!Ac(l.precondition,c))return void c.convertToUnknownDocument(f.version);const m=pv(l.fieldTransforms,c,f.transformResults),p=c.data;p.setAll(z0(l)),p.setAll(m),c.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(r,t,i):(function(l,c,f){c.convertToNoDocument(f.version).setHasCommittedMutations()})(0,t,i)}function _l(r,t,i,s){return r instanceof Ml?(function(c,f,m,p){if(!Ac(c.precondition,f))return m;const y=c.value.clone(),E=yv(c.fieldTransforms,p,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(r,t,i,s):r instanceof Hr?(function(c,f,m,p){if(!Ac(c.precondition,f))return m;const y=yv(c.fieldTransforms,p,f),E=f.data;return E.setAll(z0(c)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(r,t,i,s):(function(c,f,m){return Ac(c.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,t,i)}function O2(r,t){let i=null;for(const s of r.fieldTransforms){const l=t.data.field(s.field),c=M0(s.transform,l||null);c!=null&&(i===null&&(i=on.empty()),i.set(s.field,c))}return i||null}function gv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&Ls(s,l,((c,f)=>N2(c,f)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Ml extends ih{constructor(t,i,s,l=[]){super(),this.key=t,this.value=i,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Hr extends ih{constructor(t,i,s,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=s,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function z0(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=r.data.field(i);t.set(i,s)}})),t}function pv(r,t,i){const s=new Map;Ht(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let l=0;l<i.length;l++){const c=r[l],f=c.transform,m=t.data.field(c.field);s.set(c.field,D2(f,m,i[l]))}return s}function yv(r,t,i){const s=new Map;for(const l of r){const c=l.transform,f=i.data.field(l.field);s.set(l.field,I2(c,f,t))}return s}class B0 extends ih{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class M2 extends ih{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(t,i,s,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(t,i){const s=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&x2(c,t,s[l])}}applyToLocalView(t,i){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(i=_l(s,t,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(i=_l(s,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const s=x0();return this.mutations.forEach((l=>{const c=t.get(l.key),f=c.overlayedDocument;let m=this.applyToLocalView(f,c.mutatedFields);m=i.has(l.key)?null:m;const p=k0(f,m);p!==null&&s.set(l.key,p),f.isValidDocument()||f.convertToNoDocument(Rt.min())})),s}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Ot())}isEqual(t){return this.batchId===t.batchId&&Ls(this.mutations,t.mutations,((i,s)=>gv(i,s)))&&Ls(this.baseMutations,t.baseMutations,((i,s)=>gv(i,s)))}}class Vm{constructor(t,i,s,l){this.batch=t,this.commitVersion=i,this.mutationResults=s,this.docVersions=l}static from(t,i,s){Ht(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let l=(function(){return S2})();const c=t.mutations;for(let f=0;f<c.length;f++)l=l.insert(c[f].key,s[f].version);return new Vm(t,i,s,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(t,i){this.count=t,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ee,Lt;function k2(r){switch(r){case J.OK:return St(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return St(15467,{code:r})}}function j0(r){if(r===void 0)return Zi("GRPC error has no .code"),J.UNKNOWN;switch(r){case Ee.OK:return J.OK;case Ee.CANCELLED:return J.CANCELLED;case Ee.UNKNOWN:return J.UNKNOWN;case Ee.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Ee.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Ee.INTERNAL:return J.INTERNAL;case Ee.UNAVAILABLE:return J.UNAVAILABLE;case Ee.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Ee.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Ee.NOT_FOUND:return J.NOT_FOUND;case Ee.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Ee.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Ee.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Ee.ABORTED:return J.ABORTED;case Ee.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Ee.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Ee.DATA_LOSS:return J.DATA_LOSS;default:return St(39323,{code:r})}}(Lt=Ee||(Ee={}))[Lt.OK=0]="OK",Lt[Lt.CANCELLED=1]="CANCELLED",Lt[Lt.UNKNOWN=2]="UNKNOWN",Lt[Lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lt[Lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lt[Lt.NOT_FOUND=5]="NOT_FOUND",Lt[Lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lt[Lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lt[Lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lt[Lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lt[Lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lt[Lt.ABORTED=10]="ABORTED",Lt[Lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lt[Lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lt[Lt.INTERNAL=13]="INTERNAL",Lt[Lt.UNAVAILABLE=14]="UNAVAILABLE",Lt[Lt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B2=new Or([4294967295,4294967295],0);function _v(r){const t=z2().encode(r),i=new t0;return i.update(t),new Uint8Array(i.digest())}function vv(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),s=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Or([i,s],0),new Or([l,c],0)]}class xm{constructor(t,i,s){if(this.bitmap=t,this.padding=i,this.hashCount=s,i<0||i>=8)throw new fl(`Invalid padding: ${i}`);if(s<0)throw new fl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new fl(`Invalid hash count: ${s}`);if(t.length===0&&i!==0)throw new fl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Or.fromNumber(this.ge)}ye(t,i,s){let l=t.add(i.multiply(Or.fromNumber(s)));return l.compare(B2)===1&&(l=new Or([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=_v(t),[s,l]=vv(i);for(let c=0;c<this.hashCount;c++){const f=this.ye(s,l,c);if(!this.we(f))return!1}return!0}static create(t,i,s){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),f=new xm(c,l,i);return s.forEach((m=>f.insert(m))),f}insert(t){if(this.ge===0)return;const i=_v(t),[s,l]=vv(i);for(let c=0;c<this.hashCount;c++){const f=this.ye(s,l,c);this.Se(f)}}Se(t){const i=Math.floor(t/8),s=t%8;this.bitmap[i]|=1<<s}}class fl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(t,i,s,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,s){const l=new Map;return l.set(t,Pl.createSynthesizedTargetChangeForCurrentChange(t,i,s)),new rh(Rt.min(),l,new le(xt),Ji(),Ot())}}class Pl{constructor(t,i,s,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,s){return new Pl(s,i,Ot(),Ot(),Ot())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(t,i,s,l){this.be=t,this.removedTargetIds=i,this.key=s,this.De=l}}class q0{constructor(t,i){this.targetId=t,this.Ce=i}}class H0{constructor(t,i,s=He.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=s,this.cause=l}}class Ev{constructor(){this.ve=0,this.Fe=Tv(),this.Me=He.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ot(),i=Ot(),s=Ot();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:s=s.add(l);break;default:St(38017,{changeType:c})}})),new Pl(this.Me,this.xe,t,i,s)}qe(){this.Oe=!1,this.Fe=Tv()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ht(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class j2{constructor(t){this.Ge=t,this.ze=new Map,this.je=Ji(),this.Je=dc(),this.He=dc(),this.Ye=new le(xt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const s=this.nt(i);switch(t.state){case 0:this.rt(i)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(t.resumeToken));break;default:St(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((s,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,s=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(Kd(c))if(s===0){const f=new vt(c.path);this.et(i,f,$e.newNoDocument(f,Rt.min()))}else Ht(s===1,20013,{expectedCount:s});else{const f=this._t(i);if(f!==s){const m=this.ut(t),p=m?this.ct(m,t,f):1;if(p!==0){this.it(i);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:c=0}=i;let f,m;try{f=kr(s).toUint8Array()}catch(p){if(p instanceof f0)return Us("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new xm(f,l,c)}catch(p){return Us(p instanceof fl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(t,i,s){return i.Ce.count===s-this.Pt(t,i.targetId)?0:2}Pt(t,i){const s=this.Ge.getRemoteKeysForTarget(i);let l=0;return s.forEach((c=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;t.mightContain(m)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,f)=>{const m=this.ot(f);if(m){if(c.current&&Kd(m.target)){const p=new vt(m.target.path);this.It(p).has(f)||this.Et(f,p)||this.et(f,p,$e.newNoDocument(p,t))}c.Be&&(i.set(f,c.ke()),c.qe())}}));let s=Ot();this.He.forEach(((c,f)=>{let m=!0;f.forEachWhile((p=>{const y=this.ot(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(c))})),this.je.forEach(((c,f)=>f.setReadTime(t)));const l=new rh(t,i,this.Ye,this.je,s);return this.je=Ji(),this.Je=dc(),this.He=dc(),this.Ye=new le(xt),l}Xe(t,i){if(!this.rt(t))return;const s=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,s),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,s){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),s&&(this.je=this.je.insert(i,s))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new Ev,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new De(xt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new De(xt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||dt("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Ev),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function dc(){return new le(vt.comparator)}function Tv(){return new le(vt.comparator)}const q2={asc:"ASCENDING",desc:"DESCENDING"},H2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},F2={and:"AND",or:"OR"};class G2{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Zd(r,t){return r.useProto3Json||Jc(t)?t:{value:t}}function Lc(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function F0(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function Q2(r,t){return Lc(r,t.toTimestamp())}function fi(r){return Ht(!!r,49232),Rt.fromTimestamp((function(i){const s=Lr(i);return new Jt(s.seconds,s.nanos)})(r))}function Om(r,t){return Jd(r,t).canonicalString()}function Jd(r,t){const i=(function(l){return new ne(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?i:i.child(t)}function G0(r){const t=ne.fromString(r);return Ht(X0(t),10190,{key:t.toString()}),t}function Wd(r,t){return Om(r.databaseId,t.path)}function Nd(r,t){const i=G0(t);if(i.get(1)!==r.databaseId.projectId)throw new ft(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ft(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new vt(Y0(i))}function Q0(r,t){return Om(r.databaseId,t)}function Y2(r){const t=G0(r);return t.length===4?ne.emptyPath():Y0(t)}function tm(r){return new ne(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Y0(r){return Ht(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Av(r,t,i){return{name:Wd(r,t),fields:i.value.mapValue.fields}}function K2(r,t){let i;if("targetChange"in t){t.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:St(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(y,E){return y.useProto3Json?(Ht(E===void 0||typeof E=="string",58123),He.fromBase64String(E||"")):(Ht(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),He.fromUint8Array(E||new Uint8Array))})(r,t.targetChange.resumeToken),f=t.targetChange.cause,m=f&&(function(y){const E=y.code===void 0?J.UNKNOWN:j0(y.code);return new ft(E,y.message||"")})(f);i=new H0(s,l,c,m||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const l=Nd(r,s.document.name),c=fi(s.document.updateTime),f=s.document.createTime?fi(s.document.createTime):Rt.min(),m=new on({mapValue:{fields:s.document.fields}}),p=$e.newFoundDocument(l,c,f,m),y=s.targetIds||[],E=s.removedTargetIds||[];i=new Sc(y,E,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const l=Nd(r,s.document),c=s.readTime?fi(s.readTime):Rt.min(),f=$e.newNoDocument(l,c),m=s.removedTargetIds||[];i=new Sc([],m,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const l=Nd(r,s.document),c=s.removedTargetIds||[];i=new Sc([],c,l,null)}else{if(!("filter"in t))return St(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:l=0,unchangedNames:c}=s,f=new L2(l,c),m=s.targetId;i=new q0(m,f)}}return i}function $2(r,t){let i;if(t instanceof Ml)i={update:Av(r,t.key,t.value)};else if(t instanceof B0)i={delete:Wd(r,t.key)};else if(t instanceof Hr)i={update:Av(r,t.key,t.data),updateMask:rC(t.fieldMask)};else{if(!(t instanceof M2))return St(16599,{Vt:t.type});i={verify:Wd(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((s=>(function(c,f){const m=f.transform;if(m instanceof Pc)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof wl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Cl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Uc)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw St(20930,{transform:f.transform})})(0,s)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:Q2(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:St(27497)})(r,t.precondition)),i}function X2(r,t){return r&&r.length>0?(Ht(t!==void 0,14353),r.map((i=>(function(l,c){let f=l.updateTime?fi(l.updateTime):fi(c);return f.isEqual(Rt.min())&&(f=fi(c)),new V2(f,l.transformResults||[])})(i,t)))):[]}function Z2(r,t){return{documents:[Q0(r,t.path)]}}function J2(r,t){const i={structuredQuery:{}},s=t.path;let l;t.collectionGroup!==null?(l=s,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=Q0(r,l);const c=(function(y){if(y.length!==0)return $0(Qn.create(y,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const f=(function(y){if(y.length!==0)return y.map((E=>(function(R){return{field:Vs(R.field),direction:eC(R.dir)}})(E)))})(t.orderBy);f&&(i.structuredQuery.orderBy=f);const m=Zd(r,t.limit);return m!==null&&(i.structuredQuery.limit=m),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:l}}function W2(r){let t=Y2(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let l=null;if(s>0){Ht(s===1,65062);const E=i.from[0];E.allDescendants?l=E.collectionId:t=t.child(E.collectionId)}let c=[];i.where&&(c=(function(S){const R=K0(S);return R instanceof Qn&&A0(R)?R.getFilters():[R]})(i.where));let f=[];i.orderBy&&(f=(function(S){return S.map((R=>(function(H){return new Mc(xs(H.field),(function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(H.direction))})(R)))})(i.orderBy));let m=null;i.limit&&(m=(function(S){let R;return R=typeof S=="object"?S.value:S,Jc(R)?null:R})(i.limit));let p=null;i.startAt&&(p=(function(S){const R=!!S.before,U=S.values||[];return new Oc(U,R)})(i.startAt));let y=null;return i.endAt&&(y=(function(S){const R=!S.before,U=S.values||[];return new Oc(U,R)})(i.endAt)),_2(t,l,f,c,m,"F",p,y)}function tC(r,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return St(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function K0(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=xs(i.unaryFilter.field);return Te.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=xs(i.unaryFilter.field);return Te.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=xs(i.unaryFilter.field);return Te.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=xs(i.unaryFilter.field);return Te.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return St(61313);default:return St(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Te.create(xs(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return St(58110);default:return St(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Qn.create(i.compositeFilter.filters.map((s=>K0(s))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return St(1026)}})(i.compositeFilter.op))})(r):St(30097,{filter:r})}function eC(r){return q2[r]}function nC(r){return H2[r]}function iC(r){return F2[r]}function Vs(r){return{fieldPath:r.canonicalString()}}function xs(r){return qe.fromServerFormat(r.fieldPath)}function $0(r){return r instanceof Te?(function(i){if(i.op==="=="){if(uv(i.value))return{unaryFilter:{field:Vs(i.field),op:"IS_NAN"}};if(lv(i.value))return{unaryFilter:{field:Vs(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(uv(i.value))return{unaryFilter:{field:Vs(i.field),op:"IS_NOT_NAN"}};if(lv(i.value))return{unaryFilter:{field:Vs(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vs(i.field),op:nC(i.op),value:i.value}}})(r):r instanceof Qn?(function(i){const s=i.getFilters().map((l=>$0(l)));return s.length===1?s[0]:{compositeFilter:{op:iC(i.op),filters:s}}})(r):St(54877,{filter:r})}function rC(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function X0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(t,i,s,l,c=Rt.min(),f=Rt.min(),m=He.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=i,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(t){return new Dr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Dr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Dr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Dr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(t){this.yt=t}}function sC(r){const t=W2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Xd(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(){this.Cn=new lC}addToCollectionParentIndex(t,i){return this.Cn.add(i),tt.resolve()}getCollectionParents(t,i){return tt.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return tt.resolve()}deleteFieldIndex(t,i){return tt.resolve()}deleteAllFieldIndexes(t){return tt.resolve()}createTargetIndexes(t,i){return tt.resolve()}getDocumentsMatchingTarget(t,i){return tt.resolve(null)}getIndexType(t,i){return tt.resolve(0)}getFieldIndexes(t,i){return tt.resolve([])}getNextCollectionGroupToUpdate(t){return tt.resolve(null)}getMinOffset(t,i){return tt.resolve(Ur.min())}getMinOffsetFromCollectionGroup(t,i){return tt.resolve(Ur.min())}updateCollectionGroup(t,i,s){return tt.resolve()}updateIndexEntries(t,i){return tt.resolve()}}class lC{constructor(){this.index={}}add(t){const i=t.lastSegment(),s=t.popLast(),l=this.index[i]||new De(ne.comparator),c=!l.has(s);return this.index[i]=l.add(s),c}has(t){const i=t.lastSegment(),s=t.popLast(),l=this.index[i];return l&&l.has(s)}getEntries(t){return(this.index[t]||new De(ne.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Z0=41943040;class sn{static withCacheSize(t){return new sn(t,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sn.DEFAULT_COLLECTION_PERCENTILE=10,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,sn.DEFAULT=new sn(Z0,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),sn.DISABLED=new sn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new js(0)}static cr(){return new js(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bv="LruGarbageCollector",uC=1048576;function Rv([r,t],[i,s]){const l=xt(r,i);return l===0?xt(t,s):l}class cC{constructor(t){this.Ir=t,this.buffer=new De(Rv),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();Rv(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class hC{constructor(t,i,s){this.garbageCollector=t,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){dt(bv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Ks(i)?dt(bv,"Ignoring IndexedDB error during garbage collection: ",i):await Ys(i)}await this.Vr(3e5)}))}}class fC{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((s=>Math.floor(i/100*s)))}nthSequenceNumber(t,i){if(i===0)return tt.resolve(Zc.ce);const s=new cC(i);return this.mr.forEachTarget(t,(l=>s.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>s.Ar(l))))).next((()=>s.maxValue))}removeTargets(t,i,s){return this.mr.removeTargets(t,i,s)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(dt("LruGarbageCollector","Garbage collection skipped; disabled"),tt.resolve(Sv)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(dt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Sv):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let s,l,c,f,m,p,y;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(dt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,f=Date.now(),this.nthSequenceNumber(t,l)))).next((S=>(s=S,m=Date.now(),this.removeTargets(t,s,i)))).next((S=>(c=S,p=Date.now(),this.removeOrphanedDocuments(t,s)))).next((S=>(y=Date.now(),Ds()<=kt.DEBUG&&dt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${l} in `+(m-f)+`ms
	Removed ${c} targets in `+(p-m)+`ms
	Removed ${S} documents in `+(y-p)+`ms
Total Duration: ${y-E}ms`),tt.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:S}))))}}function dC(r,t){return new fC(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(){this.changes=new Pa((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,$e.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?tt.resolve(s):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(t,i,s,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=l}getDocument(t,i){let s=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(s=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(s!==null&&_l(s.mutation,l,vn.empty(),Jt.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((s=>this.getLocalViewOfDocuments(t,s,Ot()).next((()=>s))))}getLocalViewOfDocuments(t,i,s=Ot()){const l=Ia();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,s).next((c=>{let f=hl();return c.forEach(((m,p)=>{f=f.insert(m,p.overlayedDocument)})),f}))))}getOverlayedDocuments(t,i){const s=Ia();return this.populateOverlays(t,s,i).next((()=>this.computeViews(t,i,s,Ot())))}populateOverlays(t,i,s){const l=[];return s.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((f,m)=>{i.set(f,m)}))}))}computeViews(t,i,s,l){let c=Ji();const f=yl(),m=(function(){return yl()})();return i.forEach(((p,y)=>{const E=s.get(y.key);l.has(y.key)&&(E===void 0||E.mutation instanceof Hr)?c=c.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),_l(E.mutation,y,E.mutation.getFieldMask(),Jt.now())):f.set(y.key,vn.empty())})),this.recalculateAndSaveOverlays(t,c).next((p=>(p.forEach(((y,E)=>f.set(y,E))),i.forEach(((y,E)=>m.set(y,new gC(E,f.get(y)??null)))),m)))}recalculateAndSaveOverlays(t,i){const s=yl();let l=new le(((f,m)=>f-m)),c=Ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((f=>{for(const m of f)m.keys().forEach((p=>{const y=i.get(p);if(y===null)return;let E=s.get(p)||vn.empty();E=m.applyToLocalView(y,E),s.set(p,E);const S=(l.get(m.batchId)||Ot()).add(p);l=l.insert(m.batchId,S)}))})).next((()=>{const f=[],m=l.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,E=p.value,S=x0();E.forEach((R=>{if(!c.has(R)){const U=k0(i.get(R),s.get(R));U!==null&&S.set(R,U),c=c.add(R)}})),f.push(this.documentOverlayCache.saveOverlays(t,y,S))}return tt.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,i,s,l){return(function(f){return vt.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):C0(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,s,l):this.getDocumentsMatchingCollectionQuery(t,i,s,l)}getNextDocuments(t,i,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,s,l).next((c=>{const f=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,s.largestBatchId,l-c.size):tt.resolve(Ia());let m=Al,p=c;return f.next((y=>tt.forEach(y,((E,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),c.get(E)?tt.resolve():this.remoteDocumentCache.getEntry(t,E).next((R=>{p=p.insert(E,R)}))))).next((()=>this.populateOverlays(t,y,c))).next((()=>this.computeViews(t,p,y,Ot()))).next((E=>({batchId:m,changes:V0(E)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new vt(i)).next((s=>{let l=hl();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,s,l){const c=i.collectionGroup;let f=hl();return this.indexManager.getCollectionParents(t,c).next((m=>tt.forEach(m,(p=>{const y=(function(S,R){return new Ol(R,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,p.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,s,l).next((E=>{E.forEach(((S,R)=>{f=f.insert(S,R)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(t,i,s,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,s.largestBatchId).next((f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,s,c,l)))).next((f=>{c.forEach(((p,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,$e.newInvalidDocument(E)))}));let m=hl();return f.forEach(((p,y)=>{const E=c.get(p);E!==void 0&&_l(E.mutation,y,vn.empty(),Jt.now()),eh(i,y)&&(m=m.insert(p,y))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return tt.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:fi(l.createTime)}})(i)),tt.resolve()}getNamedQuery(t,i){return tt.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:sC(l.bundledQuery),readTime:fi(l.readTime)}})(i)),tt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(){this.overlays=new le(vt.comparator),this.qr=new Map}getOverlay(t,i){return tt.resolve(this.overlays.get(i))}getOverlays(t,i){const s=Ia();return tt.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&s.set(l,c)})))).next((()=>s))}saveOverlays(t,i,s){return s.forEach(((l,c)=>{this.St(t,i,c)})),tt.resolve()}removeOverlaysForBatchId(t,i,s){const l=this.qr.get(s);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(s)),tt.resolve()}getOverlaysForCollection(t,i,s){const l=Ia(),c=i.length+1,f=new vt(i.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&p.largestBatchId>s&&l.set(p.getKey(),p)}return tt.resolve(l)}getOverlaysForCollectionGroup(t,i,s,l){let c=new le(((y,E)=>y-E));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>s){let E=c.get(y.largestBatchId);E===null&&(E=Ia(),c=c.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=Ia(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((y,E)=>m.set(y,E))),!(m.size()>=l)););return tt.resolve(m)}St(t,i,s){const l=this.overlays.get(s.key);if(l!==null){const f=this.qr.get(l.largestBatchId).delete(s.key);this.qr.set(l.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new U2(i,s));let c=this.qr.get(i);c===void 0&&(c=Ot(),this.qr.set(i,c)),this.qr.set(i,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(){this.sessionToken=He.EMPTY_BYTE_STRING}getSessionToken(t){return tt.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,tt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(){this.Qr=new De(Pe.$r),this.Ur=new De(Pe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const s=new Pe(t,i);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,i){t.forEach((s=>this.addReference(s,i)))}removeReference(t,i){this.Gr(new Pe(t,i))}zr(t,i){t.forEach((s=>this.removeReference(s,i)))}jr(t){const i=new vt(new ne([])),s=new Pe(i,t),l=new Pe(i,t+1),c=[];return this.Ur.forEachInRange([s,l],(f=>{this.Gr(f),c.push(f.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new vt(new ne([])),s=new Pe(i,t),l=new Pe(i,t+1);let c=Ot();return this.Ur.forEachInRange([s,l],(f=>{c=c.add(f.key)})),c}containsKey(t){const i=new Pe(t,0),s=this.Qr.firstAfterOrEqual(i);return s!==null&&t.isEqual(s.key)}}class Pe{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return vt.comparator(t.key,i.key)||xt(t.Yr,i.Yr)}static Kr(t,i){return xt(t.Yr,i.Yr)||vt.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new De(Pe.$r)}checkEmpty(t){return tt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,s,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new P2(c,i,s,l);this.mutationQueue.push(f);for(const m of l)this.Zr=this.Zr.add(new Pe(m.key,c)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return tt.resolve(f)}lookupMutationBatch(t,i){return tt.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const s=i+1,l=this.ei(s),c=l<0?0:l;return tt.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return tt.resolve(this.mutationQueue.length===0?Rm:this.tr-1)}getAllMutationBatches(t){return tt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const s=new Pe(i,0),l=new Pe(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([s,l],(f=>{const m=this.Xr(f.Yr);c.push(m)})),tt.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let s=new De(xt);return i.forEach((l=>{const c=new Pe(l,0),f=new Pe(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,f],(m=>{s=s.add(m.Yr)}))})),tt.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,i){const s=i.path,l=s.length+1;let c=s;vt.isDocumentKey(c)||(c=c.child(""));const f=new Pe(new vt(c),0);let m=new De(xt);return this.Zr.forEachWhile((p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===l&&(m=m.add(p.Yr)),!0)}),f),tt.resolve(this.ti(m))}ti(t){const i=[];return t.forEach((s=>{const l=this.Xr(s);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Ht(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return tt.forEach(i.mutations,(l=>{const c=new Pe(l.key,i.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=s}))}ir(t){}containsKey(t,i){const s=new Pe(i,0),l=this.Zr.firstAfterOrEqual(s);return tt.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,tt.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(t){this.ri=t,this.docs=(function(){return new le(vt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const s=i.key,l=this.docs.get(s),c=l?l.size:0,f=this.ri(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const s=this.docs.get(i);return tt.resolve(s?s.document.mutableCopy():$e.newInvalidDocument(i))}getEntries(t,i){let s=Ji();return i.forEach((l=>{const c=this.docs.get(l);s=s.insert(l,c?c.document.mutableCopy():$e.newInvalidDocument(l))})),tt.resolve(s)}getDocumentsMatchingQuery(t,i,s,l){let c=Ji();const f=i.path,m=new vt(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:E}}=p.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||Xw($w(E),s)<=0||(l.has(E.key)||eh(i,E))&&(c=c.insert(E.key,E.mutableCopy()))}return tt.resolve(c)}getAllFromCollectionGroup(t,i,s,l){St(9500)}ii(t,i){return tt.forEach(this.docs,(s=>i(s)))}newChangeBuffer(t){return new AC(this)}getSize(t){return tt.resolve(this.size)}}class AC extends mC{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((s,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(s)})),tt.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(t){this.persistence=t,this.si=new Pa((i=>Im(i)),Dm),this.lastRemoteSnapshotVersion=Rt.min(),this.highestTargetId=0,this.oi=0,this._i=new Mm,this.targetCount=0,this.ai=js.ur()}forEachTarget(t,i){return this.si.forEach(((s,l)=>i(l))),tt.resolve()}getLastRemoteSnapshotVersion(t){return tt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return tt.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),tt.resolve(this.highestTargetId)}setTargetsMetadata(t,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.oi&&(this.oi=i),tt.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new js(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,tt.resolve()}updateTargetData(t,i){return this.Pr(i),tt.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,tt.resolve()}removeTargets(t,i,s){let l=0;const c=[];return this.si.forEach(((f,m)=>{m.sequenceNumber<=i&&s.get(m.targetId)===null&&(this.si.delete(f),c.push(this.removeMatchingKeysForTargetId(t,m.targetId)),l++)})),tt.waitFor(c).next((()=>l))}getTargetCount(t){return tt.resolve(this.targetCount)}getTargetData(t,i){const s=this.si.get(i)||null;return tt.resolve(s)}addMatchingKeys(t,i,s){return this._i.Wr(i,s),tt.resolve()}removeMatchingKeys(t,i,s){this._i.zr(i,s);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((f=>{c.push(l.markPotentiallyOrphaned(t,f))})),tt.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),tt.resolve()}getMatchingKeysForTargetId(t,i){const s=this._i.Hr(i);return tt.resolve(s)}containsKey(t,i){return tt.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(t,i){this.ui={},this.overlays={},this.ci=new Zc(0),this.li=!1,this.li=!0,this.hi=new vC,this.referenceDelegate=t(this),this.Pi=new SC(this),this.indexManager=new oC,this.remoteDocumentCache=(function(l){return new TC(l)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new aC(i),this.Ii=new yC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new _C,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let s=this.ui[t.toKey()];return s||(s=new EC(i,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,s){dt("MemoryPersistence","Starting transaction:",t);const l=new bC(this.ci.next());return this.referenceDelegate.Ei(),s(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return tt.or(Object.values(this.ui).map((s=>()=>s.containsKey(t,i))))}}class bC extends Jw{constructor(t){super(),this.currentSequenceNumber=t}}class Pm{constructor(t){this.persistence=t,this.Ri=new Mm,this.Vi=null}static mi(t){return new Pm(t)}get fi(){if(this.Vi)return this.Vi;throw St(60996)}addReference(t,i,s){return this.Ri.addReference(s,i),this.fi.delete(s.toString()),tt.resolve()}removeReference(t,i,s){return this.Ri.removeReference(s,i),this.fi.add(s.toString()),tt.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),tt.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>s.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return tt.forEach(this.fi,(s=>{const l=vt.fromPath(s);return this.gi(t,l).next((c=>{c||i.removeEntry(l,Rt.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((s=>{s?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return tt.or([()=>tt.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class kc{constructor(t,i){this.persistence=t,this.pi=new Pa((s=>e2(s.path)),((s,l)=>s.isEqual(l))),this.garbageCollector=dC(this,i)}static mi(t,i){return new kc(t,i)}Ei(){}di(t){return tt.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>i.next((l=>s+l))))}wr(t){let i=0;return this.pr(t,(s=>{i++})).next((()=>i))}pr(t,i){return tt.forEach(this.pi,((s,l)=>this.br(t,s,l).next((c=>c?tt.resolve():i(l)))))}removeTargets(t,i,s){return this.persistence.getTargetCache().removeTargets(t,i,s)}removeOrphanedDocuments(t,i){let s=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(f=>this.br(t,f,i).next((m=>{m||(s++,c.removeEntry(f,Rt.min()))})))).next((()=>c.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),tt.resolve()}removeTarget(t,i){const s=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,i,s){return this.pi.set(s,t.currentSequenceNumber),tt.resolve()}removeReference(t,i,s){return this.pi.set(s,t.currentSequenceNumber),tt.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),tt.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Ec(t.data.value)),i}br(t,i,s){return tt.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return tt.resolve(l!==void 0&&l>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(t,i,s,l){this.targetId=t,this.fromCache=i,this.Es=s,this.ds=l}static As(t,i){let s=Ot(),l=Ot();for(const c of i.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Um(t,i.fromCache,s,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return tb()?8:Ww(ZS())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,s,l){const c={result:null};return this.ys(t,i).next((f=>{c.result=f})).next((()=>{if(!c.result)return this.ws(t,i,l,s).next((f=>{c.result=f}))})).next((()=>{if(c.result)return;const f=new RC;return this.Ss(t,i,f).next((m=>{if(c.result=m,this.Vs)return this.bs(t,i,f,m.size)}))})).next((()=>c.result))}bs(t,i,s,l){return s.documentReadCount<this.fs?(Ds()<=kt.DEBUG&&dt("QueryEngine","SDK will not create cache indexes for query:",Ns(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),tt.resolve()):(Ds()<=kt.DEBUG&&dt("QueryEngine","Query:",Ns(i),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.gs*l?(Ds()<=kt.DEBUG&&dt("QueryEngine","The SDK decides to create cache indexes for query:",Ns(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ci(i))):tt.resolve())}ys(t,i){if(dv(i))return tt.resolve(null);let s=ci(i);return this.indexManager.getIndexType(t,s).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=Xd(i,null,"F"),s=ci(i)),this.indexManager.getDocumentsMatchingTarget(t,s).next((c=>{const f=Ot(...c);return this.ps.getDocuments(t,f).next((m=>this.indexManager.getMinOffset(t,s).next((p=>{const y=this.Ds(i,m);return this.Cs(i,y,f,p.readTime)?this.ys(t,Xd(i,null,"F")):this.vs(t,y,i,p)}))))})))))}ws(t,i,s,l){return dv(i)||l.isEqual(Rt.min())?tt.resolve(null):this.ps.getDocuments(t,s).next((c=>{const f=this.Ds(i,c);return this.Cs(i,f,s,l)?tt.resolve(null):(Ds()<=kt.DEBUG&&dt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ns(i)),this.vs(t,f,i,Kw(l,Al)).next((m=>m)))}))}Ds(t,i){let s=new De(D0(t));return i.forEach(((l,c)=>{eh(t,c)&&(s=s.add(c))})),s}Cs(t,i,s,l){if(t.limit===null)return!1;if(s.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,s){return Ds()<=kt.DEBUG&&dt("QueryEngine","Using full collection scan to execute query:",Ns(i)),this.ps.getDocumentsMatchingQuery(t,i,Ur.min(),s)}vs(t,i,s,l){return this.ps.getDocumentsMatchingQuery(t,s,l).next((c=>(i.forEach((f=>{c=c.insert(f.key,f)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lm="LocalStore",CC=3e8;class IC{constructor(t,i,s,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new le(xt),this.xs=new Pa((c=>Im(c)),Dm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new pC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function DC(r,t,i,s){return new IC(r,t,i,s)}async function W0(r,t){const i=wt(r);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let l;return i.mutationQueue.getAllMutationBatches(s).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(s)))).next((c=>{const f=[],m=[];let p=Ot();for(const y of l){f.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}for(const y of c){m.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}return i.localDocuments.getDocuments(s,p).next((y=>({Ls:y,removedBatchIds:f,addedBatchIds:m})))}))}))}function NC(r,t){const i=wt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,y,E){const S=y.batch,R=S.keys();let U=tt.resolve();return R.forEach((H=>{U=U.next((()=>E.getEntry(p,H))).next((X=>{const B=y.docVersions.get(H);Ht(B!==null,48541),X.version.compareTo(B)<0&&(S.applyToRemoteDocument(X,y),X.isValidDocument()&&(X.setReadTime(y.commitVersion),E.addEntry(X)))}))})),U.next((()=>m.mutationQueue.removeMutationBatch(p,S)))})(i,s,t,c).next((()=>c.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=Ot();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p})(t)))).next((()=>i.localDocuments.getDocuments(s,l)))}))}function tT(r){const t=wt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function VC(r,t){const i=wt(r),s=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const f=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const m=[];t.targetChanges.forEach(((E,S)=>{const R=l.get(S);if(!R)return;m.push(i.Pi.removeMatchingKeys(c,E.removedDocuments,S).next((()=>i.Pi.addMatchingKeys(c,E.addedDocuments,S))));let U=R.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(S)!==null?U=U.withResumeToken(He.EMPTY_BYTE_STRING,Rt.min()).withLastLimboFreeSnapshotVersion(Rt.min()):E.resumeToken.approximateByteSize()>0&&(U=U.withResumeToken(E.resumeToken,s)),l=l.insert(S,U),(function(X,B,nt){return X.resumeToken.approximateByteSize()===0||B.snapshotVersion.toMicroseconds()-X.snapshotVersion.toMicroseconds()>=CC?!0:nt.addedDocuments.size+nt.modifiedDocuments.size+nt.removedDocuments.size>0})(R,U,E)&&m.push(i.Pi.updateTargetData(c,U))}));let p=Ji(),y=Ot();if(t.documentUpdates.forEach((E=>{t.resolvedLimboDocuments.has(E)&&m.push(i.persistence.referenceDelegate.updateLimboDocument(c,E))})),m.push(xC(c,f,t.documentUpdates).next((E=>{p=E.ks,y=E.qs}))),!s.isEqual(Rt.min())){const E=i.Pi.getLastRemoteSnapshotVersion(c).next((S=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,s)));m.push(E)}return tt.waitFor(m).next((()=>f.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,p,y))).next((()=>p))})).then((c=>(i.Ms=l,c)))}function xC(r,t,i){let s=Ot(),l=Ot();return i.forEach((c=>s=s.add(c))),t.getEntries(r,s).next((c=>{let f=Ji();return i.forEach(((m,p)=>{const y=c.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(m)),p.isNoDocument()&&p.version.isEqual(Rt.min())?(t.removeEntry(m,p.readTime),f=f.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(p),f=f.insert(m,p)):dt(Lm,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)})),{ks:f,qs:l}}))}function OC(r,t){const i=wt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=Rm),i.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function MC(r,t){const i=wt(r);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let l;return i.Pi.getTargetData(s,t).next((c=>c?(l=c,tt.resolve(l)):i.Pi.allocateTargetId(s).next((f=>(l=new Dr(t,f,"TargetPurposeListen",s.currentSequenceNumber),i.Pi.addTargetData(s,l).next((()=>l)))))))})).then((s=>{const l=i.Ms.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(s.targetId,s),i.xs.set(t,s.targetId)),s}))}async function em(r,t,i){const s=wt(r),l=s.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",c,(f=>s.persistence.referenceDelegate.removeTarget(f,l)))}catch(f){if(!Ks(f))throw f;dt(Lm,`Failed to update sequence numbers for target ${t}: ${f}`)}s.Ms=s.Ms.remove(t),s.xs.delete(l.target)}function wv(r,t,i){const s=wt(r);let l=Rt.min(),c=Ot();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,y,E){const S=wt(p),R=S.xs.get(E);return R!==void 0?tt.resolve(S.Ms.get(R)):S.Pi.getTargetData(y,E)})(s,f,ci(t)).next((m=>{if(m)return l=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,m.targetId).next((p=>{c=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,t,i?l:Rt.min(),i?c:Ot()))).next((m=>(PC(s,E2(t),m),{documents:m,Qs:c})))))}function PC(r,t,i){let s=r.Os.get(t)||Rt.min();i.forEach(((l,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),r.Os.set(t,s)}class Cv{constructor(){this.activeTargetIds=w2()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class UC{constructor(){this.Mo=new Cv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,s){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,s){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Cv,Promise.resolve()}handleUserChange(t,i,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iv="ConnectivityMonitor";class Dv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){dt(Iv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){dt(Iv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mc=null;function nm(){return mc===null?mc=(function(){return 268435456+Math.round(2147483648*Math.random())})():mc++,"0x"+mc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vd="RestConnection",kC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class zC{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${s}/databases/${l}`,this.Wo=this.databaseId.database===Vc?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Go(t,i,s,l,c){const f=nm(),m=this.zo(t,i.toUriEncodedString());dt(Vd,`Sending RPC '${t}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,l,c);const{host:y}=new URL(m),E=Qc(y);return this.Jo(t,m,p,s,E).then((S=>(dt(Vd,`Received RPC '${t}' ${f}: `,S),S)),(S=>{throw Us(Vd,`RPC '${t}' ${f} failed with error: `,S,"url: ",m,"request:",s),S}))}Ho(t,i,s,l,c,f){return this.Go(t,i,s,l,c)}jo(t,i,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Qs})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),s&&s.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const s=kC[t];return`${this.Uo}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ye="WebChannelConnection";class jC extends zC{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,s,l,c){const f=nm();return new Promise(((m,p)=>{const y=new e0;y.setWithCredentials(!0),y.listenOnce(n0.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case vc.NO_ERROR:const S=y.getResponseJson();dt(Ye,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(S)),m(S);break;case vc.TIMEOUT:dt(Ye,`RPC '${t}' ${f} timed out`),p(new ft(J.DEADLINE_EXCEEDED,"Request time out"));break;case vc.HTTP_ERROR:const R=y.getStatus();if(dt(Ye,`RPC '${t}' ${f} failed with status:`,R,"response text:",y.getResponseText()),R>0){let U=y.getResponseJson();Array.isArray(U)&&(U=U[0]);const H=U?.error;if(H&&H.status&&H.message){const X=(function(nt){const et=nt.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(et)>=0?et:J.UNKNOWN})(H.status);p(new ft(X,H.message))}else p(new ft(J.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new ft(J.UNAVAILABLE,"Connection failed."));break;default:St(9055,{l_:t,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{dt(Ye,`RPC '${t}' ${f} completed.`)}}));const E=JSON.stringify(l);dt(Ye,`RPC '${t}' ${f} sending request:`,l),y.send(i,"POST",E,s,15)}))}T_(t,i,s){const l=nm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=a0(),m=r0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,i,s),p.encodeInitMessageHeaders=!0;const E=c.join("");dt(Ye,`Creating RPC '${t}' stream ${l}: ${E}`,p);const S=f.createWebChannel(E,p);this.I_(S);let R=!1,U=!1;const H=new BC({Yo:B=>{U?dt(Ye,`Not sending because RPC '${t}' stream ${l} is closed:`,B):(R||(dt(Ye,`Opening RPC '${t}' stream ${l} transport.`),S.open(),R=!0),dt(Ye,`RPC '${t}' stream ${l} sending:`,B),S.send(B))},Zo:()=>S.close()}),X=(B,nt,et)=>{B.listen(nt,(st=>{try{et(st)}catch(pt){setTimeout((()=>{throw pt}),0)}}))};return X(S,cl.EventType.OPEN,(()=>{U||(dt(Ye,`RPC '${t}' stream ${l} transport opened.`),H.o_())})),X(S,cl.EventType.CLOSE,(()=>{U||(U=!0,dt(Ye,`RPC '${t}' stream ${l} transport closed`),H.a_(),this.E_(S))})),X(S,cl.EventType.ERROR,(B=>{U||(U=!0,Us(Ye,`RPC '${t}' stream ${l} transport errored. Name:`,B.name,"Message:",B.message),H.a_(new ft(J.UNAVAILABLE,"The operation could not be completed")))})),X(S,cl.EventType.MESSAGE,(B=>{if(!U){const nt=B.data[0];Ht(!!nt,16349);const et=nt,st=et?.error||et[0]?.error;if(st){dt(Ye,`RPC '${t}' stream ${l} received error:`,st);const pt=st.status;let ut=(function(b){const w=Ee[b];if(w!==void 0)return j0(w)})(pt),ht=st.message;ut===void 0&&(ut=J.INTERNAL,ht="Unknown error status: "+pt+" with message "+st.message),U=!0,H.a_(new ft(ut,ht)),S.close()}else dt(Ye,`RPC '${t}' stream ${l} received:`,nt),H.u_(nt)}})),X(m,i0.STAT_EVENT,(B=>{B.stat===Hd.PROXY?dt(Ye,`RPC '${t}' stream ${l} detected buffering proxy`):B.stat===Hd.NOPROXY&&dt(Ye,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{H.__()}),0),H}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function xd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ah(r){return new G2(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{constructor(t,i,s=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=s,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-s);l>0&&dt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nv="PersistentStream";class nT{constructor(t,i,s,l,c,f,m,p){this.Mi=t,this.S_=s,this.b_=l,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new eT(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(Zi(i.toString()),Zi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,l])=>{this.D_===i&&this.G_(s,l)}),(s=>{t((()=>{const l=new ft(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(l)}))}))}G_(t,i){const s=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{s((()=>this.z_(l)))})),this.stream.onMessage((l=>{s((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return dt(Nv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(dt(Nv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class qC extends nT{constructor(t,i,s,l,c,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,l,f),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=K2(this.serializer,t),s=(function(c){if(!("targetChange"in c))return Rt.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?Rt.min():f.readTime?fi(f.readTime):Rt.min()})(t);return this.listener.H_(i,s)}Y_(t){const i={};i.database=tm(this.serializer),i.addTarget=(function(c,f){let m;const p=f.target;if(m=Kd(p)?{documents:Z2(c,p)}:{query:J2(c,p).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=F0(c,f.resumeToken);const y=Zd(c,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(Rt.min())>0){m.readTime=Lc(c,f.snapshotVersion.toTimestamp());const y=Zd(c,f.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,t);const s=tC(this.serializer,t);s&&(i.labels=s),this.q_(i)}Z_(t){const i={};i.database=tm(this.serializer),i.removeTarget=t,this.q_(i)}}class HC extends nT{constructor(t,i,s,l,c,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,l,f),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Ht(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ht(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ht(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=X2(t.writeResults,t.commitTime),s=fi(t.commitTime);return this.listener.na(s,i)}ra(){const t={};t.database=tm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((s=>$2(this.serializer,s)))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{}class GC extends FC{constructor(t,i,s,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=s,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ft(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,f])=>this.connection.Go(t,Jd(i,s),l,c,f))).catch((c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ft(J.UNKNOWN,c.toString())}))}Ho(t,i,s,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Ho(t,Jd(i,s),l,f,m,c))).catch((f=>{throw f.name==="FirebaseError"?(f.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ft(J.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class QC{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Zi(i),this.aa=!1):dt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa="RemoteStore";class YC{constructor(t,i,s,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{Ua(this)&&(dt(xa,"Restarting streams for network reachability change."),await(async function(p){const y=wt(p);y.Ea.add(4),await Ul(y),y.Ra.set("Unknown"),y.Ea.delete(4),await sh(y)})(this))}))})),this.Ra=new QC(s,l)}}async function sh(r){if(Ua(r))for(const t of r.da)await t(!0)}async function Ul(r){for(const t of r.da)await t(!1)}function iT(r,t){const i=wt(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),jm(i)?Bm(i):$s(i).O_()&&zm(i,t))}function km(r,t){const i=wt(r),s=$s(i);i.Ia.delete(t),s.O_()&&rT(i,t),i.Ia.size===0&&(s.O_()?s.L_():Ua(i)&&i.Ra.set("Unknown"))}function zm(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Rt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}$s(r).Y_(t)}function rT(r,t){r.Va.Ue(t),$s(r).Z_(t)}function Bm(r){r.Va=new j2({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),$s(r).start(),r.Ra.ua()}function jm(r){return Ua(r)&&!$s(r).x_()&&r.Ia.size>0}function Ua(r){return wt(r).Ea.size===0}function aT(r){r.Va=void 0}async function KC(r){r.Ra.set("Online")}async function $C(r){r.Ia.forEach(((t,i)=>{zm(r,t)}))}async function XC(r,t){aT(r),jm(r)?(r.Ra.ha(t),Bm(r)):r.Ra.set("Unknown")}async function ZC(r,t,i){if(r.Ra.set("Online"),t instanceof H0&&t.state===2&&t.cause)try{await(async function(l,c){const f=c.cause;for(const m of c.targetIds)l.Ia.has(m)&&(await l.remoteSyncer.rejectListen(m,f),l.Ia.delete(m),l.Va.removeTarget(m))})(r,t)}catch(s){dt(xa,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await zc(r,s)}else if(t instanceof Sc?r.Va.Ze(t):t instanceof q0?r.Va.st(t):r.Va.tt(t),!i.isEqual(Rt.min()))try{const s=await tT(r.localStore);i.compareTo(s)>=0&&await(function(c,f){const m=c.Va.Tt(f);return m.targetChanges.forEach(((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const E=c.Ia.get(y);E&&c.Ia.set(y,E.withResumeToken(p.resumeToken,f))}})),m.targetMismatches.forEach(((p,y)=>{const E=c.Ia.get(p);if(!E)return;c.Ia.set(p,E.withResumeToken(He.EMPTY_BYTE_STRING,E.snapshotVersion)),rT(c,p);const S=new Dr(E.target,p,y,E.sequenceNumber);zm(c,S)})),c.remoteSyncer.applyRemoteEvent(m)})(r,i)}catch(s){dt(xa,"Failed to raise snapshot:",s),await zc(r,s)}}async function zc(r,t,i){if(!Ks(t))throw t;r.Ea.add(1),await Ul(r),r.Ra.set("Offline"),i||(i=()=>tT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{dt(xa,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await sh(r)}))}function sT(r,t){return t().catch((i=>zc(r,i,t)))}async function oh(r){const t=wt(r),i=Br(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Rm;for(;JC(t);)try{const l=await OC(t.localStore,s);if(l===null){t.Ta.length===0&&i.L_();break}s=l.batchId,WC(t,l)}catch(l){await zc(t,l)}oT(t)&&lT(t)}function JC(r){return Ua(r)&&r.Ta.length<10}function WC(r,t){r.Ta.push(t);const i=Br(r);i.O_()&&i.X_&&i.ea(t.mutations)}function oT(r){return Ua(r)&&!Br(r).x_()&&r.Ta.length>0}function lT(r){Br(r).start()}async function tI(r){Br(r).ra()}async function eI(r){const t=Br(r);for(const i of r.Ta)t.ea(i.mutations)}async function nI(r,t,i){const s=r.Ta.shift(),l=Vm.from(s,t,i);await sT(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await oh(r)}async function iI(r,t){t&&Br(r).X_&&await(async function(s,l){if((function(f){return k2(f)&&f!==J.ABORTED})(l.code)){const c=s.Ta.shift();Br(s).B_(),await sT(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,l))),await oh(s)}})(r,t),oT(r)&&lT(r)}async function Vv(r,t){const i=wt(r);i.asyncQueue.verifyOperationInProgress(),dt(xa,"RemoteStore received new credentials");const s=Ua(i);i.Ea.add(3),await Ul(i),s&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await sh(i)}async function rI(r,t){const i=wt(r);t?(i.Ea.delete(2),await sh(i)):t||(i.Ea.add(2),await Ul(i),i.Ra.set("Unknown"))}function $s(r){return r.ma||(r.ma=(function(i,s,l){const c=wt(i);return c.sa(),new qC(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:KC.bind(null,r),t_:$C.bind(null,r),r_:XC.bind(null,r),H_:ZC.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),jm(r)?Bm(r):r.Ra.set("Unknown")):(await r.ma.stop(),aT(r))}))),r.ma}function Br(r){return r.fa||(r.fa=(function(i,s,l){const c=wt(i);return c.sa(),new HC(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:tI.bind(null,r),r_:iI.bind(null,r),ta:eI.bind(null,r),na:nI.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await oh(r)):(await r.fa.stop(),r.Ta.length>0&&(dt(xa,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(t,i,s,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=s,this.op=l,this.removalCallback=c,this.deferred=new Mr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,s,l,c){const f=Date.now()+s,m=new qm(t,i,f,l,c);return m.start(s),m}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ft(J.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hm(r,t){if(Zi("AsyncQueue",`${t}: ${r}`),Ks(r))return new ft(J.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{static emptySet(t){return new Os(t.comparator)}constructor(t){this.comparator=t?(i,s)=>t(i,s)||vt.comparator(i.key,s.key):(i,s)=>vt.comparator(i.key,s.key),this.keyedMap=hl(),this.sortedSet=new le(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,s)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Os)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const s=new Os;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{constructor(){this.ga=new le(vt.comparator)}track(t){const i=t.doc.key,s=this.ga.get(i);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(i,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(i):t.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):St(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,s)=>{t.push(s)})),t}}class qs{constructor(t,i,s,l,c,f,m,p,y){this.query=t,this.docs=i,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(t,i,s,l,c){const f=[];return i.forEach((m=>{f.push({type:0,doc:m})})),new qs(t,i,Os.emptySet(i),f,s,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&th(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,s=t.docChanges;if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==s[l].type||!i[l].doc.isEqual(s[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class sI{constructor(){this.queries=Ov(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const l=wt(i),c=l.queries;l.queries=Ov(),c.forEach(((f,m)=>{for(const p of m.Sa)p.onError(s)}))})(this,new ft(J.ABORTED,"Firestore shutting down"))}}function Ov(){return new Pa((r=>I0(r)),th)}async function oI(r,t){const i=wt(r);let s=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(s=2):(c=new aI,s=t.Da()?0:1);try{switch(s){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(f){const m=Hm(f,`Initialization of query '${Ns(t.query)}' failed`);return void t.onError(m)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&Fm(i)}async function lI(r,t){const i=wt(r),s=t.query;let l=3;const c=i.queries.get(s);if(c){const f=c.Sa.indexOf(t);f>=0&&(c.Sa.splice(f,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function uI(r,t){const i=wt(r);let s=!1;for(const l of t){const c=l.query,f=i.queries.get(c);if(f){for(const m of f.Sa)m.Fa(l)&&(s=!0);f.wa=l}}s&&Fm(i)}function cI(r,t,i){const s=wt(r),l=s.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);s.queries.delete(t)}function Fm(r){r.Ca.forEach((t=>{t.next()}))}var im,Mv;(Mv=im||(im={})).Ma="default",Mv.Cache="cache";class hI{constructor(t,i,s){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const l of t.docChanges)l.type!==3&&s.push(l);t=new qs(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=qs.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==im.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(t){this.key=t}}class cT{constructor(t){this.key=t}}class fI{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ot(),this.mutatedKeys=Ot(),this.eu=D0(t),this.tu=new Os(this.eu)}get nu(){return this.Ya}ru(t,i){const s=i?i.iu:new xv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,f=l,m=!1;const p=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((E,S)=>{const R=l.get(E),U=eh(this.query,S)?S:null,H=!!R&&this.mutatedKeys.has(R.key),X=!!U&&(U.hasLocalMutations||this.mutatedKeys.has(U.key)&&U.hasCommittedMutations);let B=!1;R&&U?R.data.isEqual(U.data)?H!==X&&(s.track({type:3,doc:U}),B=!0):this.su(R,U)||(s.track({type:2,doc:U}),B=!0,(p&&this.eu(U,p)>0||y&&this.eu(U,y)<0)&&(m=!0)):!R&&U?(s.track({type:0,doc:U}),B=!0):R&&!U&&(s.track({type:1,doc:R}),B=!0,(p||y)&&(m=!0)),B&&(U?(f=f.add(U),c=X?c.add(E):c.delete(E)):(f=f.delete(E),c=c.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),c=c.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Cs:m,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,s,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const f=t.iu.ya();f.sort(((E,S)=>(function(U,H){const X=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return St(20277,{Rt:B})}};return X(U)-X(H)})(E.type,S.type)||this.eu(E.doc,S.doc))),this.ou(s),l=l??!1;const m=i&&!l?this._u():[],p=this.Xa.size===0&&this.current&&!l?1:0,y=p!==this.Za;return this.Za=p,f.length!==0||y?{snapshot:new qs(this.query,t.tu,c,f,t.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new xv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Ot(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const i=[];return t.forEach((s=>{this.Xa.has(s)||i.push(new cT(s))})),this.Xa.forEach((s=>{t.has(s)||i.push(new uT(s))})),i}cu(t){this.Ya=t.Qs,this.Xa=Ot();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return qs.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Gm="SyncEngine";class dI{constructor(t,i,s){this.query=t,this.targetId=i,this.view=s}}class mI{constructor(t){this.key=t,this.hu=!1}}class gI{constructor(t,i,s,l,c,f){this.localStore=t,this.remoteStore=i,this.eventManager=s,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Pa((m=>I0(m)),th),this.Iu=new Map,this.Eu=new Set,this.du=new le(vt.comparator),this.Au=new Map,this.Ru=new Mm,this.Vu={},this.mu=new Map,this.fu=js.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function pI(r,t,i=!0){const s=pT(r);let l;const c=s.Tu.get(t);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await hT(s,t,i,!0),l}async function yI(r,t){const i=pT(r);await hT(i,t,!0,!1)}async function hT(r,t,i,s){const l=await MC(r.localStore,ci(t)),c=l.targetId,f=r.sharedClientState.addLocalQueryTarget(c,i);let m;return s&&(m=await _I(r,t,c,f==="current",l.resumeToken)),r.isPrimaryClient&&i&&iT(r.remoteStore,l),m}async function _I(r,t,i,s,l){r.pu=(S,R,U)=>(async function(X,B,nt,et){let st=B.view.ru(nt);st.Cs&&(st=await wv(X.localStore,B.query,!1).then((({documents:N})=>B.view.ru(N,st))));const pt=et&&et.targetChanges.get(B.targetId),ut=et&&et.targetMismatches.get(B.targetId)!=null,ht=B.view.applyChanges(st,X.isPrimaryClient,pt,ut);return Uv(X,B.targetId,ht.au),ht.snapshot})(r,S,R,U);const c=await wv(r.localStore,t,!0),f=new fI(t,c.Qs),m=f.ru(c.documents),p=Pl.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",l),y=f.applyChanges(m,r.isPrimaryClient,p);Uv(r,i,y.au);const E=new dI(t,i,f);return r.Tu.set(t,E),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),y.snapshot}async function vI(r,t,i){const s=wt(r),l=s.Tu.get(t),c=s.Iu.get(l.targetId);if(c.length>1)return s.Iu.set(l.targetId,c.filter((f=>!th(f,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await em(s.localStore,l.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(l.targetId),i&&km(s.remoteStore,l.targetId),rm(s,l.targetId)})).catch(Ys)):(rm(s,l.targetId),await em(s.localStore,l.targetId,!0))}async function EI(r,t){const i=wt(r),s=i.Tu.get(t),l=i.Iu.get(s.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),km(i.remoteStore,s.targetId))}async function TI(r,t,i){const s=II(r);try{const l=await(function(f,m){const p=wt(f),y=Jt.now(),E=m.reduce(((U,H)=>U.add(H.key)),Ot());let S,R;return p.persistence.runTransaction("Locally write mutations","readwrite",(U=>{let H=Ji(),X=Ot();return p.Ns.getEntries(U,E).next((B=>{H=B,H.forEach(((nt,et)=>{et.isValidDocument()||(X=X.add(nt))}))})).next((()=>p.localDocuments.getOverlayedDocuments(U,H))).next((B=>{S=B;const nt=[];for(const et of m){const st=O2(et,S.get(et.key).overlayedDocument);st!=null&&nt.push(new Hr(et.key,st,v0(st.value.mapValue),hi.exists(!0)))}return p.mutationQueue.addMutationBatch(U,y,nt,m)})).next((B=>{R=B;const nt=B.applyToLocalDocumentSet(S,X);return p.documentOverlayCache.saveOverlays(U,B.batchId,nt)}))})).then((()=>({batchId:R.batchId,changes:V0(S)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(l.batchId),(function(f,m,p){let y=f.Vu[f.currentUser.toKey()];y||(y=new le(xt)),y=y.insert(m,p),f.Vu[f.currentUser.toKey()]=y})(s,l.batchId,i),await Ll(s,l.changes),await oh(s.remoteStore)}catch(l){const c=Hm(l,"Failed to persist write");i.reject(c)}}async function fT(r,t){const i=wt(r);try{const s=await VC(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const f=i.Au.get(c);f&&(Ht(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?f.hu=!0:l.modifiedDocuments.size>0?Ht(f.hu,14607):l.removedDocuments.size>0&&(Ht(f.hu,42227),f.hu=!1))})),await Ll(i,s,t)}catch(s){await Ys(s)}}function Pv(r,t,i){const s=wt(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const l=[];s.Tu.forEach(((c,f)=>{const m=f.view.va(t);m.snapshot&&l.push(m.snapshot)})),(function(f,m){const p=wt(f);p.onlineState=m;let y=!1;p.queries.forEach(((E,S)=>{for(const R of S.Sa)R.va(m)&&(y=!0)})),y&&Fm(p)})(s.eventManager,t),l.length&&s.Pu.H_(l),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function AI(r,t,i){const s=wt(r);s.sharedClientState.updateQueryState(t,"rejected",i);const l=s.Au.get(t),c=l&&l.key;if(c){let f=new le(vt.comparator);f=f.insert(c,$e.newNoDocument(c,Rt.min()));const m=Ot().add(c),p=new rh(Rt.min(),new Map,new le(xt),f,m);await fT(s,p),s.du=s.du.remove(c),s.Au.delete(t),Qm(s)}else await em(s.localStore,t,!1).then((()=>rm(s,t,i))).catch(Ys)}async function SI(r,t){const i=wt(r),s=t.batch.batchId;try{const l=await NC(i.localStore,t);mT(i,s,null),dT(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await Ll(i,l)}catch(l){await Ys(l)}}async function bI(r,t,i){const s=wt(r);try{const l=await(function(f,m){const p=wt(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return p.mutationQueue.lookupMutationBatch(y,m).next((S=>(Ht(S!==null,37113),E=S.keys(),p.mutationQueue.removeMutationBatch(y,S)))).next((()=>p.mutationQueue.performConsistencyCheck(y))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(y,E,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>p.localDocuments.getDocuments(y,E)))}))})(s.localStore,t);mT(s,t,i),dT(s,t),s.sharedClientState.updateMutationState(t,"rejected",i),await Ll(s,l)}catch(l){await Ys(l)}}function dT(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function mT(r,t,i){const s=wt(r);let l=s.Vu[s.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),s.Vu[s.currentUser.toKey()]=l}}function rm(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Iu.get(t))r.Tu.delete(s),i&&r.Pu.yu(s,i);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((s=>{r.Ru.containsKey(s)||gT(r,s)}))}function gT(r,t){r.Eu.delete(t.path.canonicalString());const i=r.du.get(t);i!==null&&(km(r.remoteStore,i),r.du=r.du.remove(t),r.Au.delete(i),Qm(r))}function Uv(r,t,i){for(const s of i)s instanceof uT?(r.Ru.addReference(s.key,t),RI(r,s)):s instanceof cT?(dt(Gm,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,t),r.Ru.containsKey(s.key)||gT(r,s.key)):St(19791,{wu:s})}function RI(r,t){const i=t.key,s=i.path.canonicalString();r.du.get(i)||r.Eu.has(s)||(dt(Gm,"New document in limbo: "+i),r.Eu.add(s),Qm(r))}function Qm(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new vt(ne.fromString(t)),s=r.fu.next();r.Au.set(s,new mI(i)),r.du=r.du.insert(i,s),iT(r.remoteStore,new Dr(ci(w0(i.path)),s,"TargetPurposeLimboResolution",Zc.ce))}}async function Ll(r,t,i){const s=wt(r),l=[],c=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{f.push(s.pu(p,t,i).then((y=>{if((y||i)&&s.isPrimaryClient){const E=y?!y.fromCache:i?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(y){l.push(y);const E=Um.As(p.targetId,y);c.push(E)}})))})),await Promise.all(f),s.Pu.H_(l),await(async function(p,y){const E=wt(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>tt.forEach(y,(R=>tt.forEach(R.Es,(U=>E.persistence.referenceDelegate.addReference(S,R.targetId,U))).next((()=>tt.forEach(R.ds,(U=>E.persistence.referenceDelegate.removeReference(S,R.targetId,U)))))))))}catch(S){if(!Ks(S))throw S;dt(Lm,"Failed to update sequence numbers: "+S)}for(const S of y){const R=S.targetId;if(!S.fromCache){const U=E.Ms.get(R),H=U.snapshotVersion,X=U.withLastLimboFreeSnapshotVersion(H);E.Ms=E.Ms.insert(R,X)}}})(s.localStore,c))}async function wI(r,t){const i=wt(r);if(!i.currentUser.isEqual(t)){dt(Gm,"User change. New user:",t.toKey());const s=await W0(i.localStore,t);i.currentUser=t,(function(c,f){c.mu.forEach((m=>{m.forEach((p=>{p.reject(new ft(J.CANCELLED,f))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Ll(i,s.Ls)}}function CI(r,t){const i=wt(r),s=i.Au.get(t);if(s&&s.hu)return Ot().add(s.key);{let l=Ot();const c=i.Iu.get(t);if(!c)return l;for(const f of c){const m=i.Tu.get(f);l=l.unionWith(m.view.nu)}return l}}function pT(r){const t=wt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=fT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=CI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=AI.bind(null,t),t.Pu.H_=uI.bind(null,t.eventManager),t.Pu.yu=cI.bind(null,t.eventManager),t}function II(r){const t=wt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=SI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=bI.bind(null,t),t}class Bc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=ah(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return DC(this.persistence,new wC,t.initialUser,this.serializer)}Cu(t){return new J0(Pm.mi,this.serializer)}Du(t){return new UC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Bc.provider={build:()=>new Bc};class DI extends Bc{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Ht(this.persistence.referenceDelegate instanceof kc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new hC(s,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?sn.withCacheSize(this.cacheSizeBytes):sn.DEFAULT;return new J0((s=>kc.mi(s,i)),this.serializer)}}class am{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Pv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=wI.bind(null,this.syncEngine),await rI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new sI})()}createDatastore(t){const i=ah(t.databaseInfo.databaseId),s=(function(c){return new jC(c)})(t.databaseInfo);return(function(c,f,m,p){return new GC(c,f,m,p)})(t.authCredentials,t.appCheckCredentials,s,i)}createRemoteStore(t){return(function(s,l,c,f,m){return new YC(s,l,c,f,m)})(this.localStore,this.datastore,t.asyncQueue,(i=>Pv(this.syncEngine,i,0)),(function(){return Dv.v()?new Dv:new LC})())}createSyncEngine(t,i){return(function(l,c,f,m,p,y,E){const S=new gI(l,c,f,m,p,y);return E&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const s=wt(i);dt(xa,"RemoteStore shutting down."),s.Ea.add(5),await Ul(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}am.provider={build:()=>new am};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Zi("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jr="FirestoreClient";class VI{constructor(t,i,s,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=l,this.user=Ke.UNAUTHENTICATED,this.clientId=bm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async f=>{dt(jr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(dt(jr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Mr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const s=Hm(i,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function Od(r,t){r.asyncQueue.verifyOperationInProgress(),dt(jr,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let s=i.initialUser;r.setCredentialChangeListener((async l=>{s.isEqual(l)||(await W0(t.localStore,l),s=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function Lv(r,t){r.asyncQueue.verifyOperationInProgress();const i=await xI(r);dt(jr,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((s=>Vv(t.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,l)=>Vv(t.remoteStore,l))),r._onlineComponents=t}async function xI(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){dt(jr,"Using user provided OfflineComponentProvider");try{await Od(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===J.FAILED_PRECONDITION||l.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Us("Error using user provided cache. Falling back to memory cache: "+i),await Od(r,new Bc)}}else dt(jr,"Using default OfflineComponentProvider"),await Od(r,new DI(void 0));return r._offlineComponents}async function yT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(dt(jr,"Using user provided OnlineComponentProvider"),await Lv(r,r._uninitializedComponentsProvider._online)):(dt(jr,"Using default OnlineComponentProvider"),await Lv(r,new am))),r._onlineComponents}function OI(r){return yT(r).then((t=>t.syncEngine))}async function MI(r){const t=await yT(r),i=t.eventManager;return i.onListen=pI.bind(null,t.syncEngine),i.onUnlisten=vI.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=yI.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=EI.bind(null,t.syncEngine),i}function PI(r,t,i={}){const s=new Mr;return r.asyncQueue.enqueueAndForget((async()=>(function(c,f,m,p,y){const E=new NI({next:R=>{E.Nu(),f.enqueueAndForget((()=>lI(c,S))),R.fromCache&&p.source==="server"?y.reject(new ft(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(R)},error:R=>y.reject(R)}),S=new hI(m,E,{includeMetadataChanges:!0,qa:!0});return oI(c,S)})(await MI(r),r.asyncQueue,t,i,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _T(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT="firestore.googleapis.com",zv=!0;class Bv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ft(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=vT,this.ssl=zv}else this.host=t.host,this.ssl=t.ssl??zv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=Z0;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<uC)throw new ft(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Yw("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_T(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ft(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ft(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ft(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,l){return s.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class lh{constructor(t,i,s,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Bv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ft(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ft(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Bv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new Lw;switch(s.type){case"firstParty":return new jw(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ft(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=kv.get(i);s&&(dt("ComponentProvider","Removing Datastore"),kv.delete(i),s.terminate())})(this),Promise.resolve()}}function UI(r,t,i,s={}){r=ks(r,lh);const l=Qc(t),c=r._getSettings(),f={...c,emulatorOptions:r._getEmulatorOptions()},m=`${t}:${i}`;l&&(vE(`https://${m}`),TE("Firestore",!0)),c.host!==vT&&c.host!==m&&Us("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...c,host:m,ssl:l,emulatorOptions:s};if(!El(p,f)&&(r._setSettings(p),s.mockUserToken)){let y,E;if(typeof s.mockUserToken=="string")y=s.mockUserToken,E=Ke.MOCK_USER;else{y=EE(s.mockUserToken,r._app?.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new ft(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Ke(S)}r._authCredentials=new kw(new o0(y,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(t,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Xs(this.firestore,t,this._query)}}class Ie{constructor(t,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Pr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ie(this.firestore,t,this._key)}toJSON(){return{type:Ie._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,s){if(xl(i,Ie._jsonSchema))return new Ie(t,s||null,new vt(ne.fromString(i.referencePath)))}}Ie._jsonSchemaVersion="firestore/documentReference/1.0",Ie._jsonSchema={type:Ae("string",Ie._jsonSchemaVersion),referencePath:Ae("string")};class Pr extends Xs{constructor(t,i,s){super(t,i,w0(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ie(this.firestore,null,new vt(t))}withConverter(t){return new Pr(this.firestore,t,this._path)}}function Gi(r,t,...i){if(r=Un(r),l0("collection","path",t),r instanceof lh){const s=ne.fromString(t,...i);return W_(s),new Pr(r,null,s)}{if(!(r instanceof Ie||r instanceof Pr))throw new ft(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ne.fromString(t,...i));return W_(s),new Pr(r.firestore,null,s)}}function LI(r,t,...i){if(r=Un(r),arguments.length===1&&(t=bm.newId()),l0("doc","path",t),r instanceof lh){const s=ne.fromString(t,...i);return J_(s),new Ie(r,null,new vt(s))}{if(!(r instanceof Ie||r instanceof Pr))throw new ft(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ne.fromString(t,...i));return J_(s),new Ie(r.firestore,r instanceof Pr?r.converter:null,new vt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv="AsyncQueue";class qv{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new eT(this,"async_queue_retry"),this._c=()=>{const s=xd();s&&dt(jv,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const i=xd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=xd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Mr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Ks(t))throw t;dt(jv,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,Zi("INTERNAL UNHANDLED ERROR: ",Hv(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=i,i}enqueueAfterDelay(t,i,s){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=qm.createAndSchedule(this,t,i,s,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&St(47125,{Pc:Hv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function Hv(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class uh extends lh{constructor(t,i,s,l){super(t,i,s,l),this.type="firestore",this._queue=new qv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new qv(t),this._firestoreClient=void 0,await t}}}function kI(r,t){const i=typeof r=="object"?r:ym(),s=typeof r=="string"?r:Vc,l=Gs(i,"firestore").getImmediate({identifier:s});if(!l._initialized){const c=yE("firestore");c&&UI(l,...c)}return l}function ET(r){if(r._terminated)throw new ft(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||zI(r),r._firestoreClient}function zI(r){const t=r._freezeSettings(),i=(function(l,c,f,m){return new r2(l,c,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,_T(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new VI(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Mn(He.fromBase64String(t))}catch(i){throw new ft(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Mn(He.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Mn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(xl(t,Mn._jsonSchema))return Mn.fromBase64String(t.bytes)}}Mn._jsonSchemaVersion="firestore/bytes/1.0",Mn._jsonSchema={type:Ae("string",Mn._jsonSchemaVersion),bytes:Ae("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ft(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ft(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ft(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return xt(this._lat,t._lat)||xt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:di._jsonSchemaVersion}}static fromJSON(t){if(xl(t,di._jsonSchema))return new di(t.latitude,t.longitude)}}di._jsonSchemaVersion="firestore/geoPoint/1.0",di._jsonSchema={type:Ae("string",di._jsonSchemaVersion),latitude:Ae("number"),longitude:Ae("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,l){if(s.length!==l.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:mi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(xl(t,mi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new mi(t.vectorValues);throw new ft(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}mi._jsonSchemaVersion="firestore/vectorValue/1.0",mi._jsonSchema={type:Ae("string",mi._jsonSchemaVersion),vectorValues:Ae("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI=/^__.*__$/;class jI{constructor(t,i,s){this.data=t,this.fieldMask=i,this.fieldTransforms=s}toMutation(t,i){return this.fieldMask!==null?new Hr(t,this.data,this.fieldMask,i,this.fieldTransforms):new Ml(t,this.data,i,this.fieldTransforms)}}class TT{constructor(t,i,s){this.data=t,this.fieldMask=i,this.fieldTransforms=s}toMutation(t,i){return new Hr(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function AT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw St(40011,{Ac:r})}}class Km{constructor(t,i,s,l,c,f){this.settings=t,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Km({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),s=this.Vc({path:i,fc:!1});return s.gc(t),s}yc(t){const i=this.path?.child(t),s=this.Vc({path:i,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return jc(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(AT(this.Ac)&&BI.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class qI{constructor(t,i,s){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=s||ah(t)}Cc(t,i,s,l=!1){return new Km({Ac:t,methodName:i,Dc:s,path:qe.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $m(r){const t=r._freezeSettings(),i=ah(r._databaseId);return new qI(r._databaseId,!!t.ignoreUndefinedProperties,i)}function HI(r,t,i,s,l,c={}){const f=r.Cc(c.merge||c.mergeFields?2:0,t,i,l);Xm("Data must be an object, but it was:",f,s);const m=ST(s,f);let p,y;if(c.merge)p=new vn(f.fieldMask),y=f.fieldTransforms;else if(c.mergeFields){const E=[];for(const S of c.mergeFields){const R=sm(t,S,i);if(!f.contains(R))throw new ft(J.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);RT(E,R)||E.push(R)}p=new vn(E),y=f.fieldTransforms.filter((S=>p.covers(S.field)))}else p=null,y=f.fieldTransforms;return new jI(new on(m),p,y)}class hh extends Ym{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof hh}}function FI(r,t,i,s){const l=r.Cc(1,t,i);Xm("Data must be an object, but it was:",l,s);const c=[],f=on.empty();qr(s,((p,y)=>{const E=Zm(t,p,i);y=Un(y);const S=l.yc(E);if(y instanceof hh)c.push(E);else{const R=kl(y,S);R!=null&&(c.push(E),f.set(E,R))}}));const m=new vn(c);return new TT(f,m,l.fieldTransforms)}function GI(r,t,i,s,l,c){const f=r.Cc(1,t,i),m=[sm(t,s,i)],p=[l];if(c.length%2!=0)throw new ft(J.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<c.length;R+=2)m.push(sm(t,c[R])),p.push(c[R+1]);const y=[],E=on.empty();for(let R=m.length-1;R>=0;--R)if(!RT(y,m[R])){const U=m[R];let H=p[R];H=Un(H);const X=f.yc(U);if(H instanceof hh)y.push(U);else{const B=kl(H,X);B!=null&&(y.push(U),E.set(U,B))}}const S=new vn(y);return new TT(E,S,f.fieldTransforms)}function QI(r,t,i,s=!1){return kl(i,r.Cc(s?4:3,t))}function kl(r,t){if(bT(r=Un(r)))return Xm("Unsupported field value:",t,r),ST(r,t);if(r instanceof Ym)return(function(s,l){if(!AT(l.Ac))throw l.Sc(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(s,l){const c=[];let f=0;for(const m of s){let p=kl(m,l.wc(f));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),f++}return{arrayValue:{values:c}}})(r,t)}return(function(s,l){if((s=Un(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return C2(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=Jt.fromDate(s);return{timestampValue:Lc(l.serializer,c)}}if(s instanceof Jt){const c=new Jt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Lc(l.serializer,c)}}if(s instanceof di)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Mn)return{bytesValue:F0(l.serializer,s._byteString)};if(s instanceof Ie){const c=l.databaseId,f=s.firestore._databaseId;if(!f.isEqual(c))throw l.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Om(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof mi)return(function(f,m){return{mapValue:{fields:{[y0]:{stringValue:_0},[xc]:{arrayValue:{values:f.toArray().map((y=>{if(typeof y!="number")throw m.Sc("VectorValues must only contain numeric values.");return Nm(m.serializer,y)}))}}}}}})(s,l);throw l.Sc(`Unsupported field value: ${Xc(s)}`)})(r,t)}function ST(r,t){const i={};return h0(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):qr(r,((s,l)=>{const c=kl(l,t.mc(s));c!=null&&(i[s]=c)})),{mapValue:{fields:i}}}function bT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Jt||r instanceof di||r instanceof Mn||r instanceof Ie||r instanceof Ym||r instanceof mi)}function Xm(r,t,i){if(!bT(i)||!u0(i)){const s=Xc(i);throw s==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+s)}}function sm(r,t,i){if((t=Un(t))instanceof ch)return t._internalPath;if(typeof t=="string")return Zm(r,t);throw jc("Field path arguments must be of type string or ",r,!1,void 0,i)}const YI=new RegExp("[~\\*/\\[\\]]");function Zm(r,t,i){if(t.search(YI)>=0)throw jc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new ch(...t.split("."))._internalPath}catch{throw jc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function jc(r,t,i,s,l){const c=s&&!s.isEmpty(),f=l!==void 0;let m=`Function ${t}() called with invalid data`;i&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(c||f)&&(p+=" (found",c&&(p+=` in field ${s}`),f&&(p+=` in document ${l}`),p+=")"),new ft(J.INVALID_ARGUMENT,m+r+p)}function RT(r,t){return r.some((i=>i.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(t,i,s,l,c){this._firestore=t,this._userDataWriter=i,this._key=s,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ie(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new KI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(Jm("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class KI extends wT{data(){return super.data()}}function Jm(r,t){return typeof t=="string"?Zm(r,t):t instanceof ch?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $I(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ft(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Wm{}class XI extends Wm{}function Hs(r,t,...i){let s=[];t instanceof Wm&&s.push(t),s=s.concat(i),(function(c){const f=c.filter((p=>p instanceof tg)).length,m=c.filter((p=>p instanceof fh)).length;if(f>1||f>0&&m>0)throw new ft(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const l of s)r=l._apply(r);return r}class fh extends XI{constructor(t,i,s){super(),this._field=t,this._op=i,this._value=s,this.type="where"}static _create(t,i,s){return new fh(t,i,s)}_apply(t){const i=this._parse(t);return CT(t._query,i),new Xs(t.firestore,t.converter,$d(t._query,i))}_parse(t){const i=$m(t.firestore);return(function(c,f,m,p,y,E,S){let R;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ft(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){Gv(S,E);const H=[];for(const X of S)H.push(Fv(p,c,X));R={arrayValue:{values:H}}}else R=Fv(p,c,S)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||Gv(S,E),R=QI(m,f,S,E==="in"||E==="not-in");return Te.create(y,E,R)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}function Nr(r,t,i){const s=t,l=Jm("where",r);return fh._create(l,s,i)}class tg extends Wm{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new tg(t,i)}_parse(t){const i=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return i.length===1?i[0]:Qn.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(l,c){let f=l;const m=c.getFlattenedFilters();for(const p of m)CT(f,p),f=$d(f,p)})(t._query,i),new Xs(t.firestore,t.converter,$d(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Fv(r,t,i){if(typeof(i=Un(i))=="string"){if(i==="")throw new ft(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!C0(t)&&i.indexOf("/")!==-1)throw new ft(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=t.path.child(ne.fromString(i));if(!vt.isDocumentKey(s))throw new ft(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return ov(r,new vt(s))}if(i instanceof Ie)return ov(r,i._key);throw new ft(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Xc(i)}.`)}function Gv(r,t){if(!Array.isArray(r)||r.length===0)throw new ft(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function CT(r,t){const i=(function(l,c){for(const f of l)for(const m of f.getFlattenedFilters())if(c.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new ft(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ft(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}class ZI{convertValue(t,i="none"){switch(zr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ge(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(kr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw St(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const s={};return qr(t,((l,c)=>{s[l]=this.convertValue(c,i)})),s}convertVectorValue(t){const i=t.fields?.[xc].arrayValue?.values?.map((s=>ge(s.doubleValue)));return new mi(i)}convertGeoPoint(t){return new di(ge(t.latitude),ge(t.longitude))}convertArray(t,i){return(t.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const s=Wc(t);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(Sl(t));default:return null}}convertTimestamp(t){const i=Lr(t);return new Jt(i.seconds,i.nanos)}convertDocumentKey(t,i){const s=ne.fromString(t);Ht(X0(s),9688,{name:t});const l=new bl(s.get(1),s.get(3)),c=new vt(s.popFirst(5));return l.isEqual(i)||Zi(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JI(r,t,i){let s;return s=r?r.toFirestore(t):t,s}class gc{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ms extends wT{constructor(t,i,s,l,c,f){super(t,i,s,l,f),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new bc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const s=this._document.data.field(Jm("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ft(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Ms._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Ms._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ms._jsonSchema={type:Ae("string",Ms._jsonSchemaVersion),bundleSource:Ae("string","DocumentSnapshot"),bundleName:Ae("string"),bundle:Ae("string")};class bc extends Ms{data(t={}){return super.data(t)}}class Ps{constructor(t,i,s,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new gc(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((s=>{t.call(i,new bc(this._firestore,this._userDataWriter,s.key,s,new gc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ft(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let f=0;return l._snapshot.docChanges.map((m=>{const p=new bc(l._firestore,l._userDataWriter,m.doc.key,m.doc,new gc(l._snapshot.mutatedKeys.has(m.doc.key),l._snapshot.fromCache),l.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((m=>c||m.type!==3)).map((m=>{const p=new bc(l._firestore,l._userDataWriter,m.doc.key,m.doc,new gc(l._snapshot.mutatedKeys.has(m.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,E=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:WI(m.type),doc:p,oldIndex:y,newIndex:E}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ft(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Ps._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=bm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function WI(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return St(61501,{type:r})}}Ps._jsonSchemaVersion="firestore/querySnapshot/1.0",Ps._jsonSchema={type:Ae("string",Ps._jsonSchemaVersion),bundleSource:Ae("string","QuerySnapshot"),bundleName:Ae("string"),bundle:Ae("string")};class tD extends ZI{constructor(t){super(),this.firestore=t}convertBytes(t){return new Mn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Ie(this.firestore,null,i)}}function Il(r){r=ks(r,Xs);const t=ks(r.firestore,uh),i=ET(t),s=new tD(t);return $I(r._query),PI(i,r._query).then((l=>new Ps(t,s,r,l)))}function eD(r,t,i,...s){r=ks(r,Ie);const l=ks(r.firestore,uh),c=$m(l);let f;return f=typeof(t=Un(t))=="string"||t instanceof ch?GI(c,"updateDoc",r._key,t,i,s):FI(c,"updateDoc",r._key,t),IT(l,[f.toMutation(r._key,hi.exists(!0))])}function om(r,t){const i=ks(r.firestore,uh),s=LI(r),l=JI(r.converter,t);return IT(i,[HI($m(r.firestore),"addDoc",s._key,l,r.converter!==null,{}).toMutation(s._key,hi.exists(!1))]).then((()=>s))}function IT(r,t){return(function(s,l){const c=new Mr;return s.asyncQueue.enqueueAndForget((async()=>TI(await OI(s),l,c))),c.promise})(ET(r),t)}(function(t,i=!0){(function(l){Qs=l})(IE),Xi(new gi("firestore",((s,{instanceIdentifier:l,options:c})=>{const f=s.getProvider("app").getImmediate(),m=new uh(new zw(s.getProvider("auth-internal")),new qw(f,s.getProvider("app-check-internal")),(function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ft(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bl(y.options.projectId,E)})(f,l),f);return c={useFetchStreams:i,...c},m._setSettings(c),m}),"PUBLIC").setMultipleInstances(!0)),Pn(K_,$_,t),Pn(K_,$_,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT="firebasestorage.googleapis.com",nD="storageBucket",iD=120*1e3,rD=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi extends tr{constructor(t,i,s=0){super(Md(t),`Firebase Storage: ${i} (${Md(t)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,vi.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return Md(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var yi;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(yi||(yi={}));function Md(r){return"storage/"+r}function aD(){const r="An unknown error occurred, please check the error payload for server response.";return new vi(yi.UNKNOWN,r)}function sD(){return new vi(yi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function oD(){return new vi(yi.CANCELED,"User canceled the upload/download.")}function lD(r){return new vi(yi.INVALID_URL,"Invalid URL '"+r+"'.")}function uD(r){return new vi(yi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function Qv(r){return new vi(yi.INVALID_ARGUMENT,r)}function NT(){return new vi(yi.APP_DELETED,"The Firebase app was deleted.")}function cD(r){return new vi(yi.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(t,i){this.bucket=t,this.path_=i}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,i){let s;try{s=Fn.makeFromUrl(t,i)}catch{return new Fn(t,"")}if(s.path==="")return s;throw uD(t)}static makeFromUrl(t,i){let s=null;const l="([A-Za-z0-9.\\-_]+)";function c(pt){pt.path.charAt(pt.path.length-1)==="/"&&(pt.path_=pt.path_.slice(0,-1))}const f="(/(.*))?$",m=new RegExp("^gs://"+l+f,"i"),p={bucket:1,path:3};function y(pt){pt.path_=decodeURIComponent(pt.path)}const E="v[A-Za-z0-9_]+",S=i.replace(/[.]/g,"\\."),R="(/([^?#]*).*)?$",U=new RegExp(`^https?://${S}/${E}/b/${l}/o${R}`,"i"),H={bucket:1,path:3},X=i===DT?"(?:storage.googleapis.com|storage.cloud.google.com)":i,B="([^?#]*)",nt=new RegExp(`^https?://${X}/${l}/${B}`,"i"),st=[{regex:m,indices:p,postModify:c},{regex:U,indices:H,postModify:y},{regex:nt,indices:{bucket:1,path:2},postModify:y}];for(let pt=0;pt<st.length;pt++){const ut=st[pt],ht=ut.regex.exec(t);if(ht){const N=ht[ut.indices.bucket];let b=ht[ut.indices.path];b||(b=""),s=new Fn(N,b),ut.postModify(s);break}}if(s==null)throw lD(t);return s}}class hD{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fD(r,t,i){let s=1,l=null,c=null,f=!1,m=0;function p(){return m===2}let y=!1;function E(...B){y||(y=!0,t.apply(null,B))}function S(B){l=setTimeout(()=>{l=null,r(U,p())},B)}function R(){c&&clearTimeout(c)}function U(B,...nt){if(y){R();return}if(B){R(),E.call(null,B,...nt);return}if(p()||f){R(),E.call(null,B,...nt);return}s<64&&(s*=2);let st;m===1?(m=2,st=0):st=(s+Math.random())*1e3,S(st)}let H=!1;function X(B){H||(H=!0,R(),!y&&(l!==null?(B||(m=2),clearTimeout(l),S(0)):B||(m=1)))}return S(0),c=setTimeout(()=>{f=!0,X(!0)},i),X}function dD(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mD(r){return r!==void 0}function Yv(r,t,i,s){if(s<t)throw Qv(`Invalid value for '${r}'. Expected ${t} or greater.`);if(s>i)throw Qv(`Invalid value for '${r}'. Expected ${i} or less.`)}function gD(r){const t=encodeURIComponent;let i="?";for(const s in r)if(r.hasOwnProperty(s)){const l=t(s)+"="+t(r[s]);i=i+l+"&"}return i=i.slice(0,-1),i}var qc;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(qc||(qc={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pD(r,t){const i=r>=500&&r<600,l=[408,429].indexOf(r)!==-1,c=t.indexOf(r)!==-1;return i||l||c}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(t,i,s,l,c,f,m,p,y,E,S,R=!0,U=!1){this.url_=t,this.method_=i,this.headers_=s,this.body_=l,this.successCodes_=c,this.additionalRetryCodes_=f,this.callback_=m,this.errorCallback_=p,this.timeout_=y,this.progressCallback_=E,this.connectionFactory_=S,this.retry=R,this.isUsingEmulator=U,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((H,X)=>{this.resolve_=H,this.reject_=X,this.start_()})}start_(){const t=(s,l)=>{if(l){s(!1,new pc(!1,null,!0));return}const c=this.connectionFactory_();this.pendingConnection_=c;const f=m=>{const p=m.loaded,y=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,y)};this.progressCallback_!==null&&c.addUploadProgressListener(f),c.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&c.removeUploadProgressListener(f),this.pendingConnection_=null;const m=c.getErrorCode()===qc.NO_ERROR,p=c.getStatus();if(!m||pD(p,this.additionalRetryCodes_)&&this.retry){const E=c.getErrorCode()===qc.ABORT;s(!1,new pc(!1,null,E));return}const y=this.successCodes_.indexOf(p)!==-1;s(!0,new pc(y,c))})},i=(s,l)=>{const c=this.resolve_,f=this.reject_,m=l.connection;if(l.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());mD(p)?c(p):c()}catch(p){f(p)}else if(m!==null){const p=aD();p.serverResponse=m.getErrorText(),this.errorCallback_?f(this.errorCallback_(m,p)):f(p)}else if(l.canceled){const p=this.appDelete_?NT():oD();f(p)}else{const p=sD();f(p)}};this.canceled_?i(!1,new pc(!1,null,!0)):this.backoffId_=fD(t,i,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&dD(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class pc{constructor(t,i,s){this.wasSuccessCode=t,this.connection=i,this.canceled=!!s}}function _D(r,t){t!==null&&t.length>0&&(r.Authorization="Firebase "+t)}function vD(r,t){r["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function ED(r,t){t&&(r["X-Firebase-GMPID"]=t)}function TD(r,t){t!==null&&(r["X-Firebase-AppCheck"]=t)}function AD(r,t,i,s,l,c,f=!0,m=!1){const p=gD(r.urlParams),y=r.url+p,E=Object.assign({},r.headers);return ED(E,t),_D(E,i),vD(E,c),TD(E,s),new yD(y,r.method,E,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,l,f,m)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SD(r){if(r.length===0)return null;const t=r.lastIndexOf("/");return t===-1?"":r.slice(0,t)}function bD(r){const t=r.lastIndexOf("/",r.length-2);return t===-1?r:r.slice(t+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(t,i){this._service=t,i instanceof Fn?this._location=i:this._location=Fn.makeFromUrl(i,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,i){return new Hc(t,i)}get root(){const t=new Fn(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return bD(this._location.path)}get storage(){return this._service}get parent(){const t=SD(this._location.path);if(t===null)return null;const i=new Fn(this._location.bucket,t);return new Hc(this._service,i)}_throwIfRoot(t){if(this._location.path==="")throw cD(t)}}function Kv(r,t){const i=t?.[nD];return i==null?null:Fn.makeFromBucketSpec(i,r)}function RD(r,t,i,s={}){r.host=`${t}:${i}`;const l=Qc(t);l&&(vE(`https://${r.host}/b`),TE("Storage",!0)),r._isUsingEmulator=!0,r._protocol=l?"https":"http";const{mockUserToken:c}=s;c&&(r._overrideAuthToken=typeof c=="string"?c:EE(c,r.app.options.projectId))}class wD{constructor(t,i,s,l,c,f=!1){this.app=t,this._authProvider=i,this._appCheckProvider=s,this._url=l,this._firebaseVersion=c,this._isUsingEmulator=f,this._bucket=null,this._host=DT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=iD,this._maxUploadRetryTime=rD,this._requests=new Set,l!=null?this._bucket=Fn.makeFromBucketSpec(l,this._host):this._bucket=Kv(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Fn.makeFromBucketSpec(this._url,t):this._bucket=Kv(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){Yv("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){Yv("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const i=await t.getToken();if(i!==null)return i.accessToken}return null}async _getAppCheckToken(){if(CE(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Hc(this,t)}_makeRequest(t,i,s,l,c=!0){if(this._deleted)return new hD(NT());{const f=AD(t,this._appId,s,l,i,this._firebaseVersion,c,this._isUsingEmulator);return this._requests.add(f),f.getPromise().then(()=>this._requests.delete(f),()=>this._requests.delete(f)),f}}async makeRequestWithTokens(t,i){const[s,l]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,i,s,l).getPromise()}}const $v="@firebase/storage",Xv="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VT="storage";function CD(r=ym(),t){r=Un(r);const s=Gs(r,VT).getImmediate({identifier:t}),l=yE("storage");return l&&ID(s,...l),s}function ID(r,t,i,s={}){RD(r,t,i,s)}function DD(r,{instanceIdentifier:t}){const i=r.getProvider("app").getImmediate(),s=r.getProvider("auth-internal"),l=r.getProvider("app-check-internal");return new wD(i,s,l,t,IE)}function ND(){Xi(new gi(VT,DD,"PUBLIC").setMultipleInstances(!0)),Pn($v,Xv,""),Pn($v,Xv,"esm2020")}ND();const VD={apiKey:"AIzaSyBAFkBunYLiVhQJWRh-W5pL2VF2XLMEqR0",authDomain:"nex-gen-attendance.firebaseapp.com",projectId:"nex-gen-attendance",storageBucket:"nex-gen-attendance.firebasestorage.app",messagingSenderId:"752628023953",appId:"1:752628023953:web:0ae9e3de741a6e7b92f530",measurementId:"G-JFL8KEFV0B"},eg=DE(VD);Ow(eg);const Qi=kI(eg);CD(eg);const xD=["Head Office","Branch A","Branch B","Branch C","Branch D"];function OD(){const[r,t]=G.useState({name:"",email:"",phone:"",password:"",confirmPassword:"",branch:"",role:"",image:null,imageUrl:"",location:null}),[i,s]=G.useState(!1),[l,c]=G.useState(""),[f,m]=G.useState(!1),[p,y]=G.useState(""),[E,S]=G.useState(!1),[R,U]=G.useState(""),H=G.useRef(null),X=G.useRef(null);let B=G.useRef(null);const nt=ut=>{const ht={...r,[ut.target.name]:ut.target.value};t(ht),(ut.target.name==="password"||ut.target.name==="confirmPassword")&&(ht.password&&ht.confirmPassword&&ht.password!==ht.confirmPassword?U("Passwords do not match!"):U(""))},et=async()=>{c(""),s(!0);try{B.current=await navigator.mediaDevices.getUserMedia({video:!0}),H.current&&(H.current.srcObject=B.current,H.current.play())}catch{c("Unable to access camera. Please allow camera access."),s(!1)}},st=()=>{if(H.current&&X.current){const ut=X.current.getContext("2d");X.current.width=H.current.videoWidth,X.current.height=H.current.videoHeight,ut.drawImage(H.current,0,0),X.current.toBlob(ht=>{const N=URL.createObjectURL(ht);t(b=>({...b,image:ht,imageUrl:N}))},"image/jpeg"),B.current&&B.current.getTracks().forEach(ht=>ht.stop()),s(!1),navigator.geolocation&&navigator.geolocation.getCurrentPosition(ht=>{console.log("Registration - Raw GPS:",ht.coords.latitude,ht.coords.longitude),console.log("Registration - Accuracy:",ht.coords.accuracy,"meters");const N={lat:Math.round(ht.coords.latitude*1e6)/1e6,lng:Math.round(ht.coords.longitude*1e6)/1e6};console.log("Registration - Accuracy:",ht.coords.accuracy,"meters"),console.log("Registration - Rounded GPS:",N.lat,N.lng),t(b=>({...b,location:N}))},ht=>{console.error("Registration location error:",ht),t(N=>({...N,location:null}))},{enableHighAccuracy:!0,timeout:15e3,maximumAge:0})}},pt=async ut=>{if(ut.preventDefault(),m(!0),y(""),S(!1),r.password!==r.confirmPassword){y("Passwords do not match!"),m(!1);return}if(r.password.length<6){y("Password must be at least 6 characters long!"),m(!1);return}if(!r.location){y("Location not captured. Please capture your photo again to get location."),m(!1);return}try{const ht=Hs(Gi(Qi,"users"),Nr("email","==",r.email));if(!(await Il(ht)).empty){y("Email already registered! Please use a different email."),m(!1);return}const b=Hs(Gi(Qi,"users"),Nr("phone","==",r.phone));if(!(await Il(b)).empty){y("Phone number already registered! Please use a different phone number."),m(!1);return}let V="";if(r.image){const ie=new FileReader;ie.onload=()=>{V=ie.result},ie.readAsDataURL(r.image),await new Promise(te=>{ie.onloadend=te})}const O=`EMP${Date.now()}${Math.random().toString(36).substr(2,4).toUpperCase()}`;console.log("Generated empId:",O),console.log("Saving user data to Firestore...");const M=await om(Gi(Qi,"users"),{empId:O,name:r.name,email:r.email,phone:r.phone,password:r.password,branch:r.branch,role:r.role,imageUrl:V,location:r.location,registeredAt:Jt.now()});console.log("User saved with ID:",M.id),console.log("Saving employee data to empdata collection...");const I=await om(Gi(Qi,"empdata"),{empId:O,userId:M.id,name:r.name,email:r.email,phone:r.phone,branch:r.branch,role:r.role,imageUrl:V,location:r.location,registeredAt:Jt.now(),totalCheckIns:0,totalCheckOuts:0,totalLateCheckIns:0,totalEarlyCheckOuts:0,attendanceRecords:[]});console.log("Employee data saved with ID:",I.id),S(!0),t({name:"",email:"",phone:"",password:"",confirmPassword:"",branch:"",role:"",image:null,imageUrl:"",location:null}),U("")}catch(ht){y("Registration failed. Please try again."),console.error("Registration error:",ht)}finally{m(!1)}};return Y.jsxs("div",{className:"landing-container",children:[Y.jsxs("div",{className:"landing-header",children:[Y.jsx("h1",{children:"Register"}),Y.jsx("p",{className:"landing-description",children:"Create your account to use the attendance system."})]}),Y.jsxs("form",{className:"auth-form",onSubmit:pt,children:[Y.jsx("input",{type:"text",name:"name",placeholder:"Full Name",value:r.name,onChange:nt,required:!0}),Y.jsx("input",{type:"email",name:"email",placeholder:"Email",value:r.email,onChange:nt,required:!0}),Y.jsx("input",{type:"tel",name:"phone",placeholder:"Phone Number",value:r.phone,onChange:nt,required:!0,pattern:"[0-9]{10,15}",title:"Please enter a valid phone number"}),Y.jsx("input",{type:"password",name:"password",placeholder:"Password",value:r.password,onChange:nt,required:!0,minLength:"6"}),Y.jsx("input",{type:"password",name:"confirmPassword",placeholder:"Confirm Password",value:r.confirmPassword,onChange:nt,required:!0,minLength:"6"}),R&&Y.jsx("div",{style:{color:"#ff6b6b",fontSize:"0.9em",marginTop:"4px",textAlign:"center"},children:R}),Y.jsxs("select",{name:"branch",value:r.branch,onChange:nt,required:!0,children:[Y.jsx("option",{value:"",disabled:!0,children:"Select Branch"}),xD.map(ut=>Y.jsx("option",{value:ut,children:ut},ut))]}),Y.jsxs("select",{name:"role",value:r.role,onChange:nt,required:!0,children:[Y.jsx("option",{value:"",disabled:!0,children:"Select Role"}),Y.jsx("option",{value:"manager",children:"Manager"}),Y.jsx("option",{value:"salesman",children:"Salesman"})]}),Y.jsx("label",{style:{color:"#e0e7ff",fontWeight:500,marginBottom:4},children:"Capture Your Photo (Real-time):"}),!r.imageUrl&&Y.jsx("button",{type:"button",className:"landing-btn",onClick:et,style:{marginBottom:"1rem"},children:"Open Camera"}),l&&Y.jsx("div",{style:{color:"#ff6b6b",marginBottom:8},children:l}),i&&Y.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",marginBottom:"1rem"},children:[Y.jsx("video",{ref:H,style:{width:220,height:220,borderRadius:"50%",objectFit:"cover",background:"#222"}}),Y.jsx("button",{type:"button",className:"landing-btn",onClick:st,style:{marginTop:"1rem"},children:"Capture Photo"}),Y.jsx("canvas",{ref:X,style:{display:"none"}})]}),r.imageUrl&&Y.jsx("img",{src:r.imageUrl,alt:"Preview",style:{width:120,height:120,borderRadius:"50%",objectFit:"cover",margin:"0 auto 1rem"}}),Y.jsx("button",{className:"landing-btn",type:"submit",disabled:f,children:f?"Registering...":"Register"}),p&&Y.jsx("div",{style:{color:"#ff6b6b",marginTop:8},children:p}),E&&Y.jsx("div",{style:{color:"#61dafb",marginTop:8},children:"Registration successful!"})]}),Y.jsx("button",{className:"landing-btn",onClick:()=>window.location.href="/next-gen-attendance/",style:{marginTop:"1rem"},children:"Back to Home"})]})}function MD(){const[r,t]=G.useState({emailOrPhone:"",password:""}),[i,s]=G.useState(!1),[l,c]=G.useState(""),f=p=>{t({...r,[p.target.name]:p.target.value}),c("")},m=async p=>{p.preventDefault(),s(!0),c("");try{const y=r.emailOrPhone.includes("@");let E;y?E=Hs(Gi(Qi,"users"),Nr("email","==",r.emailOrPhone)):E=Hs(Gi(Qi,"users"),Nr("phone","==",r.emailOrPhone));const S=await Il(E);if(S.empty){c("User not found!"),s(!1);return}const R=S.docs[0],U=R.data();if(U.password!==r.password){c("Invalid password!"),s(!1);return}localStorage.setItem("currentUser",JSON.stringify({id:R.id,...U})),window.location.href="/next-gen-attendance/dashboard"}catch(y){c("Login failed. Please try again."),console.error("Login error:",y)}finally{s(!1)}};return Y.jsxs("div",{className:"landing-container",children:[Y.jsxs("div",{className:"landing-header",children:[Y.jsx("h1",{children:"Login"}),Y.jsx("p",{className:"landing-description",children:"Sign in to your account to mark attendance."})]}),Y.jsxs("form",{className:"auth-form",onSubmit:m,children:[Y.jsx("input",{type:"text",name:"emailOrPhone",placeholder:"Email or Phone Number",value:r.emailOrPhone,onChange:f,required:!0}),Y.jsx("input",{type:"password",name:"password",placeholder:"Password",value:r.password,onChange:f,required:!0}),Y.jsx("button",{className:"landing-btn",type:"submit",disabled:i,children:i?"Logging in...":"Login"}),l&&Y.jsx("div",{style:{color:"#ff6b6b",marginTop:8,textAlign:"center"},children:l})]}),Y.jsx("button",{className:"landing-btn",onClick:()=>window.location.href="/next-gen-attendance/",style:{marginTop:"1rem"},children:"Back to Home"})]})}function PD(){const[r,t]=G.useState(null),[i,s]=G.useState(!0),[l,c]=G.useState(60),[f,m]=G.useState(!1),[p,y]=G.useState(""),[E,S]=G.useState(""),[R,U]=G.useState(null),[H,X]=G.useState(""),[B,nt]=G.useState(!1),[et,st]=G.useState(""),[pt,ut]=G.useState(""),ht=G.useRef(null),N=G.useRef(null),b=G.useRef(null),w=G.useRef(null);let V=G.useRef(null);G.useEffect(()=>{const mt=localStorage.getItem("currentUser");mt&&t(JSON.parse(mt)),s(!1),O()},[]);const O=async()=>{try{const D=await(await fetch("https://worldtimeapi.org/api/timezone/Asia/Karachi")).json();U(new Date(D.datetime))}catch(mt){console.error("Failed to fetch server time:",mt),U(new Date)}};G.useEffect(()=>{if(!r)return;const mt=()=>{ht.current&&clearTimeout(ht.current),N.current&&clearInterval(N.current),c(60),N.current=setInterval(()=>{c(rt=>rt<=1?(M(),0):rt-1)},1e3),ht.current=setTimeout(()=>{M()},6e4)},D=["mousedown","mousemove","keypress","scroll","touchstart","click"],F=()=>{mt()};return D.forEach(rt=>{document.addEventListener(rt,F,!0)}),mt(),()=>{D.forEach(rt=>{document.removeEventListener(rt,F,!0)}),ht.current&&clearTimeout(ht.current),N.current&&clearInterval(N.current)}},[r]);const M=()=>{localStorage.removeItem("currentUser"),window.location.href="/"},I=async mt=>{S(mt),y(""),m(!0);try{V.current=await navigator.mediaDevices.getUserMedia({video:!0}),b.current&&(b.current.srcObject=V.current,b.current.play())}catch{y("Unable to access camera. Please allow camera access."),m(!1)}},ie=async()=>{if(console.log("capturePhoto called"),console.log("videoRef.current:",b.current),console.log("canvasRef.current:",w.current),!b.current){at("Video not available. Please try again.","error");return}let mt=w.current;mt||(console.log("Canvas ref is null, creating temporary canvas"),mt=document.createElement("canvas"),mt.width=640,mt.height=480);try{const D=mt.getContext("2d");if(!D){at("Canvas context not available. Please try again.","error");return}mt.width=b.current.videoWidth||640,mt.height=b.current.videoHeight||480,D.drawImage(b.current,0,0),V.current&&V.current.getTracks().forEach(lt=>lt.stop()),m(!1);let F=null;if(navigator.geolocation)try{let lt=0;const At=3;for(;lt<At;){const ct=await new Promise((Yt,zt)=>{navigator.geolocation.getCurrentPosition(Yt,zt,{enableHighAccuracy:!0,timeout:15e3,maximumAge:0})});if(console.log(`Attempt ${lt+1} - Raw GPS:`,ct.coords.latitude,ct.coords.longitude),console.log(`Attempt ${lt+1} - Accuracy:`,ct.coords.accuracy,"meters"),ct.coords.accuracy<=50){F={lat:Math.round(ct.coords.latitude*1e6)/1e6,lng:Math.round(ct.coords.longitude*1e6)/1e6},console.log("Good accuracy achieved, using this location");break}else console.log(`Accuracy too poor (${ct.coords.accuracy}m), trying again...`),lt++,lt<At&&await new Promise(Yt=>setTimeout(Yt,2e3))}if(!F){at("Unable to get accurate location. Please try again.","error");return}console.log("Final coordinates:",F.lat,F.lng)}catch(lt){console.error("Location error:",lt),at("Location access denied. Cannot proceed.","error");return}if(r.location&&F){const lt=te(r.location.lat,r.location.lng,F.lat,F.lng);if(console.log("Registered location:",r.location),console.log("Current location:",F),console.log("Distance from registered location:",lt,"meters"),console.log(`Registered: ${r.location.lat}, ${r.location.lng}`),console.log(`Current: ${F.lat}, ${F.lng}`),lt>100){at(`Location mismatch. You are ${Math.round(lt)}m away from your registered location. Please be at your exact registered location.`,"error");return}}else console.log("Location verification skipped - missing data"),console.log("User location:",r.location),console.log("Current location:",F);const rt=mt.toDataURL("image/jpeg");console.log("Captured image length:",rt.length);const it=await K(rt,r.imageUrl);if(console.log("Face match result:",it),!it){at("Face verification failed. Please try again.","error");return}await yt(E,F)}catch(D){console.error("Error in capturePhoto:",D),at("Failed to capture photo. Please try again.","error")}},te=(mt,D,F,rt)=>{const lt=mt*Math.PI/180,At=F*Math.PI/180,ct=(F-mt)*Math.PI/180,Yt=(rt-D)*Math.PI/180,zt=Math.sin(ct/2)*Math.sin(ct/2)+Math.cos(lt)*Math.cos(At)*Math.sin(Yt/2)*Math.sin(Yt/2);return 6371e3*(2*Math.atan2(Math.sqrt(zt),Math.sqrt(1-zt)))},K=async(mt,D)=>{if(!mt||!D)return!1;try{const F=new Image,rt=new Image;return new Promise(it=>{F.onload=()=>{rt.onload=()=>{const lt=Math.abs(F.width-rt.width)<50&&Math.abs(F.height-rt.height)<50;it(lt)},rt.src=D},F.src=mt})}catch(F){return console.error("Face verification error:",F),!1}},at=(mt,D)=>{st(mt),ut(D),nt(!0),setTimeout(()=>{nt(!1)},5e3)},yt=async(mt,D)=>{if(!R){at("Server time not available. Please try again.","error");return}const F=R,rt=F.toISOString().split("T")[0];try{const ct=Hs(Gi(Qi,"attendance"),Nr("empId","==",r.empId),Nr("date","==",rt),Nr("type","==",mt));if(!(await Il(ct)).empty){at(mt==="checkin"?"You have already checked in today! Only one check-in per day is allowed.":"You have already checked out today! Only one check-out per day is allowed.","error");return}}catch(ct){console.error("Error checking today's attendance:",ct),at("Error checking attendance records. Please try again.","error");return}F.getHours(),F.getMinutes();let it="on_time",lt="",At="success";if(mt==="checkin"){const ct=new Date(F);ct.setHours(11,0,0,0),F>ct?(it="late",lt=`You are LATE! Check-in time was 11:00 AM. Current time: ${F.toLocaleTimeString("en-PK",{timeZone:"Asia/Karachi"})}`,At="warning"):(lt=`Check-in SUCCESSFUL! You are ON TIME. Current time: ${F.toLocaleTimeString("en-PK",{timeZone:"Asia/Karachi"})}`,At="success")}else if(mt==="checkout"){const ct=new Date(F);ct.setHours(22,0,0,0),F<ct?(it="early",lt=`You are leaving EARLY! Check-out time is 10:00 PM. Current time: ${F.toLocaleTimeString("en-PK",{timeZone:"Asia/Karachi"})}`,At="warning"):(lt=`Check-out SUCCESSFUL! You are ON TIME. Current time: ${F.toLocaleTimeString("en-PK",{timeZone:"Asia/Karachi"})}`,At="success")}try{const ct={type:mt,timestamp:Jt.now(),serverTime:F.toISOString(),status:it,location:D,date:F.toISOString().split("T")[0]};console.log("Saving attendance record:",ct),console.log("User empId:",r.empId);const Yt=await om(Gi(Qi,"attendance"),{empId:r.empId,userId:r.id,userEmail:r.email,userName:r.name,...ct,branch:r.branch,role:r.role});console.log("Attendance record saved with ID:",Yt.id);const zt=Hs(Gi(Qi,"empdata"),Nr("empId","==",r.empId)),en=await Il(zt);if(!en.empty){const Ln=en.docs[0],Xe=Ln.data(),un={attendanceRecords:[...Xe.attendanceRecords,ct]};mt==="checkin"?(un.totalCheckIns=(Xe.totalCheckIns||0)+1,it==="late"&&(un.totalLateCheckIns=(Xe.totalLateCheckIns||0)+1)):mt==="checkout"&&(un.totalCheckOuts=(Xe.totalCheckOuts||0)+1,it==="early"&&(un.totalEarlyCheckOuts=(Xe.totalEarlyCheckOuts||0)+1)),await eD(Ln.ref,un)}at(lt,At)}catch(ct){at("Failed to record attendance. Please try again.","error"),console.error("Attendance error:",ct)}};return i?Y.jsx("div",{className:"landing-container",children:Y.jsx("div",{className:"landing-header",children:Y.jsx("h1",{children:"Loading..."})})}):r?Y.jsxs("div",{className:"landing-container",children:[Y.jsxs("div",{className:"landing-header",children:[Y.jsxs("h1",{children:["Welcome, ",r.name,"!"]}),Y.jsx("p",{className:"landing-description",children:"Your attendance system dashboard"}),Y.jsxs("div",{style:{color:l<=10?"#ff6b6b":"#61dafb",fontSize:"0.9em",marginTop:"0.5rem",fontWeight:"500"},children:["Auto-logout in: ",l,"s"]})]}),Y.jsxs("div",{className:"auth-form",style:{maxWidth:"500px",margin:"0 auto"},children:[Y.jsxs("div",{style:{background:"rgba(255,255,255,0.1)",padding:"1.5rem",borderRadius:"12px",marginBottom:"1rem"},children:[Y.jsx("h3",{style:{color:"#61dafb",marginBottom:"1rem",textAlign:"center"},children:"Profile Details"}),Y.jsxs("div",{style:{marginBottom:"1rem"},children:[Y.jsx("strong",{style:{color:"#e0e7ff"},children:"Name:"}),Y.jsx("span",{style:{color:"#fff",marginLeft:"8px"},children:r.name})]}),Y.jsxs("div",{style:{marginBottom:"1rem"},children:[Y.jsx("strong",{style:{color:"#e0e7ff"},children:"Email:"}),Y.jsx("span",{style:{color:"#fff",marginLeft:"8px"},children:r.email})]}),Y.jsxs("div",{style:{marginBottom:"1rem"},children:[Y.jsx("strong",{style:{color:"#e0e7ff"},children:"Phone:"}),Y.jsx("span",{style:{color:"#fff",marginLeft:"8px"},children:r.phone})]}),Y.jsxs("div",{style:{marginBottom:"1rem"},children:[Y.jsx("strong",{style:{color:"#e0e7ff"},children:"Branch:"}),Y.jsx("span",{style:{color:"#fff",marginLeft:"8px"},children:r.branch})]}),Y.jsxs("div",{style:{marginBottom:"1rem"},children:[Y.jsx("strong",{style:{color:"#e0e7ff"},children:"Role:"}),Y.jsx("span",{style:{color:"#fff",marginLeft:"8px",textTransform:"capitalize"},children:r.role})]}),Y.jsxs("div",{style:{marginBottom:"1rem"},children:[Y.jsx("strong",{style:{color:"#e0e7ff"},children:"Registered:"}),Y.jsx("span",{style:{color:"#fff",marginLeft:"8px"},children:r.registeredAt?new Date(r.registeredAt.seconds*1e3).toLocaleDateString():"N/A"})]}),r.imageUrl&&Y.jsx("div",{style:{textAlign:"center",marginTop:"1rem"},children:Y.jsx("img",{src:r.imageUrl,alt:"Profile",style:{width:"120px",height:"120px",borderRadius:"50%",objectFit:"cover",border:"3px solid #61dafb",boxShadow:"0 0 16px #61dafb55"}})})]}),Y.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"center",marginBottom:"1rem"},children:[Y.jsx("button",{className:"landing-btn",onClick:()=>I("checkin"),children:"Check In"}),Y.jsx("button",{className:"landing-btn",onClick:()=>I("checkout"),children:"Check Out"})]}),f&&Y.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",marginBottom:"1rem"},children:[Y.jsx("video",{ref:b,style:{width:220,height:220,borderRadius:"50%",objectFit:"cover",background:"#222"},autoPlay:!0,playsInline:!0}),Y.jsx("button",{className:"landing-btn",onClick:ie,style:{marginTop:"1rem"},children:"Capture Photo"}),Y.jsx("canvas",{ref:w,style:{display:"none"},width:"640",height:"480"})]}),p&&Y.jsx("div",{style:{color:"#ff6b6b",marginBottom:"1rem",textAlign:"center"},children:p}),B&&Y.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:Y.jsxs("div",{style:{background:pt==="success"?"linear-gradient(135deg, #61dafb 0%, #646cff 100%)":pt==="warning"?"linear-gradient(135deg, #ffa726 0%, #ff7043 100%)":"linear-gradient(135deg, #f44336 0%, #d32f2f 100%)",padding:"2rem",borderRadius:"12px",maxWidth:"400px",textAlign:"center",boxShadow:"0 8px 32px rgba(0,0,0,0.3)",border:"2px solid rgba(255,255,255,0.2)"},children:[Y.jsx("h3",{style:{color:"#fff",marginBottom:"1rem",fontSize:"1.5rem",fontWeight:"bold"},children:pt==="success"?" SUCCESS":pt==="warning"?" WARNING":" ERROR"}),Y.jsx("p",{style:{color:"#fff",fontSize:"1.1rem",lineHeight:"1.5",marginBottom:"1.5rem"},children:et}),Y.jsx("button",{className:"landing-btn",onClick:()=>nt(!1),style:{background:"rgba(255,255,255,0.2)",color:"#fff",border:"1px solid rgba(255,255,255,0.3)"},children:"OK"})]})}),Y.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"center"},children:[Y.jsx("button",{className:"landing-btn",onClick:M,children:"Logout"}),Y.jsx("button",{className:"landing-btn",onClick:()=>window.location.href="/next-gen-attendance/",children:"Home"})]})]})]}):Y.jsx("div",{className:"landing-container",children:Y.jsxs("div",{className:"landing-header",children:[Y.jsx("h1",{children:"Access Denied"}),Y.jsx("p",{className:"landing-description",children:"Please login to access your dashboard."}),Y.jsx("button",{className:"landing-btn",onClick:()=>window.location.href="/next-gen-attendance/login",children:"Go to Login"})]})})}dA.createRoot(document.getElementById("root")).render(Y.jsx(aA.StrictMode,{children:Y.jsx(CS,{children:Y.jsxs(rS,{children:[Y.jsx(ul,{path:"/",element:Y.jsx(LS,{})}),Y.jsx(ul,{path:"/register",element:Y.jsx(OD,{})}),Y.jsx(ul,{path:"/login",element:Y.jsx(MD,{})}),Y.jsx(ul,{path:"/dashboard",element:Y.jsx(PD,{})})]})})}));
